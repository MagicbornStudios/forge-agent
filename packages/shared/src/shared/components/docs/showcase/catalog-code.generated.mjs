/** Generated by scripts/generate-showcase-code.mjs - do not edit */

export const SHOWCASE_CODE_BY_DEMO_ID = {
  "accordion-demo": [
    {
      "path": "registry/atoms/accordion-demo/AccordionDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport * as React from 'react';\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function AccordionDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <ui.Accordion type=\"single\" collapsible className=\"w-full\">\n        <ui.AccordionItem value=\"item-1\">\n          <ui.AccordionTrigger>What ships in this release?</ui.AccordionTrigger>\n          <ui.AccordionContent>\n            Bug fixes, performance improvements, and the new Accordion component.\n          </ui.AccordionContent>\n        </ui.AccordionItem>\n        <ui.AccordionItem value=\"item-2\">\n          <ui.AccordionTrigger>How do I install?</ui.AccordionTrigger>\n          <ui.AccordionContent>\n            Run <code className=\"rounded bg-muted px-1 py-0.5 text-xs\">pnpm install</code> from the\n            project root.\n          </ui.AccordionContent>\n        </ui.AccordionItem>\n      </ui.Accordion>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/accordion-demo/AccordionDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport * as React from 'react';\nimport { ui } from '@forge/dev-kit';\nexport function AccordionDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <ui.Accordion type=\"single\" collapsible className=\"w-full\">\n        <ui.AccordionItem value=\"item-1\">\n          <ui.AccordionTrigger>What ships in this release?</ui.AccordionTrigger>\n          <ui.AccordionContent>\n            Bug fixes, performance improvements, and the new Accordion component.\n          </ui.AccordionContent>\n        </ui.AccordionItem>\n        <ui.AccordionItem value=\"item-2\">\n          <ui.AccordionTrigger>How do I install?</ui.AccordionTrigger>\n          <ui.AccordionContent>\n            Run <code className=\"rounded bg-muted px-1 py-0.5 text-xs\">pnpm install</code> from the\n            project root.\n          </ui.AccordionContent>\n        </ui.AccordionItem>\n      </ui.Accordion>\n    </div>\n  );\n}\n"
    }
  ],
  "theme-switcher-demo": [
    {
      "path": "registry/atoms/theme-switcher-demo/ThemeSwitcherDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport * as React from 'react';\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function ThemeSwitcherDemo() {\n  const [theme, setTheme] = React.useState<'light' | 'dark'>('dark');\n  return (\n    <ShowcaseDemoSurface>\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center gap-2\">\n          <ui.Badge variant=\"outline\">Theme</ui.Badge>\n          <ui.Button\n            size=\"sm\"\n            variant={theme === 'light' ? 'default' : 'outline'}\n            onClick={() => setTheme('light')}\n          >\n            Light\n          </ui.Button>\n          <ui.Button\n            size=\"sm\"\n            variant={theme === 'dark' ? 'default' : 'outline'}\n            onClick={() => setTheme('dark')}\n          >\n            Dark\n          </ui.Button>\n        </div>\n        <p className=\"text-xs text-muted-foreground\">Selected theme: {theme}</p>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/theme-switcher-demo/ThemeSwitcherDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport * as React from 'react';\nimport { ui } from '@forge/dev-kit';\nexport function ThemeSwitcherDemo() {\n  const [theme, setTheme] = React.useState<'light' | 'dark'>('dark');\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center gap-2\">\n          <ui.Badge variant=\"outline\">Theme</ui.Badge>\n          <ui.Button\n            size=\"sm\"\n            variant={theme === 'light' ? 'default' : 'outline'}\n            onClick={() => setTheme('light')}\n          >\n            Light\n          </ui.Button>\n          <ui.Button\n            size=\"sm\"\n            variant={theme === 'dark' ? 'default' : 'outline'}\n            onClick={() => setTheme('dark')}\n          >\n            Dark\n          </ui.Button>\n        </div>\n        <p className=\"text-xs text-muted-foreground\">Selected theme: {theme}</p>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "density-demo": [
    {
      "path": "registry/atoms/density-demo/DensityDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function DensityDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        <div data-density=\"compact\" className=\"space-y-2 rounded-md border bg-background p-3\">\n          <p className=\"text-xs font-medium uppercase tracking-wide text-muted-foreground\">Compact</p>\n          <ui.Button size=\"sm\">Save</ui.Button>\n          <ui.Input placeholder=\"Compact input\" />\n        </div>\n        <div data-density=\"comfortable\" className=\"space-y-2 rounded-md border bg-background p-3\">\n          <p className=\"text-xs font-medium uppercase tracking-wide text-muted-foreground\">Comfortable</p>\n          <ui.Button>Save</ui.Button>\n          <ui.Input placeholder=\"Comfortable input\" />\n        </div>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/density-demo/DensityDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function DensityDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        <div data-density=\"compact\" className=\"space-y-2 rounded-md border bg-background p-3\">\n          <p className=\"text-xs font-medium uppercase tracking-wide text-muted-foreground\">Compact</p>\n          <ui.Button size=\"sm\">Save</ui.Button>\n          <ui.Input placeholder=\"Compact input\" />\n        </div>\n        <div data-density=\"comfortable\" className=\"space-y-2 rounded-md border bg-background p-3\">\n          <p className=\"text-xs font-medium uppercase tracking-wide text-muted-foreground\">Comfortable</p>\n          <ui.Button>Save</ui.Button>\n          <ui.Input placeholder=\"Comfortable input\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "badge-demo": [
    {
      "path": "registry/atoms/badge-demo/BadgeDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function BadgeDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <div className=\"flex flex-wrap gap-2\">\n        <ui.Badge>Default</ui.Badge>\n        <ui.Badge variant=\"secondary\">Secondary</ui.Badge>\n        <ui.Badge variant=\"outline\">Outline</ui.Badge>\n        <ui.Badge variant=\"destructive\">Destructive</ui.Badge>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/badge-demo/BadgeDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function BadgeDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"flex flex-wrap gap-2\">\n        <ui.Badge>Default</ui.Badge>\n        <ui.Badge variant=\"secondary\">Secondary</ui.Badge>\n        <ui.Badge variant=\"outline\">Outline</ui.Badge>\n        <ui.Badge variant=\"destructive\">Destructive</ui.Badge>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "button-demo": [
    {
      "path": "registry/atoms/button-demo/ButtonDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function ButtonDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <div className=\"flex flex-wrap gap-2\">\n        <ui.Button>Default</ui.Button>\n        <ui.Button variant=\"secondary\">Secondary</ui.Button>\n        <ui.Button variant=\"outline\">Outline</ui.Button>\n        <ui.Button variant=\"ghost\">Ghost</ui.Button>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/button-demo/ButtonDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function ButtonDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"flex flex-wrap gap-2\">\n        <ui.Button>Default</ui.Button>\n        <ui.Button variant=\"secondary\">Secondary</ui.Button>\n        <ui.Button variant=\"outline\">Outline</ui.Button>\n        <ui.Button variant=\"ghost\">Ghost</ui.Button>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "card-demo": [
    {
      "path": "registry/atoms/card-demo/CardDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function CardDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <ui.Card className=\"max-w-sm\">\n        <ui.CardHeader>\n          <ui.CardTitle>Card title</ui.CardTitle>\n          <ui.CardDescription>Reusable content shell.</ui.CardDescription>\n        </ui.CardHeader>\n        <ui.CardContent>\n          <p className=\"text-sm text-muted-foreground\">Main content goes here.</p>\n        </ui.CardContent>\n      </ui.Card>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/card-demo/CardDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function CardDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <ui.Card className=\"max-w-sm\">\n        <ui.CardHeader>\n          <ui.CardTitle>Card title</ui.CardTitle>\n          <ui.CardDescription>Reusable content shell.</ui.CardDescription>\n        </ui.CardHeader>\n        <ui.CardContent>\n          <p className=\"text-sm text-muted-foreground\">Main content goes here.</p>\n        </ui.CardContent>\n      </ui.Card>\n    </div>\n  );\n}\n"
    }
  ],
  "dialog-demo": [
    {
      "path": "registry/atoms/dialog-demo/DialogDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function DialogDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <ui.Dialog>\n        <ui.DialogTrigger asChild>\n          <ui.Button variant=\"outline\">Open dialog</ui.Button>\n        </ui.DialogTrigger>\n        <ui.DialogContent>\n          <ui.DialogHeader>\n            <ui.DialogTitle>Dialog title</ui.DialogTitle>\n            <ui.DialogDescription>A short description for dialog content.</ui.DialogDescription>\n          </ui.DialogHeader>\n        </ui.DialogContent>\n      </ui.Dialog>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/dialog-demo/DialogDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function DialogDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <ui.Dialog>\n        <ui.DialogTrigger asChild>\n          <ui.Button variant=\"outline\">Open dialog</ui.Button>\n        </ui.DialogTrigger>\n        <ui.DialogContent>\n          <ui.DialogHeader>\n            <ui.DialogTitle>Dialog title</ui.DialogTitle>\n            <ui.DialogDescription>A short description for dialog content.</ui.DialogDescription>\n          </ui.DialogHeader>\n        </ui.DialogContent>\n      </ui.Dialog>\n    </div>\n  );\n}\n"
    }
  ],
  "dropdown-menu-demo": [
    {
      "path": "registry/atoms/dropdown-menu-demo/DropdownMenuDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function DropdownMenuDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <ui.DropdownMenu>\n        <ui.DropdownMenuTrigger asChild>\n          <ui.Button variant=\"outline\">Open menu</ui.Button>\n        </ui.DropdownMenuTrigger>\n        <ui.DropdownMenuContent>\n          <ui.DropdownMenuItem>New file</ui.DropdownMenuItem>\n          <ui.DropdownMenuItem>Open</ui.DropdownMenuItem>\n          <ui.DropdownMenuItem>Save</ui.DropdownMenuItem>\n        </ui.DropdownMenuContent>\n      </ui.DropdownMenu>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/dropdown-menu-demo/DropdownMenuDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function DropdownMenuDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <ui.DropdownMenu>\n        <ui.DropdownMenuTrigger asChild>\n          <ui.Button variant=\"outline\">Open menu</ui.Button>\n        </ui.DropdownMenuTrigger>\n        <ui.DropdownMenuContent>\n          <ui.DropdownMenuItem>New file</ui.DropdownMenuItem>\n          <ui.DropdownMenuItem>Open</ui.DropdownMenuItem>\n          <ui.DropdownMenuItem>Save</ui.DropdownMenuItem>\n        </ui.DropdownMenuContent>\n      </ui.DropdownMenu>\n    </div>\n  );\n}\n"
    }
  ],
  "input-demo": [
    {
      "path": "registry/atoms/input-demo/InputDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function InputDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <div className=\"flex max-w-sm flex-col gap-3\">\n        <ui.Input placeholder=\"Enter text...\" />\n        <ui.Input type=\"email\" placeholder=\"name@example.com\" />\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/input-demo/InputDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function InputDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"flex max-w-sm flex-col gap-3\">\n        <ui.Input placeholder=\"Enter text...\" />\n        <ui.Input type=\"email\" placeholder=\"name@example.com\" />\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "label-demo": [
    {
      "path": "registry/atoms/label-demo/LabelDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function LabelDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <div className=\"grid max-w-sm gap-2\">\n        <ui.Label htmlFor=\"docs-label-demo\">Email</ui.Label>\n        <ui.Input id=\"docs-label-demo\" type=\"email\" placeholder=\"name@example.com\" />\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/label-demo/LabelDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function LabelDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"grid max-w-sm gap-2\">\n        <ui.Label htmlFor=\"docs-label-demo\">Email</ui.Label>\n        <ui.Input id=\"docs-label-demo\" type=\"email\" placeholder=\"name@example.com\" />\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "select-demo": [
    {
      "path": "registry/atoms/select-demo/SelectDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function SelectDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <ui.Select defaultValue=\"apple\">\n        <ui.SelectTrigger className=\"w-[180px]\">\n          <ui.SelectValue placeholder=\"Choose fruit\" />\n        </ui.SelectTrigger>\n        <ui.SelectContent>\n          <ui.SelectItem value=\"apple\">Apple</ui.SelectItem>\n          <ui.SelectItem value=\"banana\">Banana</ui.SelectItem>\n          <ui.SelectItem value=\"cherry\">Cherry</ui.SelectItem>\n        </ui.SelectContent>\n      </ui.Select>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/select-demo/SelectDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function SelectDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <ui.Select defaultValue=\"apple\">\n        <ui.SelectTrigger className=\"w-[180px]\">\n          <ui.SelectValue placeholder=\"Choose fruit\" />\n        </ui.SelectTrigger>\n        <ui.SelectContent>\n          <ui.SelectItem value=\"apple\">Apple</ui.SelectItem>\n          <ui.SelectItem value=\"banana\">Banana</ui.SelectItem>\n          <ui.SelectItem value=\"cherry\">Cherry</ui.SelectItem>\n        </ui.SelectContent>\n      </ui.Select>\n    </div>\n  );\n}\n"
    }
  ],
  "switch-demo": [
    {
      "path": "registry/atoms/switch-demo/SwitchDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport * as React from 'react';\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function SwitchDemo() {\n  const [checked, setChecked] = React.useState(false);\n  return (\n    <ShowcaseDemoSurface>\n      <div className=\"flex items-center gap-2\">\n        <ui.Switch id=\"docs-switch-demo\" checked={checked} onCheckedChange={setChecked} />\n        <ui.Label htmlFor=\"docs-switch-demo\">{checked ? 'On' : 'Off'}</ui.Label>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/switch-demo/SwitchDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport * as React from 'react';\nimport { ui } from '@forge/dev-kit';\nexport function SwitchDemo() {\n  const [checked, setChecked] = React.useState(false);\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"flex items-center gap-2\">\n        <ui.Switch id=\"docs-switch-demo\" checked={checked} onCheckedChange={setChecked} />\n        <ui.Label htmlFor=\"docs-switch-demo\">{checked ? 'On' : 'Off'}</ui.Label>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "tabs-demo": [
    {
      "path": "registry/atoms/tabs-demo/TabsDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function TabsDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <ui.Tabs defaultValue=\"tab1\" className=\"w-full\">\n        <ui.TabsList>\n          <ui.TabsTrigger value=\"tab1\">Tab 1</ui.TabsTrigger>\n          <ui.TabsTrigger value=\"tab2\">Tab 2</ui.TabsTrigger>\n          <ui.TabsTrigger value=\"tab3\">Tab 3</ui.TabsTrigger>\n        </ui.TabsList>\n        <ui.TabsContent value=\"tab1\" className=\"rounded border border-border p-4\">\n          Content for tab 1\n        </ui.TabsContent>\n        <ui.TabsContent value=\"tab2\" className=\"rounded border border-border p-4\">\n          Content for tab 2\n        </ui.TabsContent>\n        <ui.TabsContent value=\"tab3\" className=\"rounded border border-border p-4\">\n          Content for tab 3\n        </ui.TabsContent>\n      </ui.Tabs>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/atoms/tabs-demo/TabsDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function TabsDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <ui.Tabs defaultValue=\"tab1\" className=\"w-full\">\n        <ui.TabsList>\n          <ui.TabsTrigger value=\"tab1\">Tab 1</ui.TabsTrigger>\n          <ui.TabsTrigger value=\"tab2\">Tab 2</ui.TabsTrigger>\n          <ui.TabsTrigger value=\"tab3\">Tab 3</ui.TabsTrigger>\n        </ui.TabsList>\n        <ui.TabsContent value=\"tab1\" className=\"rounded border border-border p-4\">\n          Content for tab 1\n        </ui.TabsContent>\n        <ui.TabsContent value=\"tab2\" className=\"rounded border border-border p-4\">\n          Content for tab 2\n        </ui.TabsContent>\n        <ui.TabsContent value=\"tab3\" className=\"rounded border border-border p-4\">\n          Content for tab 3\n        </ui.TabsContent>\n      </ui.Tabs>\n    </div>\n  );\n}\n"
    }
  ],
  "editor-shell-demo": [
    {
      "path": "registry/molecules/editor-shell-demo/README.md",
      "language": "md",
      "code": "The outermost container for every editor in the Forge platform. Sets theme context, density, domain scoping, and provides the flex layout skeleton.\n\n## Overview\n\n`EditorShell` is the root component that wraps every editor (Dialogue, Character, Video, etc.). It establishes:\n\n- **Data attributes** for CSS theming (`data-editor-id`, `data-domain`, `data-theme`, `data-density`)\n- **Flex layout skeleton** (toolbar → content → status bar)\n- **Slot-based composition** for structured editor shells\n- **Theme context** for domain-specific color schemes\n\n**Every editor starts with EditorShell.** It replaces the legacy `WorkspaceShell` and provides a cleaner, more declarative API.\n\n## Installation\n\n```bash\nnpm install @forge/dev-kit\n```\n\nImport:\n\n```tsx\n```\n\n## Basic Usage\n\n```tsx\n<EditorShell\n  editorId=\"dialogue\"\n  title=\"Dialogue Editor\"\n  domain=\"dialogue\"\n  theme=\"dark\"\n  density=\"comfortable\"\n>\n  <EditorToolbar>...</EditorToolbar>\n  <DockLayout>...</DockLayout>\n  <EditorStatusBar>Ready</EditorStatusBar>\n</EditorShell>\n```\n\n## Props API\n\n| Prop | Type | Default | Description |\n|------|------|---------|-------------|\n| `editorId` | `string` | - | **Critical.** Unique editor identifier (e.g., 'dialogue', 'character'). Sets `data-editor-id` for settings resolution, copilot context, and CSS scoping. |\n| `title` | `string` | **Required** | Display name for the editor. Used in accessibility labels. |\n| `subtitle` | `string` | - | Optional subtitle (e.g., active document name, \"Untitled Graph\"). |\n| `domain` | `string` | - | Domain context for theming. Sets `data-domain` attribute for CSS variable scoping (e.g., `--graph-node-*` colors). |\n| `theme` | `string` | - | Theme override. Sets `data-theme` attribute (`'dark'`, `'light'`, `'system'`). Read from settings store in practice. |\n| `density` | `'compact' \\| 'comfortable' \\| string` | - | Density override. Sets `data-density` attribute to adjust spacing/sizing. |\n| `className` | `string` | - | Additional Tailwind classes for the root element. |\n| `children` | `React.ReactNode` | - | Either raw children (legacy) or slot components (recommended). |\n\n## Slot-Based Composition (Recommended)\n\nWhen using slot components, content renders in **fixed order** with layout applied automatically:\n\n```tsx\n<EditorShell editorId=\"dialogue\" title=\"Dialogue\" domain=\"dialogue\">\n  <EditorShell.Header>\n    {/* Optional header content (rarely used) */}\n  </EditorShell.Header>\n\n  <EditorShell.Toolbar>\n    <EditorToolbar>...</EditorToolbar>\n  </EditorShell.Toolbar>\n\n  <EditorShell.Layout>\n    <EditorDockLayout>...</EditorDockLayout>\n  </EditorShell.Layout>\n\n  <EditorShell.StatusBar>\n    <EditorStatusBar>Ready</EditorStatusBar>\n  </EditorShell.StatusBar>\n\n  <EditorShell.Overlay>\n    <EditorOverlaySurface ... />\n  </EditorShell.Overlay>\n\n  <EditorShell.Settings>\n    {/* Optional settings panel (rarely used) */}\n  </EditorShell.Settings>\n</EditorShell>\n```\n\n### Slot Order & Layout\n\nSlots render in this order:\n\n1. **Header** (optional) — Top of editor, above toolbar\n2. **Toolbar + Settings** (single row) — Toolbar on left, settings trigger on right\n3. **Layout** (flex-1, min-h-0) — Main content area (DockLayout)\n4. **StatusBar** (optional) — Bottom status strip\n5. **Overlay** (portal) — Modals/drawers\n\n**Important:** When using slots, only slot content is rendered. Non-slot children are ignored.\n\n## Real-World Example: TaskEditor\n\nExample showing a complete task management editor:\n\n```tsx\nimport { EditorShell, EditorToolbar, EditorDockLayout, EditorDockPanel, EditorStatusBar } from '@forge/dev-kit';\nexport function TaskEditor() {\n  const [tasks, setTasks] = useState([]);\n  const [activeTask, setActiveTask] = useState(null);\n\n  return (\n    <EditorShell\n      editorId=\"tasks\"\n      title=\"Task Manager\"\n      subtitle={activeTask?.title}\n      domain=\"tasks\"\n      className=\"bg-canvas\"\n    >\n      <EditorToolbar className=\"bg-sidebar border-b border-sidebar-border\">\n        <EditorToolbar.Left>\n          <Badge variant=\"secondary\">{tasks.length} tasks</Badge>\n        </EditorToolbar.Left>\n        <EditorToolbar.Right>\n          <Button onClick={() => createTask()}>\n            New Task\n          </Button>\n        </EditorToolbar.Right>\n      </EditorToolbar>\n\n      <EditorDockLayout\n        layoutId=\"tasks-layout\"\n        leftDefaultSize={20}\n        rightDefaultSize={25}\n      >\n        <EditorDockLayout.Left>\n          <EditorDockPanel panelId=\"task-list\" title=\"Tasks\">\n            {/* Task list */}\n          </EditorDockPanel>\n        </EditorDockLayout.Left>\n\n        <EditorDockLayout.Main>\n          <EditorDockPanel panelId=\"task-editor\" title=\"Editor\">\n            {/* Task editor */}\n          </EditorDockPanel>\n        </EditorDockLayout.Main>\n\n        <EditorDockLayout.Right>\n          <EditorDockPanel panelId=\"task-props\" title=\"Properties\">\n            {/* Properties panel */}\n          </EditorDockPanel>\n        </EditorDockLayout.Right>\n      </EditorDockLayout>\n\n      <EditorStatusBar>\n        {activeTask ? `Editing: ${activeTask.title}` : 'Ready'}\n      </EditorStatusBar>\n    </EditorShell>\n  );\n}\n```\n\n## Data Attributes & CSS Scoping\n\n`EditorShell` sets these attributes for theming:\n\n```html\n<div\n  data-editor-id=\"dialogue\"\n  data-domain=\"dialogue\"\n  data-theme=\"dark\"\n  data-density=\"comfortable\"\n  aria-label=\"Dialogue Editor - Main Graph\"\n>\n  ...\n</div>\n```\n\n### CSS Variable Scoping\n\nUse data attributes to scope CSS variables:\n\n```css\n/* Global defaults */\n:root {\n  --graph-node-page-bg: hsl(220 20% 25%);\n  --graph-node-page-border: hsl(220 70% 60%);\n}\n\n/* Dialogue domain overrides */\n[data-domain=\"dialogue\"] {\n  --graph-node-page-bg: hsl(220 30% 30%);\n  --graph-node-page-border: hsl(220 80% 65%);\n}\n\n/* Character domain overrides */\n[data-domain=\"character\"] {\n  --graph-node-page-bg: hsl(280 30% 30%);\n  --graph-node-page-border: hsl(280 80% 65%);\n}\n\n/* Density adjustments */\n[data-density=\"compact\"] {\n  --control-padding-y: 0.25rem;\n  --control-gap: 0.25rem;\n}\n\n[data-density=\"comfortable\"] {\n  --control-padding-y: 0.5rem;\n  --control-gap: 0.5rem;\n}\n```\n\n## Integration with Settings Store\n\nIn practice, `theme` and `density` come from the settings store:\n\n```tsx\nfunction MyEditor() {\n  const editorId = 'my-editor';\n\n  const editorTheme = useSettingsStore((s) =>\n    s.getSettingValue('ui.theme', { editorId })\n  ) as string | undefined;\n\n  const editorDensity = useSettingsStore((s) =>\n    s.getSettingValue('ui.density', { editorId })\n  ) as string | undefined;\n\n  return (\n    <EditorShell\n      editorId={editorId}\n      title=\"My Editor\"\n      theme={editorTheme}\n      density={editorDensity}\n    >\n      {/* ... */}\n    </EditorShell>\n  );\n}\n```\n\n## Accessibility\n\n- Sets `aria-label` combining `title` and `subtitle` (`\"Dialogue Editor - Main Graph\"`)\n- `role=\"toolbar\"` on EditorToolbar (when child of EditorShell)\n- All interactive elements should have accessible labels\n\n## Advanced Patterns\n\n### Conditional Slot Content\n\n```tsx\n<EditorShell editorId=\"video\" title=\"Video\">\n  <EditorShell.Toolbar>\n    <EditorToolbar>...</EditorToolbar>\n  </EditorShell.Toolbar>\n\n  <EditorShell.Layout>\n    <EditorDockLayout>...</EditorDockLayout>\n  </EditorShell.Layout>\n\n  {/* Conditionally render status bar */}\n  {showStatus && (\n    <EditorShell.StatusBar>\n      <EditorStatusBar>{status}</EditorStatusBar>\n    </EditorShell.StatusBar>\n  )}\n</EditorShell>\n```\n\n### Multiple Domains in One Editor\n\nFor multi-viewport editors (like Dialogue with narrative + storylet):\n\n```tsx\n<EditorShell\n  editorId=\"dialogue\"\n  title=\"Dialogue\"\n  domain=\"dialogue\"\n>\n  <EditorDockLayout>\n    <EditorDockLayout.Main>\n      <div data-editor-scope=\"narrative\">\n        {/* Narrative viewport */}\n      </div>\n      <div data-editor-scope=\"storylet\">\n        {/* Storylet viewport */}\n      </div>\n    </EditorDockLayout.Main>\n  </EditorDockLayout>\n</EditorShell>\n```\n\nScope-specific styles:\n\n```css\n[data-editor-scope=\"narrative\"] {\n  --graph-accent: hsl(210 80% 60%);\n}\n\n[data-editor-scope=\"storylet\"] {\n  --graph-accent: hsl(30 80% 60%);\n}\n```\n\n## TypeScript Interface\n\n```tsx\nexport interface EditorShellProps {\n  editorId?: string;\n  title: string;\n  subtitle?: string;\n  domain?: string;\n  theme?: string;\n  density?: 'compact' | 'comfortable' | string;\n  className?: string;\n  children?: React.ReactNode;\n}\n```\n\n## Common Patterns\n\n### Pattern: Minimal Editor Shell\n\n```tsx\n<EditorShell editorId=\"simple\" title=\"Simple Editor\">\n  <EditorToolbar>\n    <EditorToolbar.Left>\n      <span>Simple Editor</span>\n    </EditorToolbar.Left>\n  </EditorToolbar>\n\n  <div className=\"flex-1 p-4\">\n    {/* Your editor content */}\n  </div>\n</EditorShell>\n```\n\n### Pattern: Full-Featured Editor Shell\n\n```tsx\n<EditorShell\n  editorId=\"full\"\n  title=\"Full Editor\"\n  subtitle={documentName}\n  domain=\"custom\"\n  theme={theme}\n  density={density}\n  className=\"bg-canvas\"\n>\n  <EditorToolbar className=\"bg-sidebar border-b\">\n    <EditorToolbar.Left>\n      <EditorToolbar.Menubar menus={menus} />\n      <EditorToolbar.Separator />\n      <span className=\"text-xs text-muted-foreground\">{statusText}</span>\n    </EditorToolbar.Left>\n    <EditorToolbar.Right>\n      <EditorToolbar.Button onClick={onSave}>Save</EditorToolbar.Button>\n    </EditorToolbar.Right>\n  </EditorToolbar>\n\n  <EditorReviewBar\n    visible={hasPendingChanges}\n    onRevert={onRevert}\n    onAccept={onAccept}\n  />\n\n  <EditorDockLayout layoutId=\"full-editor\" leftDefaultSize={20} rightDefaultSize={25}>\n    <EditorDockLayout.Left>\n      <EditorDockPanel panelId=\"nav\" title=\"Navigator\">\n        {/* Navigator content */}\n      </EditorDockPanel>\n    </EditorDockLayout.Left>\n    <EditorDockLayout.Main>\n      <EditorDockPanel panelId=\"main\" title=\"Main\">\n        {/* Main viewport */}\n      </EditorDockPanel>\n    </EditorDockLayout.Main>\n    <EditorDockLayout.Right>\n      <EditorDockPanel panelId=\"props\" title=\"Properties\">\n        <EditorInspector selection={selection} sections={sections} />\n      </EditorDockPanel>\n    </EditorDockLayout.Right>\n  </EditorDockLayout>\n\n  <EditorStatusBar>\n    {isDirty ? 'Unsaved changes' : 'Ready'}\n  </EditorStatusBar>\n\n  <EditorOverlaySurface\n    overlays={overlays}\n    activeOverlay={activeOverlay}\n    onDismiss={dismissOverlay}\n  />\n</EditorShell>\n```\n\n## Related Components\n\n- [EditorToolbar](./editor-toolbar) — Toolbar with menubar, buttons, separators\n- [EditorDockLayout](./dock-layout) — Resizable panel layout\n- [EditorStatusBar](./editor-status-bar.mdx) — Bottom status strip\n- [EditorOverlaySurface](./editor-overlay-surface.mdx) — Modal system\n- [EditorReviewBar](./editor-review-bar.mdx) — Change review bar for AI edits\n\n## Source Code\n\nLocation: `packages/shared/src/shared/components/editor/EditorShell.tsx`\n\n## Migration from WorkspaceShell\n\n| Old (WorkspaceShell) | New (EditorShell) |\n|---------------------|-------------------|\n| `workspaceId` | `editorId` |\n| No slot system | Slot components (`.Toolbar`, `.Layout`, etc.) |\n| Manual layout management | Automatic flex layout via slots |\n| No density support | `density` prop + CSS variables |\n\n## Best Practices\n\n1. **Always set `editorId`** — Required for settings, AI context, and CSS scoping\n2. **Use slot composition** — More maintainable than raw children\n3. **Pull theme/density from settings** — Don't hardcode values\n4. **Set domain for themed editors** — Enables domain-specific color schemes\n5. **Use className sparingly** — Prefer CSS variables over Tailwind overrides"
    },
    {
      "path": "registry/molecules/editor-shell-demo/EditorShellDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport {\n  EditorDockLayout,\n  EditorDockPanel,\n  EditorShell,\n  EditorStatusBar,\n  EditorToolbar,\n} from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function EditorShellDemo() {\n  return (\n    <ShowcaseDemoSurface className=\"h-[520px] p-0\">\n      <EditorShell editorId=\"demo-editor\" title=\"Demo Editor\" domain=\"demo\" className=\"h-full\">\n        <EditorShell.Toolbar>\n          <EditorToolbar className=\"border-b\">\n            <EditorToolbar.Left>\n              <span className=\"text-xs font-medium\">Demo Editor</span>\n            </EditorToolbar.Left>\n            <EditorToolbar.Right>\n              <ui.Button size=\"sm\" variant=\"outline\">\n                Save\n              </ui.Button>\n            </EditorToolbar.Right>\n          </EditorToolbar>\n        </EditorShell.Toolbar>\n        <EditorShell.Layout>\n          <EditorDockLayout layoutId=\"demo-layout\">\n            <EditorDockLayout.Left>\n              <EditorDockPanel panelId=\"left\" title=\"Navigator\">\n                <div className=\"p-3 text-xs text-muted-foreground\">Left rail content</div>\n              </EditorDockPanel>\n            </EditorDockLayout.Left>\n            <EditorDockLayout.Main>\n              <EditorDockPanel panelId=\"main\" title=\"Viewport\" scrollable={false}>\n                <div className=\"flex h-full min-h-[180px] items-center justify-center rounded-md border border-dashed text-xs text-muted-foreground\">\n                  Main content area\n                </div>\n              </EditorDockPanel>\n            </EditorDockLayout.Main>\n          </EditorDockLayout>\n        </EditorShell.Layout>\n        <EditorShell.StatusBar>\n          <EditorStatusBar>Ready</EditorStatusBar>\n        </EditorShell.StatusBar>\n      </EditorShell>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/editor-shell-demo/EditorShellDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport {\n  EditorDockLayout,\n  EditorDockPanel,\n  EditorShell,\n  EditorStatusBar,\n  EditorToolbar,\n} from '@forge/dev-kit';\nexport function EditorShellDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <EditorShell editorId=\"demo-editor\" title=\"Demo Editor\" domain=\"demo\" className=\"h-full\">\n        <EditorShell.Toolbar>\n          <EditorToolbar className=\"border-b\">\n            <EditorToolbar.Left>\n              <span className=\"text-xs font-medium\">Demo Editor</span>\n            </EditorToolbar.Left>\n            <EditorToolbar.Right>\n              <ui.Button size=\"sm\" variant=\"outline\">\n                Save\n              </ui.Button>\n            </EditorToolbar.Right>\n          </EditorToolbar>\n        </EditorShell.Toolbar>\n        <EditorShell.Layout>\n          <EditorDockLayout layoutId=\"demo-layout\">\n            <EditorDockLayout.Left>\n              <EditorDockPanel panelId=\"left\" title=\"Navigator\">\n                <div className=\"p-3 text-xs text-muted-foreground\">Left rail content</div>\n              </EditorDockPanel>\n            </EditorDockLayout.Left>\n            <EditorDockLayout.Main>\n              <EditorDockPanel panelId=\"main\" title=\"Viewport\" scrollable={false}>\n                <div className=\"flex h-full min-h-[180px] items-center justify-center rounded-md border border-dashed text-xs text-muted-foreground\">\n                  Main content area\n                </div>\n              </EditorDockPanel>\n            </EditorDockLayout.Main>\n          </EditorDockLayout>\n        </EditorShell.Layout>\n        <EditorShell.StatusBar>\n          <EditorStatusBar>Ready</EditorStatusBar>\n        </EditorShell.StatusBar>\n      </EditorShell>\n    </div>\n  );\n}\n"
    }
  ],
  "dock-layout-demo": [
    {
      "path": "registry/molecules/dock-layout-demo/README.md",
      "language": "md",
      "code": "# DockLayout (EditorDockLayout) Complete Reference\n\nThe resizable panel layout system for editors. Built on [dockview](https://github.com/mathuo/dockview), provides 2-pane, 3-pane, and 4-pane layouts with persistence, viewport scoping, and dynamic panel management.\n\n## Overview\n\n`EditorDockLayout` is the **layout engine** for editors. It replaces the old grid-based `WorkspaceLayoutGrid` with a powerful dockview-based system that supports:\n\n- **Resizable panels** with drag-to-resize\n- **Layout persistence** via localStorage or controlled state\n- **Slot-based composition** (`.Left`, `.Main`, `.Right`, `.Bottom`)\n- **Config-driven rails** for multi-panel tabs\n- **Viewport scoping** for settings resolution\n- **Dynamic panel visibility** (show/hide panels without destroying state)\n\n## Installation\n\n```bash\nnpm install @forge/dev-kit\n```\n\nImport:\n\n```tsx\nimport type { DockLayoutRef } from '@forge/dev-kit';\n```\n\n## Basic Usage: 2-Pane Layout\n\n```tsx\n<EditorDockLayout\n  layoutId=\"my-editor\"\n  leftDefaultSize={20}\n>\n  <EditorDockLayout.Left>\n    <EditorDockPanel panelId=\"nav\" title=\"Navigator\">\n      {/* Left sidebar content */}\n    </EditorDockPanel>\n  </EditorDockLayout.Left>\n\n  <EditorDockLayout.Main>\n    <EditorDockPanel panelId=\"viewport\" title=\"Viewport\">\n      {/* Main viewport */}\n    </EditorDockPanel>\n  </EditorDockLayout.Main>\n</EditorDockLayout>\n```\n\n## Props API\n\n| Prop | Type | Default | Description |\n|------|------|---------|-------------|\n| `layoutId` | `string` | - | **Critical.** Unique layout identifier for persistence. Sets localStorage key (`dockview-${layoutId}`). |\n| `left` | `React.ReactNode` | - | Legacy: Single left panel content. Use `.Left` slot instead. |\n| `main` | `React.ReactNode` | - | Legacy: Single main panel content. Use `.Main` slot instead. |\n| `right` | `React.ReactNode` | - | Legacy: Single right panel content. Use `.Right` slot instead. |\n| `bottom` | `React.ReactNode` | - | Legacy: Single bottom panel content. Use `.Bottom` slot instead. |\n| `leftPanels` | `RailPanelDescriptor[]` | - | Config-driven: Array of left rail panels (multi-tab). |\n| `mainPanels` | `RailPanelDescriptor[]` | - | Config-driven: Array of main panels (multi-tab). |\n| `rightPanels` | `RailPanelDescriptor[]` | - | Config-driven: Array of right rail panels (multi-tab). |\n| `bottomPanels` | `RailPanelDescriptor[]` | - | Config-driven: Array of bottom panels (multi-tab). |\n| `children` | `React.ReactNode` | - | **Recommended.** Slot components (`.Left`, `.Main`, `.Right`, `.Bottom`). |\n| `slots` | `{ left?, main?, right?, bottom? }` | - | Per-slot config: `{ title, icon }` for Dockview tab bars. |\n| `viewport` | `DockLayoutViewport` | - | Viewport metadata: `{ viewportId, viewportType, viewportScope }`. Sets `data-viewport-*` attributes. |\n| `leftDefaultSize` | `number` | `20` | Left panel default width (percentage, 0-100). |\n| `leftMinSize` | `number` | `10` | Left panel minimum width (percentage). |\n| `rightDefaultSize` | `number` | `25` | Right panel default width (percentage). |\n| `rightMinSize` | `number` | `10` | Right panel minimum width (percentage). |\n| `bottomDefaultSize` | `number` | `25` | Bottom panel default height (percentage). |\n| `bottomMinSize` | `number` | `10` | Bottom panel minimum height (percentage). |\n| `layoutJson` | `string \\| null` | - | Controlled layout state (JSON). When provided with `onLayoutChange` + `clearLayout`, layout is externally controlled. |\n| `onLayoutChange` | `(json: string) => void` | - | Controlled mode: Called when layout changes. Persist to database/store. |\n| `clearLayout` | `() => void` | - | Controlled mode: Called to reset layout. |\n| `onPanelClosed` | `(slotId: string) => void` | - | Called when user closes a panel (tab X). Sync View menu state. |\n| `className` | `string` | - | Additional classes for root element. |\n\n## Slot-Based Composition (Recommended)\n\n### 3-Pane Layout: Left | Main | Right\n\n```tsx\n<EditorDockLayout\n  layoutId=\"three-pane\"\n  leftDefaultSize={20}\n  rightDefaultSize={25}\n>\n  <EditorDockLayout.Left>\n    <EditorDockPanel panelId=\"navigator\" title=\"Navigator\">\n      {/* Navigator content */}\n    </EditorDockPanel>\n  </EditorDockLayout.Left>\n\n  <EditorDockLayout.Main>\n    <EditorDockPanel panelId=\"viewport\" title=\"Viewport\" scrollable={false}>\n      {/* Canvas/Flow viewport */}\n    </EditorDockPanel>\n  </EditorDockLayout.Main>\n\n  <EditorDockLayout.Right>\n    <EditorDockPanel panelId=\"inspector\" title=\"Inspector\">\n      {/* Property inspector */}\n    </EditorDockPanel>\n  </EditorDockLayout.Right>\n</EditorDockLayout>\n```\n\n### 4-Pane Layout: Left | Main | Right | Bottom\n\n```tsx\n<EditorDockLayout\n  layoutId=\"four-pane\"\n  leftDefaultSize={20}\n  rightDefaultSize={25}\n  bottomDefaultSize={30}\n>\n  <EditorDockLayout.Left>\n    <EditorDockPanel panelId=\"files\" title=\"Files\">\n      {/* File tree */}\n    </EditorDockPanel>\n  </EditorDockLayout.Left>\n\n  <EditorDockLayout.Main>\n    <EditorDockPanel panelId=\"editor\" title=\"Editor\" scrollable={false}>\n      {/* Code editor */}\n    </EditorDockPanel>\n  </EditorDockLayout.Main>\n\n  <EditorDockLayout.Right>\n    <EditorDockPanel panelId=\"outline\" title=\"Outline\">\n      {/* Document outline */}\n    </EditorDockPanel>\n  </EditorDockLayout.Right>\n\n  <EditorDockLayout.Bottom>\n    <EditorDockPanel panelId=\"terminal\" title=\"Terminal\">\n      {/* Terminal panel */}\n    </EditorDockPanel>\n  </EditorDockLayout.Bottom>\n</EditorDockLayout>\n```\n\n## Multi-Panel Rails (Config-Driven)\n\nWhen a rail has multiple panels, they render as tabs. Use `.Panel` components within slots:\n\n```tsx\n<EditorDockLayout\n  layoutId=\"multi-panel\"\n  leftDefaultSize={20}\n  rightDefaultSize={25}\n>\n  <EditorDockLayout.Left>\n    <EditorDockLayout.Panel id=\"graphs\" title=\"Graphs\" icon={<BookOpen size={14} />}>\n      {/* Graphs list */}\n    </EditorDockLayout.Panel>\n    <EditorDockLayout.Panel id=\"nodes\" title=\"Nodes\" icon={<Boxes size={14} />}>\n      {/* Node palette */}\n    </EditorDockLayout.Panel>\n    <EditorDockLayout.Panel id=\"assets\" title=\"Assets\" icon={<Image size={14} />}>\n      {/* Asset library */}\n    </EditorDockLayout.Panel>\n  </EditorDockLayout.Left>\n\n  <EditorDockLayout.Main>\n    <EditorDockPanel panelId=\"main\" title=\"Main\">\n      {/* Main content */}\n    </EditorDockPanel>\n  </EditorDockLayout.Main>\n\n  <EditorDockLayout.Right>\n    <EditorDockLayout.Panel id=\"inspector\" title=\"Inspector\" icon={<ScanSearch size={14} />}>\n      {/* Property inspector */}\n    </EditorDockLayout.Panel>\n    <EditorDockLayout.Panel id=\"chat\" title=\"Chat\" icon={<MessageCircle size={14} />}>\n      {/* AI chat */}\n    </EditorDockLayout.Panel>\n  </EditorDockLayout.Right>\n</EditorDockLayout>\n```\n\n**First panel in each rail** is placed adjacent to main. **Subsequent panels** render as tabs within that rail.\n\n## Real-World Example: CharacterEditor\n\nFrom `apps/studio/components/editors/CharacterEditor.tsx`:\n\n```tsx\nconst layoutRef = useRef<DockLayoutRef>(null);\nconst CHARACTER_LAYOUT_ID = 'character-mode';\n\nconst handlePanelClosed = useCallback(\n  (slotId: string) => {\n    const spec = panelSpecs.find((p) => p.id === slotId);\n    if (spec) setPanelVisible(spec.key, false);\n  },\n  [panelSpecs, setPanelVisible]\n);\n\nreturn (\n  <EditorDockLayout\n    ref={layoutRef}\n    layoutId={CHARACTER_LAYOUT_ID}\n    viewport={{ viewportId, viewportType: 'react-flow' }}\n    slots={{ left: { title: 'Characters' }, main: { title: 'Graph' } }}\n    leftDefaultSize={20}\n    rightDefaultSize={25}\n    onPanelClosed={handlePanelClosed}\n  >\n    <EditorDockLayout.Left>\n      <EditorDockLayout.Panel id=\"left\" title=\"Characters\" icon={<BookOpen size={14} />}>\n        <EditorDockPanel panelId=\"character-navigator\" title=\"Characters\" scrollable={false} hideTitleBar>\n          <CharacterSidebar\n            characters={characters}\n            relationships={relationships}\n            activeCharacterId={activeCharacterId}\n            onSelectCharacter={(id) => setActiveCharacter(id)}\n            onCreateCharacter={() => openOverlay('create-character')}\n          />\n        </EditorDockPanel>\n      </EditorDockLayout.Panel>\n    </EditorDockLayout.Left>\n\n    <EditorDockLayout.Main>\n      <EditorDockLayout.Panel id=\"main\" title=\"Graph\" icon={<LayoutDashboard size={14} />}>\n        <RelationshipGraphEditor\n          characters={characters}\n          relationships={relationships}\n          activeCharacterId={activeCharacterId}\n          onCharacterSelect={(id) => setActiveCharacter(id)}\n        />\n      </EditorDockLayout.Panel>\n    </EditorDockLayout.Main>\n\n    <EditorDockLayout.Right>\n      <EditorDockLayout.Panel id=\"right\" title=\"Properties\" icon={<ScanSearch size={14} />}>\n        <EditorDockPanel panelId=\"character-properties\" title=\"Properties\" scrollable hideTitleBar>\n          <ActiveCharacterPanel\n            character={activeChar}\n            onUpdate={handleUpdateCharacter}\n          />\n        </EditorDockPanel>\n      </EditorDockLayout.Panel>\n      <EditorDockLayout.Panel id=\"chat\" title=\"Chat\" icon={<MessageCircle size={14} />}>\n        <div className=\"h-full min-h-0\">\n          <DialogueAssistantPanel\n            contract={characterAssistantContract}\n            toolsEnabled={toolsEnabled}\n          />\n        </div>\n      </EditorDockLayout.Panel>\n    </EditorDockLayout.Right>\n  </EditorDockLayout>\n);\n```\n\n## Real-World Example: DialogueEditor (Dual Viewports)\n\nFrom `apps/studio/components/editors/DialogueEditor.tsx`:\n\nShows two graph viewports (narrative + storylet) in the main panel:\n\n```tsx\n<EditorDockLayout\n  ref={layoutRef}\n  layoutId=\"dialogue-mode\"\n  viewport={{ viewportId, viewportType: 'react-flow' }}\n  slots={{ left: { title: 'Library' }, main: { title: 'Dialogue Graphs' } }}\n  onPanelClosed={handlePanelClosed}\n>\n  <EditorDockLayout.Left>\n    <EditorDockLayout.Panel id=\"left\" title=\"Library\" icon={<BookOpen size={14} />}>\n      <EditorDockPanel panelId=\"dialogue-left\" title=\"Library\" tabs={sidebarTabs} hideTitleBar />\n    </EditorDockLayout.Panel>\n  </EditorDockLayout.Left>\n\n  <EditorDockLayout.Main>\n    <EditorDockLayout.Panel id=\"main\" title=\"Dialogue Graphs\" icon={<LayoutDashboard size={14} />}>\n      <EditorDockPanel panelId=\"dialogue-main\" title=\"Dialogue Graphs\" hideTitleBar scrollable={false}>\n        <div className=\"flex h-full w-full flex-col gap-[var(--control-gap)] p-[var(--panel-padding)]\">\n          <ForgeGraphPanel\n            scope=\"narrative\"\n            graph={narrativeGraph}\n            label=\"Narrative\"\n            isActive={activeScope === 'narrative'}\n            onFocus={() => setActiveScope('narrative')}\n          />\n          <ForgeGraphPanel\n            scope=\"storylet\"\n            graph={storyletGraph}\n            label=\"Storylet\"\n            isActive={activeScope === 'storylet'}\n            onFocus={() => setActiveScope('storylet')}\n          />\n        </div>\n      </EditorDockPanel>\n    </EditorDockLayout.Panel>\n  </EditorDockLayout.Main>\n\n  <EditorDockLayout.Right>\n    <EditorDockLayout.Panel id=\"right\" title=\"Inspector\" icon={<ScanSearch size={14} />}>\n      <EditorDockPanel panelId=\"dialogue-right\" hideTitleBar>\n        <EditorInspector selection={activeSelection} sections={inspectorSections} />\n      </EditorDockPanel>\n    </EditorDockLayout.Panel>\n    <EditorDockLayout.Panel id=\"chat\" title=\"Chat\" icon={<MessageCircle size={14} />}>\n      <div className=\"h-full min-h-0\">\n        <DialogueAssistantPanel\n          contract={forgeAssistantContract}\n          toolsEnabled={toolsEnabled}\n        />\n      </div>\n    </EditorDockLayout.Panel>\n  </EditorDockLayout.Right>\n</EditorDockLayout>\n```\n\n## Layout Persistence\n\n### Automatic (localStorage)\n\nWhen `layoutId` is set, layout is automatically persisted to `localStorage`:\n\n```tsx\n<EditorDockLayout layoutId=\"my-editor\">\n  {/* ... */}\n</EditorDockLayout>\n```\n\nKey: `dockview-my-editor`\n\n### Controlled (Database/Store)\n\nFor server-side persistence or cross-device sync:\n\n```tsx\nconst [layoutJson, setLayoutJson] = useState<string | null>(null);\n\nconst handleLayoutChange = useCallback((json: string) => {\n  setLayoutJson(json);\n  // Save to database\n  saveToDB('layout-my-editor', json);\n}, []);\n\nconst handleClearLayout = useCallback(() => {\n  setLayoutJson(null);\n  // Clear from database\n  deleteFromDB('layout-my-editor');\n}, []);\n\n<EditorDockLayout\n  layoutId=\"my-editor\"\n  layoutJson={layoutJson}\n  onLayoutChange={handleLayoutChange}\n  clearLayout={handleClearLayout}\n>\n  {/* ... */}\n</EditorDockLayout>\n```\n\n## Reset Layout (Imperative API)\n\nUse ref to reset layout programmatically:\n\n```tsx\nconst layoutRef = useRef<DockLayoutRef>(null);\n\n// In View menu or settings\nconst handleResetLayout = () => {\n  layoutRef.current?.resetLayout();\n};\n\n<EditorDockLayout ref={layoutRef} layoutId=\"my-editor\">\n  {/* ... */}\n</EditorDockLayout>\n```\n\nThis clears persisted layout and restores default panels.\n\n## Viewport Scoping\n\nSet viewport metadata for settings resolution:\n\n```tsx\n<EditorDockLayout\n  layoutId=\"dialogue\"\n  viewport={{\n    viewportId: 'narrative',\n    viewportType: 'react-flow',\n    viewportScope: 'narrative',\n  }}\n>\n  {/* ... */}\n</EditorDockLayout>\n```\n\nSets these `data-*` attributes on root element:\n\n```html\n<div\n  data-viewport-id=\"narrative\"\n  data-editor-id=\"narrative\"\n  data-viewport-type=\"react-flow\"\n  data-editor-type=\"react-flow\"\n  data-viewport-scope=\"narrative\"\n  data-editor-scope=\"narrative\"\n>\n  ...\n</div>\n```\n\nSettings store uses these for scope resolution:\n\n```tsx\nconst showMiniMap = useSettingsStore((s) =>\n  s.getSettingValue('graph.showMiniMap', { editorId: 'dialogue', viewportId: 'narrative' })\n);\n```\n\n## Dynamic Panel Visibility\n\nHide panels without destroying their state:\n\n```tsx\nconst [showLeft, setShowLeft] = useState(true);\n\n<EditorDockLayout layoutId=\"my-editor\">\n  {showLeft && (\n    <EditorDockLayout.Left>\n      <EditorDockPanel panelId=\"nav\" title=\"Navigator\">\n        {/* ... */}\n      </EditorDockPanel>\n    </EditorDockLayout.Left>\n  )}\n\n  <EditorDockLayout.Main>\n    {/* ... */}\n  </EditorDockLayout.Main>\n</EditorDockLayout>\n```\n\n**Panel removal is detected** and the panel is closed in dockview. When you re-render with the panel, it's added back.\n\n## Size Configuration\n\n### Percentage-Based Sizing\n\nAll size props are percentages (0-100):\n\n```tsx\n<EditorDockLayout\n  leftDefaultSize={15}   // 15% of viewport width\n  leftMinSize={10}       // Min 10% width\n  rightDefaultSize={30}  // 30% of viewport width\n  rightMinSize={15}      // Min 15% width\n  bottomDefaultSize={25} // 25% of viewport height\n  bottomMinSize={15}     // Min 15% height\n>\n  {/* ... */}\n</EditorDockLayout>\n```\n\n### Size Constraints\n\n- **Left/Right**: Width percentages (viewport width)\n- **Bottom**: Height percentage (viewport height)\n- **Main**: Always fills remaining space\n- **Min sizes prevent collapse** (users can't resize below minimum)\n\n## Panel Tab Configuration\n\nConfigure tab appearance per slot:\n\n```tsx\n<EditorDockLayout\n  layoutId=\"my-editor\"\n  slots={{\n    left: {\n      title: 'Library',\n      icon: <BookOpen size={14} />,\n    },\n    main: {\n      title: 'Viewport',\n      icon: <LayoutDashboard size={14} />,\n    },\n    right: {\n      title: 'Properties',\n      icon: <ScanSearch size={14} />,\n    },\n  }}\n>\n  {/* ... */}\n</EditorDockLayout>\n```\n\nThese are **fallback configs**. If using `.Panel` components, their `title` and `icon` override these.\n\n## TypeScript Interfaces\n\n```tsx\nexport interface DockLayoutViewport {\n  viewportId?: string;\n  viewportType?: string;\n  viewportScope?: string;\n}\n\nexport interface DockLayoutSlotConfig {\n  title?: string;\n  icon?: React.ReactNode;\n}\n\nexport interface RailPanelDescriptor {\n  id: string;\n  title: string;\n  icon?: React.ReactNode;\n  content: React.ReactNode;\n}\n\nexport interface DockLayoutRef {\n  resetLayout: () => void;\n}\n```\n\n## Common Patterns\n\n### Pattern: Collapsible Left Sidebar\n\n```tsx\nconst [leftVisible, setLeftVisible] = useState(true);\n\n<EditorToolbar>\n  <EditorToolbar.Left>\n    <EditorToolbar.Button onClick={() => setLeftVisible(!leftVisible)}>\n      {leftVisible ? <PanelLeftClose /> : <PanelLeftOpen />}\n    </EditorToolbar.Button>\n  </EditorToolbar.Left>\n</EditorToolbar>\n\n<EditorDockLayout layoutId=\"collapsible\">\n  {leftVisible && (\n    <EditorDockLayout.Left>\n      <EditorDockPanel panelId=\"nav\" title=\"Navigator\">\n        {/* ... */}\n      </EditorDockPanel>\n    </EditorDockLayout.Left>\n  )}\n\n  <EditorDockLayout.Main>\n    {/* ... */}\n  </EditorDockLayout.Main>\n</EditorDockLayout>\n```\n\n### Pattern: View Menu Integration\n\nSync panel visibility with View menu:\n\n```tsx\nconst viewMenuItems = useMemo(\n  () => [\n    {\n      id: 'show-left',\n      label: showLeft ? 'Hide Navigator' : 'Show Navigator',\n      icon: <PanelLeft size={16} />,\n      onSelect: () => setShowLeft(!showLeft),\n    },\n    {\n      id: 'show-right',\n      label: showRight ? 'Hide Inspector' : 'Show Inspector',\n      icon: <PanelRight size={16} />,\n      onSelect: () => setShowRight(!showRight),\n    },\n    { id: 'sep-1', type: 'separator' as const },\n    {\n      id: 'reset-layout',\n      label: 'Reset Layout',\n      icon: <LayoutPanelTop size={16} />,\n      onSelect: () => {\n        setShowLeft(true);\n        setShowRight(true);\n        layoutRef.current?.resetLayout();\n      },\n    },\n  ],\n  [showLeft, showRight]\n);\n```\n\n### Pattern: Settings-Driven Visibility\n\nStore panel visibility in settings:\n\n```tsx\nconst showLeftPanel = useSettingsStore((s) =>\n  s.getSettingValue('panel.visible.left', { editorId: 'my-editor' })\n) as boolean | undefined;\n\nconst showRightPanel = useSettingsStore((s) =>\n  s.getSettingValue('panel.visible.right', { editorId: 'my-editor' })\n) as boolean | undefined;\n\n<EditorDockLayout layoutId=\"my-editor\">\n  {showLeftPanel !== false && (\n    <EditorDockLayout.Left>\n      {/* ... */}\n    </EditorDockLayout.Left>\n  )}\n\n  <EditorDockLayout.Main>\n    {/* ... */}\n  </EditorDockLayout.Main>\n\n  {showRightPanel !== false && (\n    <EditorDockLayout.Right>\n      {/* ... */}\n    </EditorDockLayout.Right>\n  )}\n</EditorDockLayout>\n```\n\n## Performance Considerations\n\n1. **Memoize panel content** — Panels re-render on dockview events\n2. **Use `React.memo` for expensive viewports** (Canvas, Flow, etc.)\n3. **Avoid inline functions in panel content** — Causes unnecessary re-renders\n4. **Keep layoutId stable** — Changing it forces full layout reset\n\n## Related Components\n\n- [EditorDockPanel](./dock-panel) — Individual panel wrapper\n- [PanelTabs](./panel-tabs.mdx) — Tab system for multi-panel rails\n- [EditorInspector](./editor-inspector.mdx) — Selection-driven property panel\n\n## Source Code\n\nLocation: `packages/shared/src/shared/components/editor/DockLayout.tsx`\n\n## Migration from WorkspaceLayoutGrid\n\n| Old (WorkspaceLayoutGrid) | New (EditorDockLayout) |\n|---------------------------|------------------------|\n| Fixed grid (1-4 columns) | Resizable panels with drag |\n| No persistence | Automatic localStorage + controlled |\n| `leftSidebar`, `rightSidebar` props | `.Left`, `.Right` slots |\n| Manual panel show/hide | Conditional rendering + sync |\n| No viewport scoping | `viewport` prop with data attributes |\n\n## Best Practices\n\n1. **Always set `layoutId`** — Required for persistence\n2. **Use slot composition over props** — More maintainable\n3. **Sync panel visibility with View menu** — Better UX\n4. **Use imperative reset sparingly** — Only for \"Restore Defaults\" actions\n5. **Test with different viewport sizes** — Ensure min sizes work\n6. **Keep viewport metadata accurate** — Settings depend on it"
    },
    {
      "path": "registry/molecules/dock-layout-demo/DockLayoutDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport {\n  EditorDockLayout,\n  EditorDockPanel,\n} from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function DockLayoutDemo() {\n  return (\n    <ShowcaseDemoSurface className=\"h-[420px] p-0\">\n      <EditorDockLayout layoutId=\"demo-dock-layout\" className=\"h-full\">\n        <EditorDockLayout.Left>\n          <EditorDockPanel panelId=\"nav\" title=\"Navigator\">\n            <div className=\"p-3 text-xs text-muted-foreground\">Left rail</div>\n          </EditorDockPanel>\n        </EditorDockLayout.Left>\n        <EditorDockLayout.Main>\n          <EditorDockPanel panelId=\"viewport\" title=\"Viewport\" scrollable={false}>\n            <div className=\"flex h-full min-h-[160px] items-center justify-center text-xs text-muted-foreground\">\n              Main viewport\n            </div>\n          </EditorDockPanel>\n        </EditorDockLayout.Main>\n        <EditorDockLayout.Right>\n          <EditorDockPanel panelId=\"inspector\" title=\"Inspector\">\n            <div className=\"p-3 text-xs text-muted-foreground\">Right rail</div>\n          </EditorDockPanel>\n        </EditorDockLayout.Right>\n      </EditorDockLayout>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/dock-layout-demo/DockLayoutDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport {\n  EditorDockLayout,\n  EditorDockPanel,\n} from '@forge/dev-kit';\nexport function DockLayoutDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <EditorDockLayout layoutId=\"demo-dock-layout\" className=\"h-full\">\n        <EditorDockLayout.Left>\n          <EditorDockPanel panelId=\"nav\" title=\"Navigator\">\n            <div className=\"p-3 text-xs text-muted-foreground\">Left rail</div>\n          </EditorDockPanel>\n        </EditorDockLayout.Left>\n        <EditorDockLayout.Main>\n          <EditorDockPanel panelId=\"viewport\" title=\"Viewport\" scrollable={false}>\n            <div className=\"flex h-full min-h-[160px] items-center justify-center text-xs text-muted-foreground\">\n              Main viewport\n            </div>\n          </EditorDockPanel>\n        </EditorDockLayout.Main>\n        <EditorDockLayout.Right>\n          <EditorDockPanel panelId=\"inspector\" title=\"Inspector\">\n            <div className=\"p-3 text-xs text-muted-foreground\">Right rail</div>\n          </EditorDockPanel>\n        </EditorDockLayout.Right>\n      </EditorDockLayout>\n    </div>\n  );\n}\n"
    }
  ],
  "editor-toolbar-demo": [
    {
      "path": "registry/molecules/editor-toolbar-demo/README.md",
      "language": "md",
      "code": "The toolbar bar component for editors. Provides menubar, buttons, separators, and left/center/right sections.\n\n## Overview\n\n`EditorToolbar` is the **command bar** at the top of editors. It replaces `WorkspaceToolbar` with:\n\n- **Compound component API** (`.Left`, `.Right`, `.Center`, `.Group`, `.Button`, `.Menubar`)\n- **Data-driven rendering** via `groups` prop (optional)\n- **Feature gating** integration for entitlement-based UI\n- **Responsive layouts** with flex alignment\n\n## Installation\n\n```bash\nnpm install @forge/dev-kit\n```\n\nImport:\n\n```tsx\n```\n\n## Basic Usage\n\n```tsx\n<EditorToolbar className=\"bg-sidebar border-b\">\n  <EditorToolbar.Left>\n    <span className=\"text-xs font-medium\">My Editor</span>\n  </EditorToolbar.Left>\n  <EditorToolbar.Right>\n    <EditorToolbar.Button onClick={onSave}>Save</EditorToolbar.Button>\n  </EditorToolbar.Right>\n</EditorToolbar>\n```\n\n## Props API\n\n| Prop | Type | Default | Description |\n|------|------|---------|-------------|\n| `children` | `React.ReactNode` | - | Slot components (`.Left`, `.Right`, `.Center`, etc.). Recommended approach. |\n| `groups` | `ToolbarGroup[]` | - | Data-driven rendering. When provided, renders from config instead of slots. |\n| `className` | `string` | - | Additional classes for toolbar root. |\n\n## Slot-Based Composition (Recommended)\n\n### Left / Right / Center Sections\n\n```tsx\n<EditorToolbar>\n  <EditorToolbar.Left>\n    <EditorToolbar.Menubar menus={menus} />\n    <EditorToolbar.Separator />\n    <span className=\"text-xs text-muted-foreground\">{status}</span>\n  </EditorToolbar.Left>\n\n  <EditorToolbar.Center>\n    <Badge variant=\"secondary\">Agent: {agentName}</Badge>\n  </EditorToolbar.Center>\n\n  <EditorToolbar.Right>\n    <EditorToolbar.Button onClick={onUndo} disabled={!canUndo}>\n      <Undo size={14} />\n    </EditorToolbar.Button>\n    <EditorToolbar.Button onClick={onRedo} disabled={!canRedo}>\n      <Redo size={14} />\n    </EditorToolbar.Button>\n    <EditorToolbar.Separator />\n    <EditorToolbar.Button onClick={onSave} variant=\"default\">\n      Save\n    </EditorToolbar.Button>\n  </EditorToolbar.Right>\n</EditorToolbar>\n```\n\n### Grouping with `.Group`\n\n```tsx\n<EditorToolbar>\n  <EditorToolbar.Left>\n    <EditorToolbar.Group className=\"gap-[var(--control-gap)]\">\n      <EditorToolbar.Button onClick={onNew}>\n        <Plus size={14} />\n      </EditorToolbar.Button>\n      <EditorToolbar.Button onClick={onOpen}>\n        <FolderOpen size={14} />\n      </EditorToolbar.Button>\n      <EditorToolbar.Button onClick={onSave}>\n        <Save size={14} />\n      </EditorToolbar.Button>\n    </EditorToolbar.Group>\n    <EditorToolbar.Separator />\n    <EditorToolbar.Group>\n      <EditorToolbar.Button onClick={onZoomIn}>\n        <ZoomIn size={14} />\n      </EditorToolbar.Button>\n      <EditorToolbar.Button onClick={onZoomOut}>\n        <ZoomOut size={14} />\n      </EditorToolbar.Button>\n    </EditorToolbar.Group>\n  </EditorToolbar.Left>\n</EditorToolbar>\n```\n\n## Sub-Components\n\n### `.Left` / `.Right` / `.Center`\n\nAlignment sections:\n\n```tsx\n<EditorToolbar.Left>\n  {/* Flex-start alignment */}\n</EditorToolbar.Left>\n\n<EditorToolbar.Center>\n  {/* Center alignment */}\n</EditorToolbar.Center>\n\n<EditorToolbar.Right>\n  {/* Flex-end alignment */}\n</EditorToolbar.Right>\n```\n\n### `.Button`\n\nToolbar button with tooltip support:\n\n```tsx\n<EditorToolbar.Button\n  variant=\"outline\"        // 'default' | 'outline' | 'ghost'\n  size=\"sm\"                // 'sm' | 'md'\n  onClick={handleClick}\n  disabled={isDisabled}\n  tooltip=\"Save document\" // Optional tooltip\n  tooltipDisabled={false}  // Disable tooltip\n>\n  <Save size={14} />\n  Save\n</EditorToolbar.Button>\n```\n\n### `.Separator`\n\nVertical separator:\n\n```tsx\n<EditorToolbar.Separator />\n```\n\nRenders as:\n```html\n<div class=\"h-[var(--control-height-sm)] w-px bg-border\"></div>\n```\n\n### `.Group`\n\nLogical grouping of buttons:\n\n```tsx\n<EditorToolbar.Group className=\"gap-2\">\n  <EditorToolbar.Button onClick={onUndo}>Undo</EditorToolbar.Button>\n  <EditorToolbar.Button onClick={onRedo}>Redo</EditorToolbar.Button>\n</EditorToolbar.Group>\n```\n\n### `.Menubar`\n\nMenu bar for File/Edit/View menus:\n\n```tsx\nconst menus = createEditorMenubarMenus({\n  file: [\n    { id: 'new', label: 'New', icon: <FilePlus />, onSelect: onNew },\n    { id: 'open', label: 'Open', icon: <FolderOpen />, onSelect: onOpen },\n    { id: 'sep-1', type: 'separator' },\n    { id: 'save', label: 'Save', icon: <Save />, onSelect: onSave, shortcut: 'Ctrl+S' },\n  ],\n  edit: [\n    { id: 'undo', label: 'Undo', icon: <Undo />, onSelect: onUndo, disabled: !canUndo },\n    { id: 'redo', label: 'Redo', icon: <Redo />, onSelect: onRedo, disabled: !canRedo },\n  ],\n  view: [\n    { id: 'zoom-in', label: 'Zoom In', icon: <ZoomIn />, onSelect: onZoomIn },\n    { id: 'zoom-out', label: 'Zoom Out', icon: <ZoomOut />, onSelect: onZoomOut },\n  ],\n});\n\n<EditorToolbar>\n  <EditorToolbar.Left>\n    <EditorToolbar.Menubar menus={menus} />\n  </EditorToolbar.Left>\n</EditorToolbar>\n```\n\n### `.FileMenu`\n\nStandalone file menu (legacy):\n\n```tsx\n<EditorToolbar.FileMenu\n  items={[\n    { id: 'new', label: 'New', onSelect: onNew },\n    { id: 'open', label: 'Open', onSelect: onOpen },\n  ]}\n/>\n```\n\n### `.ProjectSelect`\n\nProject switcher:\n\n```tsx\n<EditorToolbar.ProjectSelect\n  projects={projects}\n  activeProjectId={activeProjectId}\n  onSelect={setActiveProjectId}\n/>\n```\n\n## Real-World Example: CharacterEditor\n\nFrom `apps/studio/components/editors/CharacterEditor.tsx`:\n\n```tsx\n<EditorToolbar className=\"bg-sidebar border-b border-sidebar-border\">\n  <EditorToolbar.Left>\n    <EditorToolbar.Group className=\"gap-[var(--control-gap)]\">\n      {/* Empty group — placeholder for future actions */}\n    </EditorToolbar.Group>\n    <span className=\"text-xs text-muted-foreground\">\n      {characters.length} character{characters.length !== 1 ? 's' : ''} &middot;{' '}\n      {relationships.length} relationship{relationships.length !== 1 ? 's' : ''}\n    </span>\n  </EditorToolbar.Left>\n\n  <EditorToolbar.Right>\n    {showAgentName !== false && (\n      <Badge variant=\"secondary\" className=\"text-xs\">\n        Agent: {agentName ?? 'Default'}\n      </Badge>\n    )}\n    <EditorToolbar.Separator />\n    <EditorToolbar.Button\n      onClick={() => openOverlay('create-character')}\n      variant=\"outline\"\n      size=\"sm\"\n    >\n      Add Character\n    </EditorToolbar.Button>\n  </EditorToolbar.Right>\n</EditorToolbar>\n```\n\n## Real-World Example: DialogueEditor\n\nFrom `apps/studio/components/editors/DialogueEditor.tsx`:\n\n```tsx\nconst fileMenuItems = useMemo(\n  () => [\n    {\n      id: 'new-narrative',\n      label: 'New narrative',\n      icon: <FilePlus2 size={16} />,\n      onSelect: () => handleCreateGraph('narrative'),\n    },\n    {\n      id: 'new-storylet',\n      label: 'New storylet',\n      icon: <FilePlus2 size={16} />,\n      onSelect: () => handleCreateGraph('storylet'),\n    },\n    { id: 'separator-1', type: 'separator' as const },\n    {\n      id: 'save',\n      label: 'Save',\n      icon: <Save size={16} />,\n      disabled: !activeDirty,\n      onSelect: () => saveActiveGraph(),\n      shortcut: 'Ctrl+S',\n    },\n  ],\n  [handleCreateGraph, activeDirty, saveActiveGraph]\n);\n\nconst viewMenuItems = useMemo(\n  () => [\n    {\n      id: 'layout',\n      label: 'Layout',\n      icon: <LayoutPanelTop size={16} />,\n      submenu: [\n        {\n          id: 'show-left',\n          label: showLeft ? 'Hide Left' : 'Show Left',\n          icon: <PanelLeft size={16} />,\n          onSelect: () => setShowLeft(!showLeft),\n        },\n        {\n          id: 'show-right',\n          label: showRight ? 'Hide Right' : 'Show Right',\n          icon: <PanelRight size={16} />,\n          onSelect: () => setShowRight(!showRight),\n        },\n        { id: 'sep-1', type: 'separator' as const },\n        {\n          id: 'reset-layout',\n          label: 'Reset Layout',\n          icon: <LayoutPanelTop size={16} />,\n          onSelect: () => layoutRef.current?.resetLayout(),\n        },\n      ],\n    },\n  ],\n  [showLeft, showRight]\n);\n\nconst menubarMenus = useMemo(\n  () => createEditorMenubarMenus({\n    file: fileMenuItems,\n    view: viewMenuItems,\n  }),\n  [fileMenuItems, viewMenuItems]\n);\n\n<EditorToolbar className=\"bg-sidebar border-b border-sidebar-border\">\n  <EditorToolbar.Left>\n    <EditorToolbar.Group className=\"gap-[var(--control-gap)]\">\n      <EditorToolbar.Menubar menus={menubarMenus} />\n      <EditorToolbar.Separator />\n      <span className=\"text-xs text-muted-foreground\">{toolbarCounts}</span>\n    </EditorToolbar.Group>\n  </EditorToolbar.Left>\n\n  <EditorToolbar.Right>\n    {headerLinks.map((link) => (\n      <EditorToolbar.Button\n        key={link.label}\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => window.open(link.href, '_blank')}\n      >\n        {link.icon}\n        <span className=\"ml-1.5 text-[11px]\">{link.label}</span>\n      </EditorToolbar.Button>\n    ))}\n    {showAgentName !== false && (\n      <Badge variant=\"secondary\" className=\"text-xs\">\n        Agent: {agentName ?? 'Default'}\n      </Badge>\n    )}\n    <EditorToolbar.Separator />\n    {dirtyByScope.narrative && (\n      <Badge variant=\"outline\" className=\"text-xs text-amber-500 border-amber-500/50\">\n        Narrative unsaved\n      </Badge>\n    )}\n    {dirtyByScope.storylet && (\n      <Badge variant=\"outline\" className=\"text-xs text-amber-500 border-amber-500/50\">\n        Storylet unsaved\n      </Badge>\n    )}\n  </EditorToolbar.Right>\n</EditorToolbar>\n```\n\n## Data-Driven Rendering (Alternative)\n\nFor dynamic toolbars, use `groups` prop:\n\n```tsx\nconst toolbarGroups: ToolbarGroup[] = [\n  {\n    id: 'left',\n    align: 'start',\n    items: [\n      {\n        id: 'save',\n        type: 'button',\n        label: 'Save',\n        icon: <Save size={14} />,\n        variant: 'outline',\n        size: 'sm',\n        onClick: onSave,\n        disabled: !isDirty,\n        tooltip: 'Save document',\n      },\n      {\n        id: 'undo',\n        type: 'button',\n        icon: <Undo size={14} />,\n        variant: 'ghost',\n        size: 'sm',\n        onClick: onUndo,\n        disabled: !canUndo,\n        tooltip: 'Undo',\n      },\n    ],\n  },\n  {\n    id: 'right',\n    align: 'end',\n    items: [\n      {\n        id: 'theme-toggle',\n        type: 'toggle',\n        icon: <Moon size={14} />,\n        pressed: theme === 'dark',\n        onToggle: setTheme,\n        tooltip: 'Toggle theme',\n      },\n    ],\n  },\n];\n\n<EditorToolbar groups={toolbarGroups} />\n```\n\n## TypeScript Interfaces\n\n```tsx\nexport interface EditorToolbarProps {\n  children?: React.ReactNode;\n  groups?: ToolbarGroup[];\n  className?: string;\n}\n\nexport interface ToolbarGroup {\n  id: string;\n  align?: 'start' | 'center' | 'end';\n  items: ToolbarItem[];\n}\n\nexport type ToolbarItem = ToolbarButtonItem | ToolbarToggleItem | ToolbarCustomItem | ToolbarMenubarItem;\n\nexport interface ToolbarButtonItem {\n  id: string;\n  type: 'button';\n  label?: string;\n  icon?: React.ReactNode;\n  variant?: 'default' | 'outline' | 'ghost';\n  size?: 'sm' | 'md';\n  onClick: () => void;\n  disabled?: boolean;\n  tooltip?: string;\n  tooltipDisabled?: boolean;\n  capability?: string;\n  gateMode?: 'disable' | 'hide' | 'replace';\n}\n\nexport interface ToolbarToggleItem {\n  id: string;\n  type: 'toggle';\n  label?: string;\n  icon?: React.ReactNode;\n  pressed: boolean;\n  onToggle: (pressed: boolean) => void;\n  tooltip?: string;\n  tooltipDisabled?: boolean;\n  capability?: string;\n}\n\nexport interface ToolbarCustomItem {\n  id: string;\n  type: 'custom';\n  render: () => React.ReactNode;\n}\n```\n\n## Feature Gating\n\nButtons can be gated by entitlement:\n\n```tsx\n<EditorToolbar.Button\n  onClick={onExport}\n  capability=\"STUDIO_EXPORT\"\n  gateMode=\"disable\"\n  gateReason=\"Export requires Pro plan\"\n>\n  Export\n</EditorToolbar.Button>\n```\n\nWhen user lacks capability:\n- `gateMode=\"disable\"` — Button disabled with tooltip\n- `gateMode=\"hide\"` — Button hidden\n- `gateMode=\"replace\"` — Replaced with upgrade prompt\n\n## Styling\n\n### CSS Variables\n\n```css\n.toolbar {\n  min-height: var(--toolbar-height);\n  padding: 0 var(--panel-padding);\n  gap: var(--control-gap);\n}\n\n.toolbar-button {\n  padding: var(--control-padding-y) var(--control-padding-x);\n  height: var(--control-height-sm);\n}\n```\n\n### Custom Classes\n\n```tsx\n<EditorToolbar className=\"bg-gradient-to-r from-blue-500 to-purple-500\">\n  {/* Custom gradient toolbar */}\n</EditorToolbar>\n```\n\n### Icon Sizing\n\n```tsx\n<EditorToolbar.Button>\n  <Save size={14} /> {/* Icons typically 14px */}\n  Save\n</EditorToolbar.Button>\n```\n\n## Accessibility\n\n- **Keyboard navigation** — Tab through buttons\n- **Tooltips** — Hover for descriptions\n- **Disabled states** — Clear visual feedback\n- **ARIA labels** — Automatic for icon-only buttons\n\n## Common Patterns\n\n### Pattern: File/Edit/View Menubar\n\n```tsx\nconst menus = createEditorMenubarMenus({\n  file: [\n    { id: 'new', label: 'New', icon: <FilePlus />, onSelect: onNew },\n    { id: 'open', label: 'Open', icon: <FolderOpen />, onSelect: onOpen },\n    { id: 'sep-1', type: 'separator' },\n    { id: 'save', label: 'Save', icon: <Save />, onSelect: onSave, shortcut: 'Ctrl+S' },\n  ],\n  edit: [\n    { id: 'undo', label: 'Undo', icon: <Undo />, onSelect: onUndo, disabled: !canUndo },\n    { id: 'redo', label: 'Redo', icon: <Redo />, onSelect: onRedo, disabled: !canRedo },\n  ],\n  view: [\n    { id: 'layout', label: 'Layout', submenu: viewSubmenu },\n  ],\n});\n\n<EditorToolbar>\n  <EditorToolbar.Left>\n    <EditorToolbar.Menubar menus={menus} />\n  </EditorToolbar.Left>\n</EditorToolbar>\n```\n\n### Pattern: Status Display\n\n```tsx\n<EditorToolbar>\n  <EditorToolbar.Left>\n    <span className=\"text-xs text-muted-foreground\">\n      {nodes.length} nodes &middot; {edges.length} edges\n    </span>\n  </EditorToolbar.Left>\n</EditorToolbar>\n```\n\n### Pattern: Undo/Redo\n\n```tsx\n<EditorToolbar.Group>\n  <EditorToolbar.Button onClick={onUndo} disabled={!canUndo} tooltip=\"Undo\">\n    <Undo size={14} />\n  </EditorToolbar.Button>\n  <EditorToolbar.Button onClick={onRedo} disabled={!canRedo} tooltip=\"Redo\">\n    <Redo size={14} />\n  </EditorToolbar.Button>\n</EditorToolbar.Group>\n```\n\n### Pattern: Zoom Controls\n\n```tsx\n<EditorToolbar.Group>\n  <EditorToolbar.Button onClick={onZoomOut} tooltip=\"Zoom Out\">\n    <ZoomOut size={14} />\n  </EditorToolbar.Button>\n  <span className=\"text-xs text-muted-foreground\">{zoom}%</span>\n  <EditorToolbar.Button onClick={onZoomIn} tooltip=\"Zoom In\">\n    <ZoomIn size={14} />\n  </EditorToolbar.Button>\n  <EditorToolbar.Button onClick={onFitView} tooltip=\"Fit View\">\n    <Maximize size={14} />\n  </EditorToolbar.Button>\n</EditorToolbar.Group>\n```\n\n## Related Components\n\n- [EditorShell](./editor-shell) — Root container\n- [EditorMenubar](./editor-menubar.mdx) — Menu bar component\n- [EditorButton](./editor-button.mdx) — Button with tooltip\n\n## Source Code\n\nLocation: `packages/shared/src/shared/components/editor/EditorToolbar.tsx`\n\n## Best Practices\n\n1. **Use `.Left` / `.Right` sections** — Clearer than manual flex\n2. **Group related buttons with `.Group`** — Visual separation\n3. **Add separators between groups** — Improves scannability\n4. **Use icons + text for primary actions** — Better affordance\n5. **Icon-only for secondary actions** — Space efficiency\n6. **Add tooltips to icon-only buttons** — Accessibility\n7. **Disable vs hide** — Disable when action unavailable, hide when irrelevant"
    },
    {
      "path": "registry/molecules/editor-toolbar-demo/EditorToolbarDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { EditorToolbar } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function EditorToolbarDemo() {\n  return (\n    <ShowcaseDemoSurface className=\"p-0\">\n      <EditorToolbar className=\"border-b px-2 py-1\">\n        <EditorToolbar.Left>\n          <span className=\"text-xs font-medium\">Editor title</span>\n        </EditorToolbar.Left>\n        <EditorToolbar.Right>\n          <ui.Button size=\"sm\" variant=\"outline\">\n            Undo\n          </ui.Button>\n          <ui.Button size=\"sm\" variant=\"outline\">\n            Redo\n          </ui.Button>\n          <ui.Button size=\"sm\">Save</ui.Button>\n        </EditorToolbar.Right>\n      </EditorToolbar>\n      <div className=\"p-4 text-sm text-muted-foreground\">Toolbar content area</div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/editor-toolbar-demo/EditorToolbarDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { EditorToolbar } from '@forge/dev-kit';\nexport function EditorToolbarDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <EditorToolbar className=\"border-b px-2 py-1\">\n        <EditorToolbar.Left>\n          <span className=\"text-xs font-medium\">Editor title</span>\n        </EditorToolbar.Left>\n        <EditorToolbar.Right>\n          <ui.Button size=\"sm\" variant=\"outline\">\n            Undo\n          </ui.Button>\n          <ui.Button size=\"sm\" variant=\"outline\">\n            Redo\n          </ui.Button>\n          <ui.Button size=\"sm\">Save</ui.Button>\n        </EditorToolbar.Right>\n      </EditorToolbar>\n      <div className=\"p-4 text-sm text-muted-foreground\">Toolbar content area</div>\n    </div>\n  );\n}\n"
    }
  ],
  "panel-tabs-demo": [
    {
      "path": "registry/molecules/panel-tabs-demo/README.md",
      "language": "md",
      "code": "The **PanelTabs** component provides a unified tab system for multi-mode panels. Built on shadcn Tabs (Radix UI), it replaces custom implementations with a theme-aware, accessible solution that supports icons, accent colors, and both controlled and uncontrolled modes.\n\n## Table of Contents\n\n1. [Core Concepts](#core-concepts)\n2. [Component API](#component-api)\n3. [Real Examples](#real-examples)\n4. [Controlled vs Uncontrolled](#controlled-vs-uncontrolled)\n5. [Styling and Themes](#styling-and-themes)\n6. [Common Patterns](#common-patterns)\n\n---\n\n## Core Concepts\n\n### Architecture\n\n```\n┌──────────────────────────────────────────────┐\n│              PanelTabs                        │\n├──────────────────────────────────────────────┤\n│                                               │\n│  ┌─────────────────────────────────────────┐ │\n│  │ TabsList (Triggers)                     │ │\n│  ├─────────┬─────────┬─────────┬──────────┤ │\n│  │ Tab 1 ● │ Tab 2   │ Tab 3 ● │ Tab 4    │ │\n│  └─────────┴─────────┴─────────┴──────────┘ │\n│  ─────────                                    │\n│    Active indicator (accent color)            │\n│                                               │\n│  ┌─────────────────────────────────────────┐ │\n│  │ TabsContent (Active tab content)        │ │\n│  │                                         │ │\n│  │  <Component for active tab>             │ │\n│  │                                         │ │\n│  └─────────────────────────────────────────┘ │\n└──────────────────────────────────────────────┘\n```\n\n### Key Features\n\n- **Icon support** - Optional icons per tab\n- **Accent colors** - Per-tab accent colors for active indicator\n- **Controlled/uncontrolled** - Flexible state management\n- **Theme-aware** - Respects light/dark mode\n- **Accessible** - Built on Radix UI primitives\n- **Keyboard navigation** - Arrow keys, Home, End\n\n---\n\n## Component API\n\n### PanelTabs Props\n\nFrom `C:\\Users\\benja\\Documents\\forge-agent\\packages\\shared\\src\\shared\\components\\editor\\PanelTabs.tsx`:\n\n```typescript\nexport interface PanelTabDef {\n  /** Unique tab identifier */\n  id: string;\n\n  /** Display label in the tab trigger */\n  label: string;\n\n  /** Optional icon rendered before the label */\n  icon?: React.ReactNode;\n\n  /** Tab panel content */\n  content: React.ReactNode;\n\n  /** Optional accent color for the tab indicator/icon */\n  accentColor?: string;\n\n  /** Whether this tab can be closed (future: dockable/detachable) */\n  closable?: boolean;\n}\n\nexport interface PanelTabsProps {\n  /** Tab definitions (at least one required) */\n  tabs: PanelTabDef[];\n\n  /** Initial tab when uncontrolled (defaults to first tab) */\n  defaultTabId?: string;\n\n  /** Controlled active tab (overrides internal state) */\n  activeTabId?: string;\n\n  /** Called when a tab is activated */\n  onTabChange?: (id: string) => void;\n\n  className?: string;\n}\n```\n\n### Basic Usage (Uncontrolled)\n\n```tsx\nimport { BookOpen, Boxes, Settings } from 'lucide-react';\n\nfunction NavigatorPanel() {\n  const tabs: PanelTabDef[] = [\n    {\n      id: 'graphs',\n      label: 'Graphs',\n      icon: <BookOpen size={12} />,\n      content: <GraphList />,\n    },\n    {\n      id: 'nodes',\n      label: 'Nodes',\n      icon: <Boxes size={12} />,\n      content: <NodePalette />,\n    },\n    {\n      id: 'settings',\n      label: 'Settings',\n      icon: <Settings size={12} />,\n      content: <SettingsPanel />,\n    },\n  ];\n\n  return <PanelTabs tabs={tabs} defaultTabId=\"graphs\" />;\n}\n```\n\n### Controlled Usage\n\n```tsx\nfunction ControlledPanelTabs() {\n  const [activeTab, setActiveTab] = useState('graphs');\n\n  const tabs: PanelTabDef[] = [\n    {\n      id: 'graphs',\n      label: 'Graphs',\n      icon: <BookOpen size={12} />,\n      content: <GraphList />,\n    },\n    {\n      id: 'nodes',\n      label: 'Nodes',\n      icon: <Boxes size={12} />,\n      content: <NodePalette />,\n    },\n  ];\n\n  return (\n    <div>\n      <PanelTabs\n        tabs={tabs}\n        activeTabId={activeTab}\n        onTabChange={setActiveTab}\n      />\n\n      <div className=\"p-4\">\n        Current tab: {activeTab}\n      </div>\n    </div>\n  );\n}\n```\n\n---\n\n## Real Examples\n\n### DialogueEditor Navigator\n\nFrom `C:\\Users\\benja\\Documents\\forge-agent\\apps\\studio\\components\\editors\\DialogueEditor.tsx`:\n\n```tsx\nfunction DialogueEditor() {\n  const leftPanelTabs: PanelTabDef[] = [\n    {\n      id: 'narratives',\n      label: 'Narratives',\n      icon: <BookOpen size={12} />,\n      accentColor: 'var(--status-info)',\n      content: (\n        <ForgeGraphList\n          label=\"Narrative\"\n          icon={<BookOpen size={12} />}\n          graphs={narrativeGraphs}\n          activeGraphId={activeNarrativeId}\n          onSelect={setActiveNarrativeId}\n          onCreate={handleCreateNarrative}\n          focusedEditor={focusedEditor}\n        />\n      ),\n    },\n    {\n      id: 'storylets',\n      label: 'Storylets',\n      icon: <Layers size={12} />,\n      accentColor: 'var(--graph-edge-choice-1)',\n      content: (\n        <ForgeGraphList\n          label=\"Storylet\"\n          icon={<Layers size={12} />}\n          graphs={storyletGraphs}\n          activeGraphId={activeStoryletId}\n          onSelect={setActiveStoryletId}\n          onCreate={handleCreateStorylet}\n          focusedEditor={focusedEditor}\n        />\n      ),\n    },\n    {\n      id: 'palette',\n      label: 'Palette',\n      icon: <Boxes size={12} />,\n      content: (\n        <NodePalette\n          items={nodePaletteItems}\n          onDragStart={handleNodeDragStart}\n        />\n      ),\n    },\n  ];\n\n  return (\n    <EditorDockPanel\n      id=\"left-nav\"\n      title=\"Navigator\"\n      side=\"left\"\n      defaultSize={280}\n    >\n      <PanelTabs tabs={leftPanelTabs} defaultTabId=\"narratives\" />\n    </EditorDockPanel>\n  );\n}\n```\n\n### Multi-Tab Inspector\n\n```tsx\nfunction InspectorPanel() {\n  const tabs: PanelTabDef[] = [\n    {\n      id: 'properties',\n      label: 'Properties',\n      icon: <Settings size={12} />,\n      content: <PropertiesForm />,\n    },\n    {\n      id: 'metadata',\n      label: 'Metadata',\n      icon: <FileText size={12} />,\n      content: <MetadataForm />,\n    },\n    {\n      id: 'history',\n      label: 'History',\n      icon: <History size={12} />,\n      content: <HistoryList />,\n    },\n  ];\n\n  return (\n    <EditorDockPanel\n      id=\"right-inspector\"\n      title=\"Inspector\"\n      side=\"right\"\n      defaultSize={320}\n    >\n      <PanelTabs tabs={tabs} defaultTabId=\"properties\" />\n    </EditorDockPanel>\n  );\n}\n```\n\n### Bottom Output Panel\n\n```tsx\nfunction OutputPanel() {\n  const tabs: PanelTabDef[] = [\n    {\n      id: 'console',\n      label: 'Console',\n      icon: <Terminal size={12} />,\n      content: <ConsoleOutput />,\n    },\n    {\n      id: 'errors',\n      label: 'Errors',\n      icon: <AlertCircle size={12} />,\n      accentColor: 'var(--status-error)',\n      content: <ErrorList />,\n    },\n    {\n      id: 'warnings',\n      label: 'Warnings',\n      icon: <AlertTriangle size={12} />,\n      accentColor: 'var(--status-warning)',\n      content: <WarningList />,\n    },\n  ];\n\n  return (\n    <EditorDockPanel\n      id=\"bottom-output\"\n      title=\"Output\"\n      side=\"bottom\"\n      defaultSize={200}\n    >\n      <PanelTabs tabs={tabs} defaultTabId=\"console\" />\n    </EditorDockPanel>\n  );\n}\n```\n\n---\n\n## Controlled vs Uncontrolled\n\n### Uncontrolled Mode\n\n**Use when:** Tab state is local to the panel, no external coordination needed.\n\n```tsx\n<PanelTabs\n  tabs={tabs}\n  defaultTabId=\"graphs\"\n  onTabChange={(id) => console.log('Tab changed:', id)}\n/>\n```\n\n**Behavior:**\n- Internal state managed by component\n- `defaultTabId` sets initial tab\n- `onTabChange` called for side effects only\n\n---\n\n### Controlled Mode\n\n**Use when:** Tab state needs to be coordinated with external state (URL, global store, etc.).\n\n```tsx\nconst [activeTab, setActiveTab] = useState('graphs');\n\n<PanelTabs\n  tabs={tabs}\n  activeTabId={activeTab}\n  onTabChange={setActiveTab}\n/>\n```\n\n**Behavior:**\n- External state drives active tab\n- `activeTabId` overrides internal state\n- `onTabChange` must update external state\n\n---\n\n### URL Sync Pattern\n\n```tsx\nfunction PanelWithURLSync() {\n  const searchParams = useSearchParams();\n  const router = useRouter();\n\n  const activeTab = searchParams.get('tab') || 'graphs';\n\n  const handleTabChange = (id: string) => {\n    const params = new URLSearchParams(searchParams);\n    params.set('tab', id);\n    router.push(`?${params.toString()}`);\n  };\n\n  return (\n    <PanelTabs\n      tabs={tabs}\n      activeTabId={activeTab}\n      onTabChange={handleTabChange}\n    />\n  );\n}\n```\n\n---\n\n### Store Sync Pattern\n\n```tsx\ninterface EditorState {\n  activeLeftTab: string;\n  setActiveLeftTab: (id: string) => void;\n}\n\nconst useEditorStore = create<EditorState>((set) => ({\n  activeLeftTab: 'graphs',\n  setActiveLeftTab: (id) => set({ activeLeftTab: id }),\n}));\n\nfunction LeftPanel() {\n  const activeTab = useEditorStore((s) => s.activeLeftTab);\n  const setActiveTab = useEditorStore((s) => s.setActiveLeftTab);\n\n  return (\n    <PanelTabs\n      tabs={tabs}\n      activeTabId={activeTab}\n      onTabChange={setActiveTab}\n    />\n  );\n}\n```\n\n---\n\n## Styling and Themes\n\n### Accent Colors\n\nEach tab can have a custom accent color for the active indicator and icon:\n\n```tsx\nconst tabs: PanelTabDef[] = [\n  {\n    id: 'narratives',\n    label: 'Narratives',\n    icon: <BookOpen size={12} />,\n    accentColor: 'var(--status-info)',  // Blue\n    content: <NarrativeList />,\n  },\n  {\n    id: 'errors',\n    label: 'Errors',\n    icon: <AlertCircle size={12} />,\n    accentColor: 'var(--status-error)',  // Red\n    content: <ErrorList />,\n  },\n  {\n    id: 'success',\n    label: 'Success',\n    icon: <CheckCircle size={12} />,\n    accentColor: 'var(--status-success)',  // Green\n    content: <SuccessList />,\n  },\n];\n```\n\n**Rendered:**\n\n```\n┌────────────────────────────────────────────┐\n│ ● Narratives  ● Errors  ● Success          │\n│ ─────────                                  │\n│  Blue         Red        Green             │\n└────────────────────────────────────────────┘\n```\n\n### CSS Variables\n\nThe component uses these CSS variables for theming:\n\n```css\n--tab-height: 40px;\n--control-padding-x: 12px;\n--control-padding-y: 8px;\n--control-gap: 8px;\n--icon-size: 12px;\n--context-accent: hsl(var(--primary));\n```\n\n### Custom Styling\n\n```tsx\n<PanelTabs\n  tabs={tabs}\n  className=\"custom-tabs\"\n/>\n```\n\n```css\n.custom-tabs [role=\"tablist\"] {\n  background: hsl(var(--muted));\n}\n\n.custom-tabs [role=\"tab\"][data-state=\"active\"] {\n  font-weight: 600;\n}\n```\n\n---\n\n## Common Patterns\n\n### Dynamic Tabs\n\n```tsx\nfunction DynamicTabs({ features }: { features: string[] }) {\n  const tabs = useMemo(() => {\n    const result: PanelTabDef[] = [\n      {\n        id: 'main',\n        label: 'Main',\n        icon: <Home size={12} />,\n        content: <MainPanel />,\n      },\n    ];\n\n    if (features.includes('advanced')) {\n      result.push({\n        id: 'advanced',\n        label: 'Advanced',\n        icon: <Sliders size={12} />,\n        content: <AdvancedPanel />,\n      });\n    }\n\n    if (features.includes('debug')) {\n      result.push({\n        id: 'debug',\n        label: 'Debug',\n        icon: <Bug size={12} />,\n        content: <DebugPanel />,\n      });\n    }\n\n    return result;\n  }, [features]);\n\n  return <PanelTabs tabs={tabs} />;\n}\n```\n\n---\n\n### Conditional Content\n\n```tsx\nconst tabs: PanelTabDef[] = [\n  {\n    id: 'list',\n    label: 'List',\n    icon: <List size={12} />,\n    content: items.length > 0 ? <ItemList items={items} /> : <EmptyState />,\n  },\n  {\n    id: 'grid',\n    label: 'Grid',\n    icon: <Grid size={12} />,\n    content: items.length > 0 ? <ItemGrid items={items} /> : <EmptyState />,\n  },\n];\n```\n\n---\n\n### Lazy Loading\n\n```tsx\nconst tabs: PanelTabDef[] = [\n  {\n    id: 'light',\n    label: 'Light',\n    icon: <Zap size={12} />,\n    content: <LightPanel />,  // Always loaded\n  },\n  {\n    id: 'heavy',\n    label: 'Heavy',\n    icon: <Database size={12} />,\n    content: (\n      <Suspense fallback={<Skeleton />}>\n        <LazyHeavyPanel />  // Lazy loaded\n      </Suspense>\n    ),\n  },\n];\n```\n\n---\n\n### Badge Counts\n\n```tsx\nconst tabs: PanelTabDef[] = [\n  {\n    id: 'errors',\n    label: (\n      <span className=\"flex items-center gap-2\">\n        Errors\n        {errorCount > 0 && (\n          <Badge variant=\"destructive\" size=\"sm\">\n            {errorCount}\n          </Badge>\n        )}\n      </span>\n    ),\n    icon: <AlertCircle size={12} />,\n    content: <ErrorList />,\n  },\n];\n```\n\n---\n\n### Nested Tabs\n\n```tsx\nfunction NestedTabs() {\n  const mainTabs: PanelTabDef[] = [\n    {\n      id: 'design',\n      label: 'Design',\n      icon: <Palette size={12} />,\n      content: (\n        <PanelTabs\n          tabs={[\n            {\n              id: 'colors',\n              label: 'Colors',\n              content: <ColorPicker />,\n            },\n            {\n              id: 'fonts',\n              label: 'Fonts',\n              content: <FontSelector />,\n            },\n          ]}\n        />\n      ),\n    },\n    {\n      id: 'code',\n      label: 'Code',\n      icon: <Code size={12} />,\n      content: <CodeEditor />,\n    },\n  ];\n\n  return <PanelTabs tabs={mainTabs} />;\n}\n```\n\n---\n\n### Persistence\n\n```tsx\nfunction PersistentTabs() {\n  const [activeTab, setActiveTab] = useState(() => {\n    // Load from localStorage\n    return localStorage.getItem('activeTab') || 'graphs';\n  });\n\n  const handleTabChange = (id: string) => {\n    setActiveTab(id);\n    // Save to localStorage\n    localStorage.setItem('activeTab', id);\n  };\n\n  return (\n    <PanelTabs\n      tabs={tabs}\n      activeTabId={activeTab}\n      onTabChange={handleTabChange}\n    />\n  );\n}\n```\n\n---\n\n### Keyboard Shortcuts\n\n```tsx\nfunction TabsWithShortcuts() {\n  const [activeTab, setActiveTab] = useState('graphs');\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.ctrlKey || e.metaKey) {\n        if (e.key === '1') {\n          setActiveTab('graphs');\n          e.preventDefault();\n        } else if (e.key === '2') {\n          setActiveTab('nodes');\n          e.preventDefault();\n        } else if (e.key === '3') {\n          setActiveTab('settings');\n          e.preventDefault();\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  return (\n    <PanelTabs\n      tabs={tabs}\n      activeTabId={activeTab}\n      onTabChange={setActiveTab}\n    />\n  );\n}\n```\n\n---\n\n### Programmatic Navigation\n\n```tsx\nfunction ProgrammaticTabs() {\n  const [activeTab, setActiveTab] = useState('graphs');\n\n  const navigateToErrors = () => {\n    setActiveTab('errors');\n  };\n\n  useEffect(() => {\n    // Navigate to errors tab when errors occur\n    if (errorCount > 0) {\n      navigateToErrors();\n    }\n  }, [errorCount]);\n\n  return (\n    <PanelTabs\n      tabs={tabs}\n      activeTabId={activeTab}\n      onTabChange={setActiveTab}\n    />\n  );\n}\n```\n\n---\n\n## Summary\n\nThe **PanelTabs** component provides:\n\n✅ **Unified tab system** - Consistent across all panels\n✅ **Icon support** - Optional icons per tab\n✅ **Accent colors** - Per-tab active indicators\n✅ **Controlled/uncontrolled** - Flexible state management\n✅ **Theme-aware** - Respects light/dark mode\n✅ **Accessible** - Built on Radix UI\n✅ **Keyboard navigation** - Arrow keys, Home, End\n✅ **Common patterns** - Dynamic tabs, lazy loading, persistence\n\n**Next Steps:**\n- [Tutorial: Adding Panels](../tutorials/adding-panels.mdx)\n- [Component Patterns](../guides/patterns.mdx)\n- [EditorInspector Guide](./editor-inspector)"
    },
    {
      "path": "registry/molecules/panel-tabs-demo/PanelTabsDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { PanelTabs } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function PanelTabsDemo() {\n  return (\n    <ShowcaseDemoSurface className=\"p-0\">\n      <div className=\"h-[280px] overflow-hidden rounded-lg border border-border\">\n        <PanelTabs defaultTabId=\"inspector\" className=\"h-full\">\n          <PanelTabs.Tab id=\"inspector\" label=\"Inspector\">\n            <div className=\"p-4 text-sm\">Inspector content</div>\n          </PanelTabs.Tab>\n          <PanelTabs.Tab id=\"assistant\" label=\"Assistant\">\n            <div className=\"p-4 text-sm\">Assistant content</div>\n          </PanelTabs.Tab>\n        </PanelTabs>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/panel-tabs-demo/PanelTabsDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { PanelTabs } from '@forge/dev-kit';\nexport function PanelTabsDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"h-[280px] overflow-hidden rounded-lg border border-border\">\n        <PanelTabs defaultTabId=\"inspector\" className=\"h-full\">\n          <PanelTabs.Tab id=\"inspector\" label=\"Inspector\">\n            <div className=\"p-4 text-sm\">Inspector content</div>\n          </PanelTabs.Tab>\n          <PanelTabs.Tab id=\"assistant\" label=\"Assistant\">\n            <div className=\"p-4 text-sm\">Assistant content</div>\n          </PanelTabs.Tab>\n        </PanelTabs>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "settings-panel-demo": [
    {
      "path": "registry/molecules/settings-panel-demo/SettingsPanelDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { ui } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function SettingsPanelDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <ui.Card className=\"max-w-md\">\n        <ui.CardHeader>\n          <ui.CardTitle>Appearance</ui.CardTitle>\n          <ui.CardDescription>Settings panel with simple field controls.</ui.CardDescription>\n        </ui.CardHeader>\n        <ui.CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <ui.Label htmlFor=\"settings-theme\">Theme</ui.Label>\n            <ui.Select defaultValue=\"dark\">\n              <ui.SelectTrigger id=\"settings-theme\">\n                <ui.SelectValue />\n              </ui.SelectTrigger>\n              <ui.SelectContent>\n                <ui.SelectItem value=\"dark\">Dark</ui.SelectItem>\n                <ui.SelectItem value=\"light\">Light</ui.SelectItem>\n              </ui.SelectContent>\n            </ui.Select>\n          </div>\n          <label className=\"flex items-center justify-between text-sm\">\n            Use compact density\n            <ui.Switch defaultChecked />\n          </label>\n        </ui.CardContent>\n      </ui.Card>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/settings-panel-demo/SettingsPanelDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { ui } from '@forge/dev-kit';\nexport function SettingsPanelDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <ui.Card className=\"max-w-md\">\n        <ui.CardHeader>\n          <ui.CardTitle>Appearance</ui.CardTitle>\n          <ui.CardDescription>Settings panel with simple field controls.</ui.CardDescription>\n        </ui.CardHeader>\n        <ui.CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <ui.Label htmlFor=\"settings-theme\">Theme</ui.Label>\n            <ui.Select defaultValue=\"dark\">\n              <ui.SelectTrigger id=\"settings-theme\">\n                <ui.SelectValue />\n              </ui.SelectTrigger>\n              <ui.SelectContent>\n                <ui.SelectItem value=\"dark\">Dark</ui.SelectItem>\n                <ui.SelectItem value=\"light\">Light</ui.SelectItem>\n              </ui.SelectContent>\n            </ui.Select>\n          </div>\n          <label className=\"flex items-center justify-between text-sm\">\n            Use compact density\n            <ui.Switch defaultChecked />\n          </label>\n        </ui.CardContent>\n      </ui.Card>\n    </div>\n  );\n}\n"
    }
  ],
  "attachment-demo": [
    {
      "path": "registry/molecules/attachment-demo/AttachmentDemo.tsx",
      "language": "tsx",
      "code": "// AssistantDemoHarness: docs-only mock runtime (useLocalRuntime) for preview. In your app, use AssistantRuntimeProvider with your chat backend (e.g. /api/assistant-chat).\n\n'use client';\n\nimport { ComposerAddAttachment, Thread } from '@forge/dev-kit';\nimport { AssistantDemoHarness } from '../../../demos/harnesses';\n\nexport function AttachmentDemo() {\n  return (\n    <AssistantDemoHarness className=\"h-[360px] p-0\">\n      <div className=\"flex h-full min-h-0 flex-col overflow-hidden rounded-lg border border-border bg-background\">\n        <Thread composerLeading={<ComposerAddAttachment />} />\n      </div>\n    </AssistantDemoHarness>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/attachment-demo/AttachmentDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { AssistantRuntimeProvider } from '@assistant-ui/react';\nimport { ComposerAddAttachment, Thread } from '@forge/dev-kit';\n// Use your chat adapter (e.g. connect to /api/assistant-chat)\n\nexport function ChatWithAttachments() {\n  return (\n    <AssistantRuntimeProvider runtime={/* your runtime */}>\n      <div className=\"flex flex-col gap-2 rounded-lg border border-border p-4\">\n        <Thread composerLeading={<ComposerAddAttachment />} />\n      </div>\n    </AssistantRuntimeProvider>\n  );\n}\n"
    }
  ],
  "assistant-panel-demo": [
    {
      "path": "registry/molecules/assistant-panel-demo/AssistantPanelDemo.tsx",
      "language": "tsx",
      "code": "// AssistantDemoHarness: docs-only mock runtime (useLocalRuntime) for preview. In your app, use AssistantRuntimeProvider with your chat backend (e.g. /api/assistant-chat).\n\n'use client';\n\nimport { Thread } from '@forge/dev-kit';\nimport { AssistantDemoHarness } from '../../../demos/harnesses';\n\nexport function AssistantPanelDemo() {\n  return (\n    <AssistantDemoHarness className=\"p-0\">\n      <div className=\"flex h-full min-h-0 flex-col overflow-hidden rounded-lg border border-border bg-background\">\n        <Thread />\n      </div>\n    </AssistantDemoHarness>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/assistant-panel-demo/AssistantPanelDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { AssistantRuntimeProvider } from '@assistant-ui/react';\nimport { Thread } from '@forge/dev-kit';\n// Use your chat adapter (e.g. connect to /api/assistant-chat)\n\nexport function AssistantPanel() {\n  return (\n    <AssistantRuntimeProvider runtime={/* your runtime */}>\n      <div className=\"rounded-lg border border-border p-4\">\n        <Thread />\n      </div>\n    </AssistantRuntimeProvider>\n  );\n}\n"
    }
  ],
  "plan-card-demo": [
    {
      "path": "registry/molecules/plan-card-demo/PlanCardDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { PlanActionBar, PlanCard } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function PlanCardDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <PlanCard\n        title=\"Add dialogue node\"\n        summary=\"Create a new character node and connect to the narrative branch.\"\n        steps={[\n          { title: 'Create CHARACTER node', description: 'Place at (120, 80)', meta: 'node' },\n          { title: 'Connect to PLAYER', description: 'Add edge for dialogue flow', meta: 'edge' },\n        ]}\n        footer={<PlanActionBar onAccept={() => undefined} onReject={() => undefined} />}\n      />\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/plan-card-demo/PlanCardDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { PlanActionBar, PlanCard } from '@forge/dev-kit';\nexport function PlanCardDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <PlanCard\n        title=\"Add dialogue node\"\n        summary=\"Create a new character node and connect to the narrative branch.\"\n        steps={[\n          { title: 'Create CHARACTER node', description: 'Place at (120, 80)', meta: 'node' },\n          { title: 'Connect to PLAYER', description: 'Add edge for dialogue flow', meta: 'edge' },\n        ]}\n        footer={<PlanActionBar onAccept={() => undefined} onReject={() => undefined} />}\n      />\n    </div>\n  );\n}\n"
    }
  ],
  "toolbar-editor-settings-menu-demo": [
    {
      "path": "registry/molecules/toolbar-editor-settings-menu-demo/ToolbarEditorSettingsMenuDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport {\n  createEditorMenubarMenus,\n  EditorFileMenu,\n  EditorMenubar,\n  EditorSettingsMenu,\n} from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nconst MENUS = createEditorMenubarMenus({\n  file: [EditorFileMenu.New()],\n  settings: [\n    EditorSettingsMenu.OpenSettings(),\n    EditorSettingsMenu.Separator(),\n    EditorSettingsMenu.User({ label: 'Account' }),\n  ],\n});\n\nexport function ToolbarEditorSettingsMenuDemo() {\n  return (\n    <ShowcaseDemoSurface className=\"p-0\">\n      <EditorMenubar menus={MENUS} />\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/toolbar-editor-settings-menu-demo/ToolbarEditorSettingsMenuDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport {\n  createEditorMenubarMenus,\n  EditorFileMenu,\n  EditorMenubar,\n  EditorSettingsMenu,\n} from '@forge/dev-kit';\nconst MENUS = createEditorMenubarMenus({\n  file: [EditorFileMenu.New()],\n  settings: [\n    EditorSettingsMenu.OpenSettings(),\n    EditorSettingsMenu.Separator(),\n    EditorSettingsMenu.User({ label: 'Account' }),\n  ],\n});\n\nexport function ToolbarEditorSettingsMenuDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <EditorMenubar menus={MENUS} />\n    </div>\n  );\n}\n"
    }
  ],
  "dock-sidebar-demo": [
    {
      "path": "registry/molecules/dock-sidebar-demo/DockSidebarDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport {\n  DockSidebar,\n  SidebarContent,\n  SidebarHeader,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n} from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function DockSidebarDemo() {\n  return (\n    <ShowcaseDemoSurface className=\"h-[280px] p-0\">\n      <div className=\"h-full rounded-md border border-border/70\">\n        <DockSidebar>\n          <SidebarHeader>\n            <span className=\"text-xs font-semibold\">Dock Sidebar</span>\n          </SidebarHeader>\n          <SidebarContent>\n            <SidebarMenu>\n              <SidebarMenuItem>\n                <SidebarMenuButton isActive>Graphs</SidebarMenuButton>\n              </SidebarMenuItem>\n              <SidebarMenuItem>\n                <SidebarMenuButton>Nodes</SidebarMenuButton>\n              </SidebarMenuItem>\n            </SidebarMenu>\n          </SidebarContent>\n        </DockSidebar>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/dock-sidebar-demo/DockSidebarDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport {\n  DockSidebar,\n  SidebarContent,\n  SidebarHeader,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n} from '@forge/dev-kit';\nexport function DockSidebarDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"h-full rounded-md border border-border/70\">\n        <DockSidebar>\n          <SidebarHeader>\n            <span className=\"text-xs font-semibold\">Dock Sidebar</span>\n          </SidebarHeader>\n          <SidebarContent>\n            <SidebarMenu>\n              <SidebarMenuItem>\n                <SidebarMenuButton isActive>Graphs</SidebarMenuButton>\n              </SidebarMenuItem>\n              <SidebarMenuItem>\n                <SidebarMenuButton>Nodes</SidebarMenuButton>\n              </SidebarMenuItem>\n            </SidebarMenu>\n          </SidebarContent>\n        </DockSidebar>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "plan-demo": [
    {
      "path": "registry/molecules/plan-demo/PlanDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { Plan, parseSerializablePlan } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nconst PLAN_FIXTURE = parseSerializablePlan({\n  id: 'plan-demo-preview',\n  role: 'state',\n  title: 'Showcase rollout plan',\n  todos: [\n    { id: 'scan', label: 'Scan source components', status: 'completed' },\n    { id: 'generate', label: 'Generate docs pages', status: 'completed' },\n    { id: 'render', label: 'Implement runtime demos', status: 'in_progress' },\n  ],\n});\n\nexport function PlanDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <Plan {...PLAN_FIXTURE} />\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/plan-demo/PlanDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { Plan, parseSerializablePlan } from '@forge/dev-kit';\nconst PLAN_FIXTURE = parseSerializablePlan({\n  id: 'plan-demo-preview',\n  role: 'state',\n  title: 'Showcase rollout plan',\n  todos: [\n    { id: 'scan', label: 'Scan source components', status: 'completed' },\n    { id: 'generate', label: 'Generate docs pages', status: 'completed' },\n    { id: 'render', label: 'Implement runtime demos', status: 'in_progress' },\n  ],\n});\n\nexport function PlanDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <Plan {...PLAN_FIXTURE} />\n    </div>\n  );\n}\n"
    }
  ],
  "codebase-agent-strategy-editor": [
    {
      "path": "registry/organisms/codebase-agent-strategy-editor/CodebaseAgentStrategyEditorDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { CodebaseAgentStrategyEditor } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function CodebaseAgentStrategyEditorDemo() {\n  return (\n    <ShowcaseDemoSurface className=\"h-[640px] min-h-[420px] overflow-hidden p-0\">\n      <CodebaseAgentStrategyEditor />\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/organisms/codebase-agent-strategy-editor/CodebaseAgentStrategyEditorDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { CodebaseAgentStrategyEditor } from '@forge/dev-kit';\n\nexport function StrategyEditor() {\n  return (\n    <div className=\"h-[480px] rounded-lg border border-border\">\n      <CodebaseAgentStrategyEditor />\n    </div>\n  );\n}\n"
    }
  ],
  "dock-panel-demo": [
    {
      "path": "registry/molecules/dock-panel-demo/README.md",
      "language": "md",
      "code": "Individual panel wrapper within `EditorDockLayout`. Provides title bars, scrolling, tabs, and lock overlays.\n\n## Overview\n\n`EditorDockPanel` wraps content within a `EditorDockLayout` slot. It handles:\n\n- **Title bars** with icons and actions (optional)\n- **ScrollArea integration** for scrollable content\n- **Tab rendering** via `PanelTabs` (multi-mode panels)\n- **Lock overlays** during AI operations\n- **Panel identity** via `panelId` for settings scoping\n\nUse `EditorDockPanel` as the direct child of `EditorDockLayout` slots, or nest it within `.Panel` descriptors.\n\n## Installation\n\n```bash\nnpm install @forge/dev-kit\n```\n\nImport:\n\n```tsx\n```\n\n## Basic Usage\n\n```tsx\n<EditorDockPanel panelId=\"inspector\" title=\"Inspector\" icon={<ScanSearch size={14} />}>\n  <PropertyEditor selection={selection} />\n</EditorDockPanel>\n```\n\n## Props API\n\n| Prop | Type | Default | Description |\n|------|------|---------|-------------|\n| `panelId` | `string` | **Required** | Unique panel identifier. Sets `data-panel-id` for settings scoping and CSS targeting. |\n| `title` | `string` | - | Panel title in header bar. Optional; hide with `hideTitleBar`. |\n| `icon` | `React.ReactNode` | - | Icon rendered before title in header. |\n| `tabs` | `PanelTabDef[]` | - | Tab definitions. When provided, renders `PanelTabs` internally and ignores `children`. |\n| `defaultTabId` | `string` | - | Default tab when `tabs` is provided. |\n| `activeTabId` | `string` | - | Controlled active tab ID. |\n| `onTabChange` | `(id: string) => void` | - | Called when active tab changes. |\n| `headerActions` | `React.ReactNode` | - | Actions in header bar (gear icon, close button, etc.). |\n| `hideTitleBar` | `boolean` | `false` | When true, title bar is not rendered. Use when panel identity is shown elsewhere (e.g., dockview tab). |\n| `scrollable` | `boolean` | `true` | When true, wraps content in `ScrollArea`. Set false for viewports (React Flow, Canvas) that manage their own scroll. |\n| `locked` | `boolean` | `false` | When true, overlays panel with `LockedOverlay`. Useful during AI patch application. |\n| `lockedProps` | `Partial<LockedOverlayProps>` | - | Props passed to `LockedOverlay` when `locked=true`. |\n| `children` | `React.ReactNode` | - | Panel content. Used when `tabs` is not provided. |\n| `className` | `string` | - | Additional classes for root element. |\n\n## Title Bar Rendering\n\n### With Title Bar\n\n```tsx\n<EditorDockPanel\n  panelId=\"properties\"\n  title=\"Properties\"\n  icon={<Settings size={14} />}\n  headerActions={\n    <Button size=\"sm\" variant=\"ghost\" onClick={onReset}>\n      <RotateCcw size={12} />\n    </Button>\n  }\n>\n  {/* Content */}\n</EditorDockPanel>\n```\n\n### Without Title Bar (Common)\n\nWhen panel identity is shown in dockview tabs, hide the title bar:\n\n```tsx\n<EditorDockLayout>\n  <EditorDockLayout.Left>\n    <EditorDockLayout.Panel id=\"nav\" title=\"Navigator\" icon={<BookOpen size={14} />}>\n      <EditorDockPanel panelId=\"nav-content\" hideTitleBar>\n        {/* Navigator content — title shown in dockview tab */}\n      </EditorDockPanel>\n    </EditorDockLayout.Panel>\n  </EditorDockLayout.Left>\n</EditorDockLayout>\n```\n\n## Scrollable vs Non-Scrollable\n\n### Scrollable Content (Default)\n\nFor property editors, lists, forms:\n\n```tsx\n<EditorDockPanel panelId=\"inspector\" title=\"Inspector\" scrollable>\n  <div className=\"space-y-4\">\n    <PropertyGroup title=\"Transform\">\n      <Input label=\"X\" value={x} onChange={setX} />\n      <Input label=\"Y\" value={y} onChange={setY} />\n    </PropertyGroup>\n    <PropertyGroup title=\"Appearance\">\n      <ColorPicker label=\"Fill\" value={fill} onChange={setFill} />\n    </PropertyGroup>\n  </div>\n</EditorDockPanel>\n```\n\n**Wrapped in `ScrollArea`** with padding applied automatically.\n\n### Non-Scrollable Viewports\n\nFor React Flow, Canvas, CodeMirror:\n\n```tsx\n<EditorDockPanel panelId=\"viewport\" title=\"Viewport\" scrollable={false}>\n  <ReactFlow\n    nodes={nodes}\n    edges={edges}\n    onNodesChange={onNodesChange}\n    onEdgesChange={onEdgesChange}\n  >\n    <Background />\n    <Controls />\n  </ReactFlow>\n</EditorDockPanel>\n```\n\n**No ScrollArea** — content manages its own overflow.\n\n## Tab Mode\n\nWhen `tabs` is provided, renders `PanelTabs`:\n\n```tsx\n<EditorDockPanel\n  panelId=\"sidebar\"\n  tabs={[\n    {\n      id: 'files',\n      label: 'Files',\n      icon: <FileText size={12} />},\n      content: <FileTree files={files} />,\n    },\n    {\n      id: 'search',\n      label: 'Search',\n      icon: <Search size={12} />,\n      content: <SearchPanel query={query} />,\n    },\n    {\n      id: 'git',\n      label: 'Git',\n      icon: <GitBranch size={12} />,\n      content: <GitPanel repo={repo} />,\n    },\n  ]}\n  defaultTabId=\"files\"\n/>\n```\n\nTitle bar is hidden when tabs are used. Tab bar replaces header.\n\n## Lock Overlay\n\nLock panel during AI operations:\n\n```tsx\nconst [isApplying, setIsApplying] = useState(false);\n\n<EditorDockPanel\n  panelId=\"main\"\n  title=\"Main\"\n  scrollable={false}\n  locked={isApplying}\n  lockedProps={{\n    title: \"AI Editing\",\n    description: \"Applying plan to graph...\",\n  }}\n>\n  <GraphEditor graph={graph} />\n</EditorDockPanel>\n```\n\n`LockedOverlay` prevents interaction and shows spinner + message.\n\n## Real-World Example: CharacterEditor Navigator\n\nFrom `apps/studio/components/editors/CharacterEditor.tsx`:\n\n```tsx\n<EditorDockPanel panelId=\"character-navigator\" title=\"Characters\" scrollable={false} hideTitleBar>\n  <CharacterSidebar\n    characters={characters}\n    relationships={relationships}\n    activeCharacterId={activeCharacterId}\n    onSelectCharacter={(id) => {\n      setActiveCharacter(id);\n      setSelectedCharId(id);\n      setSelectedRelId(null);\n      clearHighlights();\n    }}\n    onSelectRelationship={(id) => {\n      setSelectedRelId(id);\n      setSelectedCharId(null);\n    }}\n    onDeleteRelationship={handleDeleteRelationship}\n    onCreateCharacter={() => openOverlay('create-character')}\n  />\n</EditorDockPanel>\n```\n\n- `scrollable={false}` — `CharacterSidebar` manages its own scroll\n- `hideTitleBar` — Title shown in dockview tab\n- `panelId` sets `data-panel-id=\"character-navigator\"` for styling\n\n## Real-World Example: DialogueEditor Inspector\n\nFrom `apps/studio/components/editors/DialogueEditor.tsx`:\n\n```tsx\n<EditorDockPanel panelId=\"dialogue-right\" hideTitleBar className=\"h-full\">\n  <EditorInspector selection={activeSelection} sections={inspectorSections} />\n</EditorDockPanel>\n```\n\n- `hideTitleBar` — Title shown in dockview tab\n- `EditorInspector` handles scroll internally\n\n## Real-World Example: DialogueEditor Main (Locked)\n\nFrom `apps/studio/components/editors/DialogueEditor.tsx`:\n\n```tsx\nconst isEditorLocked = editorLock.locked || globalLocked === true;\n\n<EditorDockPanel\n  panelId=\"dialogue-main\"\n  title=\"Dialogue Graphs\"\n  hideTitleBar\n  scrollable={false}\n  locked={isEditorLocked}\n  lockedProps={{\n    description: editorLock.reason ?? (globalLocked ? 'Editor locked in settings.' : undefined),\n  }}\n>\n  {mainContent}\n</EditorDockPanel>\n```\n\nUses `usePanelLock()` hook to manage lock state during AI operations.\n\n## TypeScript Interface\n\n```tsx\nexport interface DockPanelProps {\n  panelId: string;\n  title?: string;\n  icon?: React.ReactNode;\n  tabs?: PanelTabDef[];\n  defaultTabId?: string;\n  activeTabId?: string;\n  onTabChange?: (id: string) => void;\n  headerActions?: React.ReactNode;\n  hideTitleBar?: boolean;\n  scrollable?: boolean;\n  locked?: boolean;\n  lockedProps?: Partial<LockedOverlayProps>;\n  children?: React.ReactNode;\n  className?: string;\n}\n\nexport interface PanelTabDef {\n  id: string;\n  label: string;\n  icon?: React.ReactNode;\n  content: React.ReactNode;\n  accentColor?: string;\n  closable?: boolean;\n}\n```\n\n## Data Attributes\n\nSets `data-panel-id` for CSS targeting:\n\n```html\n<div data-panel-id=\"inspector\">\n  ...\n</div>\n```\n\nTarget with CSS:\n\n```css\n[data-panel-id=\"inspector\"] {\n  background: var(--background-muted);\n}\n\n[data-panel-id=\"inspector\"] .property-group {\n  border-color: var(--border-subtle);\n}\n```\n\n## Common Patterns\n\n### Pattern: Property Inspector with Sections\n\n```tsx\n<EditorDockPanel panelId=\"inspector\" title=\"Inspector\" icon={<ScanSearch />} scrollable>\n  {selection ? (\n    <div className=\"space-y-4\">\n      <PropertySection title=\"Transform\">\n        <Input label=\"X\" value={node.x} onChange={handleXChange} />\n        <Input label=\"Y\" value={node.y} onChange={handleYChange} />\n      </PropertySection>\n      <PropertySection title=\"Style\">\n        <ColorPicker label=\"Fill\" value={node.fill} onChange={handleFillChange} />\n        <Select label=\"Stroke\" value={node.stroke} onChange={handleStrokeChange} />\n      </PropertySection>\n    </div>\n  ) : (\n    <div className=\"flex items-center justify-center h-full text-muted-foreground\">\n      No selection\n    </div>\n  )}\n</EditorDockPanel>\n```\n\n### Pattern: File Navigator with Search\n\n```tsx\n<EditorDockPanel\n  panelId=\"files\"\n  title=\"Files\"\n  icon={<FileText />}\n  headerActions={\n    <Button size=\"sm\" variant=\"ghost\" onClick={onRefresh}>\n      <RefreshCw size={12} />\n    </Button>\n  }\n  scrollable\n>\n  <div className=\"space-y-2\">\n    <Input\n      placeholder=\"Search files...\"\n      value={searchQuery}\n      onChange={(e) => setSearchQuery(e.target.value)}\n    />\n    <FileTree files={filteredFiles} onSelect={handleSelect} />\n  </div>\n</EditorDockPanel>\n```\n\n### Pattern: Multi-Tab Sidebar\n\n```tsx\n<EditorDockPanel\n  panelId=\"sidebar\"\n  tabs={[\n    {\n      id: 'graphs',\n      label: 'Graphs',\n      icon: <BookOpen size={12} />,\n      content: <GraphList graphs={graphs} onSelect={handleSelectGraph} />,\n      accentColor: 'hsl(210 80% 60%)',\n    },\n    {\n      id: 'nodes',\n      label: 'Nodes',\n      icon: <Boxes size={12} />,\n      content: <NodePalette items={nodeTypes} />,\n      accentColor: 'hsl(30 80% 60%)',\n    },\n    {\n      id: 'assets',\n      label: 'Assets',\n      icon: <Image size={12} />,\n      content: <AssetLibrary assets={assets} />,\n      accentColor: 'hsl(280 80% 60%)',\n    },\n  ]}\n  defaultTabId=\"graphs\"\n/>\n```\n\n### Pattern: Viewport with Controls\n\n```tsx\n<EditorDockPanel\n  panelId=\"viewport\"\n  title=\"Viewport\"\n  headerActions={\n    <>\n      <Button size=\"sm\" variant=\"ghost\" onClick={onZoomIn}>\n        <ZoomIn size={12} />\n      </Button>\n      <Button size=\"sm\" variant=\"ghost\" onClick={onZoomOut}>\n        <ZoomOut size={12} />\n      </Button>\n      <Button size=\"sm\" variant=\"ghost\" onClick={onFitView}>\n        <Maximize size={12} />\n      </Button>\n    </>\n  }\n  scrollable={false}\n>\n  <Canvas nodes={nodes} edges={edges} />\n</EditorDockPanel>\n```\n\n### Pattern: Locked During Operation\n\n```tsx\nconst [isProcessing, setIsProcessing] = useState(false);\n\nconst handleApplyChanges = async () => {\n  setIsProcessing(true);\n  try {\n    await applyPatch(patch);\n  } finally {\n    setIsProcessing(false);\n  }\n};\n\n<EditorDockPanel\n  panelId=\"editor\"\n  title=\"Editor\"\n  scrollable={false}\n  locked={isProcessing}\n  lockedProps={{\n    title: \"Processing\",\n    description: \"Applying changes to document...\",\n  }}\n>\n  <CodeEditor code={code} onChange={setCode} />\n</EditorDockPanel>\n```\n\n## Styling\n\n### Title Bar Styles\n\nTitle bar uses CSS variables:\n\n```css\n[data-panel-id=\"inspector\"] .panel-header {\n  min-height: var(--tab-height);\n  padding: 0 var(--panel-padding);\n  border-bottom: 2px solid var(--context-accent);\n  background: var(--card);\n}\n```\n\n### Scroll Area Styles\n\nScrollable content auto-applies padding:\n\n```tsx\n<EditorDockPanel panelId=\"props\" scrollable>\n  {/* Content gets wrapped in: */}\n  {/* <ScrollArea> */}\n  {/*   <div className=\"p-[var(--panel-padding)]\"> */}\n  {/*     {children} */}\n  {/*   </div> */}\n  {/* </ScrollArea> */}\n</EditorDockPanel>\n```\n\nOverride padding:\n\n```tsx\n<EditorDockPanel panelId=\"props\" scrollable className=\"[&_.scroll-area>div]:p-0\">\n  {/* No padding — full control */}\n</EditorDockPanel>\n```\n\n## Performance\n\n1. **Memoize content** — Panels re-render on dockview layout changes\n2. **Use `React.memo` for expensive content** (lists, trees, etc.)\n3. **Virtualize long lists** — Use `react-virtualized` or `@tanstack/react-virtual`\n4. **Defer tab content** — Use `lazy` loading for inactive tabs\n\n```tsx\nconst ExpensivePanel = React.memo(function ExpensivePanel({ data }: { data: Data }) {\n  // Heavy rendering logic\n  return <div>{/* ... */}</div>;\n});\n\n<EditorDockPanel panelId=\"expensive\" title=\"Expensive\" scrollable>\n  <ExpensivePanel data={data} />\n</EditorDockPanel>\n```\n\n## Accessibility\n\n- Title bar has semantic heading structure\n- `panelId` used in `aria-labelledby` when title present\n- ScrollArea has keyboard navigation\n- Lock overlay has `aria-live=\"polite\"` for screen readers\n\n## Related Components\n\n- [EditorDockLayout](./dock-layout) — Parent layout system\n- [PanelTabs](./panel-tabs.mdx) — Tab system for multi-mode panels\n- [EditorInspector](./editor-inspector.mdx) — Selection-driven inspector\n\n## Source Code\n\nLocation: `packages/shared/src/shared/components/editor/DockPanel.tsx`\n\n## Best Practices\n\n1. **Always set `panelId`** — Required for CSS targeting and settings\n2. **Hide title bar in dockview layouts** — Avoid duplicate titles\n3. **Use `scrollable={false}` for viewports** — Canvas/Flow manage scroll\n4. **Lock during async operations** — Prevents race conditions\n5. **Memoize expensive content** — Reduce re-render cost\n6. **Use tabs for multi-mode panels** — Better than custom switchers"
    },
    {
      "path": "registry/molecules/dock-panel-demo/DockPanelDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { EditorButton, EditorDockPanel } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function DockPanelDemo() {\n  return (\n    <ShowcaseDemoSurface className=\"h-[280px] p-0\">\n      <div className=\"h-full rounded-md border border-border/70 overflow-hidden\">\n        <EditorDockPanel\n          panelId=\"dock-panel-demo\"\n          title=\"Dock Panel\"\n          headerActions={<EditorButton size=\"sm\" variant=\"outline\">Action</EditorButton>}\n        >\n          <EditorDockPanel.Tab id=\"content\" label=\"Content\">\n            <div className=\"space-y-2 text-xs text-muted-foreground p-3\">\n              <p>Panel header, body, and action region.</p>\n              <p>Used in docked rails and tab stacks.</p>\n            </div>\n          </EditorDockPanel.Tab>\n          <EditorDockPanel.Tab id=\"about\" label=\"About\">\n            <div className=\"p-3 text-xs text-muted-foreground\">Declarative tabs via EditorDockPanel.Tab</div>\n          </EditorDockPanel.Tab>\n        </EditorDockPanel>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/dock-panel-demo/DockPanelDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { EditorButton, EditorDockPanel } from '@forge/dev-kit';\nexport function DockPanelDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"h-full rounded-md border border-border/70 overflow-hidden\">\n        <EditorDockPanel\n          panelId=\"dock-panel-demo\"\n          title=\"Dock Panel\"\n          headerActions={<EditorButton size=\"sm\" variant=\"outline\">Action</EditorButton>}\n        >\n          <EditorDockPanel.Tab id=\"content\" label=\"Content\">\n            <div className=\"space-y-2 text-xs text-muted-foreground p-3\">\n              <p>Panel header, body, and action region.</p>\n              <p>Used in docked rails and tab stacks.</p>\n            </div>\n          </EditorDockPanel.Tab>\n          <EditorDockPanel.Tab id=\"about\" label=\"About\">\n            <div className=\"p-3 text-xs text-muted-foreground\">Declarative tabs via EditorDockPanel.Tab</div>\n          </EditorDockPanel.Tab>\n        </EditorDockPanel>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "editor-inspector-demo": [
    {
      "path": "registry/molecules/editor-inspector-demo/README.md",
      "language": "md",
      "code": "The **EditorInspector** is a selection-driven properties panel that displays context-sensitive forms and controls based on the current editor selection. It's the right-hand panel in most editors, showing node properties, edge settings, character details, or any other entity-specific information.\n\n## Table of Contents\n\n1. [Core Concepts](#core-concepts)\n2. [Selection System](#selection-system)\n3. [Inspector Sections](#inspector-sections)\n4. [Component API](#component-api)\n5. [Real Examples](#real-examples)\n6. [Highlight Integration](#highlight-integration)\n7. [Performance](#performance)\n8. [Common Patterns](#common-patterns)\n\n---\n\n## Core Concepts\n\n### Architecture\n\n```\n┌──────────────────────────────────────────────┐\n│           EditorInspector                     │\n├──────────────────────────────────────────────┤\n│                                               │\n│  1. Receives Selection                        │\n│       │                                       │\n│       ├─► Selection.type                     │\n│       ├─► Selection.entityType               │\n│       └─► Selection.id                       │\n│                                               │\n│  2. Filters Sections                          │\n│       │                                       │\n│       └─► section.when(selection) → boolean  │\n│                                               │\n│  3. Renders Matching Sections                 │\n│       │                                       │\n│       └─► section.render({ selection })      │\n│                                               │\n└──────────────────────────────────────────────┘\n```\n\n### Key Features\n\n- **Selection-driven**: Content changes based on what's selected\n- **Conditional rendering**: Sections shown/hidden via predicate functions\n- **Type-safe**: Full TypeScript support for selection types\n- **Flexible composition**: Section-based or slot-based rendering\n- **Border accent**: Visual indicator tied to context color\n\n---\n\n## Selection System\n\n### Selection Type Union\n\nFrom `C:\\Users\\benja\\Documents\\forge-agent\\packages\\shared\\src\\shared\\workspace\\selection.ts`:\n\n```typescript\n/**\n * Discriminant union for all selection types.\n * Every editor emits selection in this shape.\n */\nexport type Selection =\n  | { type: 'none' }\n  | SelectionEntity\n  | SelectionTextRange\n  | SelectionCanvasObject;\n```\n\n### SelectionEntity\n\n**Most common selection type** for nodes, edges, characters, cells, etc.\n\n```typescript\nexport interface SelectionEntity {\n  type: 'entity';\n  entityType: string;  // Domain-specific (e.g. 'forge.node', 'characters.cell')\n  id: string;          // Unique identifier\n  ref?: string;        // Optional reference (e.g. node type)\n  meta?: Record<string, unknown>;  // Additional metadata\n}\n```\n\n**Examples:**\n\n```typescript\n// Dialogue node\n{\n  type: 'entity',\n  entityType: 'forge.node',\n  id: 'node-123',\n  meta: { label: 'Start Node' }\n}\n\n// Dialogue edge\n{\n  type: 'entity',\n  entityType: 'forge.edge',\n  id: 'edge-456',\n  meta: { source: 'node-123', target: 'node-789' }\n}\n\n// Character element\n{\n  type: 'entity',\n  entityType: 'characters.cell',\n  id: 'cell-abc',\n  ref: 'traits',\n  meta: { characterId: 'char-1' }\n}\n```\n\n### SelectionTextRange\n\nFor text selections in rich text editors.\n\n```typescript\nexport interface SelectionTextRange {\n  type: 'textRange';\n  anchor: { key: string; offset: number };\n  focus: { key: string; offset: number };\n  textPreview?: string;\n  meta?: Record<string, unknown>;\n}\n```\n\n### SelectionCanvasObject\n\nFor canvas-based systems (Twick, etc.).\n\n```typescript\nexport interface SelectionCanvasObject {\n  type: 'canvasObject';\n  system: string;  // e.g. 'twick', 'joints'\n  id: string;\n  meta?: Record<string, unknown>;\n}\n```\n\n### Type Guards\n\n```typescript\nexport function isNone(s: Selection | null | undefined): boolean {\n  if (s == null) return true;\n  return 'type' in s && s.type === 'none';\n}\n\nexport function isEntity(s: Selection): s is SelectionEntity {\n  return s.type === 'entity';\n}\n\nexport function isTextRange(s: Selection): s is SelectionTextRange {\n  return s.type === 'textRange';\n}\n\nexport function isCanvasObject(s: Selection): s is SelectionCanvasObject {\n  return s.type === 'canvasObject';\n}\n```\n\n---\n\n## Inspector Sections\n\n### InspectorSection Interface\n\nFrom `C:\\Users\\benja\\Documents\\forge-agent\\packages\\shared\\src\\shared\\workspace\\inspector.ts`:\n\n```typescript\nexport interface InspectorSection {\n  id: string;\n  title: string;\n\n  /**\n   * Predicate: when true, this section is shown.\n   * Called on every selection change.\n   */\n  when: (selection: Selection | null) => boolean;\n\n  /**\n   * Render section content.\n   * Only called for sections where when() returned true.\n   */\n  render: (props: { selection: Selection | null }) => ReactNode;\n}\n```\n\n### Section Definition Pattern\n\n```typescript\nconst myInspectorSections: InspectorSection[] = [\n  {\n    id: 'node-properties',\n    title: 'Node Properties',\n    when: (selection) =>\n      isEntity(selection) && selection.entityType === 'forge.node',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n      return <NodePropertiesForm nodeId={selection.id} />;\n    },\n  },\n  {\n    id: 'edge-properties',\n    title: 'Edge Properties',\n    when: (selection) =>\n      isEntity(selection) && selection.entityType === 'forge.edge',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n      return <EdgePropertiesForm edgeId={selection.id} />;\n    },\n  },\n];\n```\n\n---\n\n## Component API\n\n### EditorInspector Props\n\n```typescript\nexport interface EditorInspectorProps {\n  /** Selection from editor state */\n  selection?: Selection | null;\n\n  /** Declarative section definitions */\n  sections?: InspectorSection[];\n\n  /** Fallback content when no sections match */\n  children?: React.ReactNode;\n\n  className?: string;\n}\n```\n\n### Basic Usage (Section-based)\n\n```tsx\nimport type { InspectorSection, Selection } from '@forge/dev-kit';\n\nfunction MyEditor() {\n  const [selection, setSelection] = useState<Selection>({ type: 'none' });\n\n  const sections: InspectorSection[] = [\n    {\n      id: 'properties',\n      title: 'Properties',\n      when: (sel) => isEntity(sel),\n      render: ({ selection }) => <PropertiesForm selection={selection} />,\n    },\n  ];\n\n  return (\n    <EditorShell>\n      <EditorCanvas onSelectionChange={setSelection} />\n      <EditorInspector selection={selection} sections={sections} />\n    </EditorShell>\n  );\n}\n```\n\n### Slot-based Usage\n\n```tsx\nfunction SimpleEditor() {\n  const [selection, setSelection] = useState<Selection>({ type: 'none' });\n\n  return (\n    <EditorShell>\n      <EditorCanvas onSelectionChange={setSelection} />\n      <EditorInspector selection={selection}>\n        {isEntity(selection) ? (\n          <PropertiesForm entityId={selection.id} />\n        ) : (\n          <EmptyState message=\"Select an item\" />\n        )}\n      </EditorInspector>\n    </EditorShell>\n  );\n}\n```\n\n---\n\n## Real Examples\n\n### DialogueEditor Inspector\n\nFrom `C:\\Users\\benja\\Documents\\forge-agent\\apps\\studio\\components\\forge\\dialogue-inspector-sections.tsx`:\n\n```typescript\nimport { isEntity } from '@forge/dev-kit';\n\nexport const dialogueInspectorSections: InspectorSection[] = [\n  {\n    id: 'node-properties',\n    title: 'Node Properties',\n    when: (selection) =>\n      isEntity(selection) && selection.entityType === 'forge.node',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n\n      return (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"text-sm font-medium\">Node ID</label>\n            <p className=\"text-xs text-muted-foreground\">{selection.id}</p>\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium\">Label</label>\n            <Input\n              value={selection.meta?.label as string || ''}\n              onChange={(e) => updateNodeLabel(selection.id, e.target.value)}\n            />\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium\">Type</label>\n            <Select\n              value={selection.meta?.type as string || 'dialogue'}\n              onValueChange={(val) => updateNodeType(selection.id, val)}\n            >\n              <SelectTrigger>\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"dialogue\">Dialogue</SelectItem>\n                <SelectItem value=\"branch\">Branch</SelectItem>\n                <SelectItem value=\"action\">Action</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium\">Body</label>\n            <Textarea\n              rows={6}\n              value={selection.meta?.body as string || ''}\n              onChange={(e) => updateNodeBody(selection.id, e.target.value)}\n              placeholder=\"Enter dialogue text...\"\n            />\n          </div>\n        </div>\n      );\n    },\n  },\n\n  {\n    id: 'edge-properties',\n    title: 'Edge Properties',\n    when: (selection) =>\n      isEntity(selection) && selection.entityType === 'forge.edge',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n\n      return (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"text-sm font-medium\">Edge ID</label>\n            <p className=\"text-xs text-muted-foreground\">{selection.id}</p>\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium\">Source</label>\n            <p className=\"text-xs text-muted-foreground\">\n              {selection.meta?.source as string}\n            </p>\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium\">Target</label>\n            <p className=\"text-xs text-muted-foreground\">\n              {selection.meta?.target as string}\n            </p>\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium\">Label</label>\n            <Input\n              value={selection.meta?.label as string || ''}\n              onChange={(e) => updateEdgeLabel(selection.id, e.target.value)}\n              placeholder=\"Choice text...\"\n            />\n          </div>\n\n          <div>\n            <label className=\"text-sm font-medium\">Condition</label>\n            <Textarea\n              rows={3}\n              value={selection.meta?.condition as string || ''}\n              onChange={(e) => updateEdgeCondition(selection.id, e.target.value)}\n              placeholder=\"if $variable == true\"\n            />\n          </div>\n        </div>\n      );\n    },\n  },\n\n  {\n    id: 'empty-state',\n    title: 'Selection',\n    when: (selection) => selection?.type === 'none',\n    render: () => (\n      <div className=\"flex flex-col items-center justify-center h-full text-center p-8\">\n        <div className=\"rounded-full bg-muted p-6 mb-4\">\n          <MousePointer size={32} className=\"text-muted-foreground\" />\n        </div>\n        <h3 className=\"text-sm font-medium mb-2\">No Selection</h3>\n        <p className=\"text-xs text-muted-foreground\">\n          Select a node or edge to view properties\n        </p>\n      </div>\n    ),\n  },\n];\n```\n\n### Usage in Editor\n\n```tsx\nfunction DialogueEditor() {\n  const [selection, setSelection] = useState<Selection>({ type: 'none' });\n\n  return (\n    <EditorShell>\n      <GraphEditor onSelectionChange={setSelection} />\n      <EditorInspector\n        selection={selection}\n        sections={dialogueInspectorSections}\n      />\n    </EditorShell>\n  );\n}\n```\n\n---\n\n### CharacterEditor Inspector\n\n```typescript\nconst characterInspectorSections: InspectorSection[] = [\n  {\n    id: 'cell-properties',\n    title: 'Cell Properties',\n    when: (selection) =>\n      isEntity(selection) && selection.entityType === 'characters.cell',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n\n      const cellType = selection.ref; // 'traits', 'relationships', etc.\n\n      return (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"text-sm font-medium\">Cell Type</label>\n            <Badge>{cellType}</Badge>\n          </div>\n\n          {cellType === 'traits' && (\n            <TraitCellForm cellId={selection.id} />\n          )}\n\n          {cellType === 'relationships' && (\n            <RelationshipCellForm cellId={selection.id} />\n          )}\n\n          {cellType === 'notes' && (\n            <NotesCellForm cellId={selection.id} />\n          )}\n        </div>\n      );\n    },\n  },\n\n  {\n    id: 'character-stats',\n    title: 'Character Stats',\n    when: (selection) =>\n      isEntity(selection) &&\n      selection.entityType === 'characters.cell' &&\n      selection.meta?.characterId != null,\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n\n      const characterId = selection.meta?.characterId as string;\n\n      return <CharacterStatsPanel characterId={characterId} />;\n    },\n  },\n];\n```\n\n---\n\n## Highlight Integration\n\nThe inspector works seamlessly with the **AI highlight system** to provide visual feedback during agent operations.\n\n### Highlight System Hook\n\n```typescript\nfunction MyEditor() {\n  const [selection, setSelection] = useState<Selection>({ type: 'none' });\n\n  // Hook that tracks AI highlights\n  const { highlightedEntityType, highlightedEntityId } = useAIHighlight();\n\n  const isHighlighted = useCallback(\n    (entityType: string, id: string) => {\n      return (\n        entityType === highlightedEntityType &&\n        id === highlightedEntityId\n      );\n    },\n    [highlightedEntityType, highlightedEntityId]\n  );\n\n  return (\n    <EditorShell>\n      <GraphEditor\n        onSelectionChange={setSelection}\n        isHighlighted={isHighlighted}\n      />\n      <EditorInspector selection={selection} sections={sections} />\n    </EditorShell>\n  );\n}\n```\n\n### Highlight in Inspector\n\n```tsx\nconst sections: InspectorSection[] = [\n  {\n    id: 'node-properties',\n    title: 'Node Properties',\n    when: (selection) =>\n      isEntity(selection) && selection.entityType === 'forge.node',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n\n      const { highlightedEntityType, highlightedEntityId } = useAIHighlight();\n      const isHighlighted =\n        selection.entityType === highlightedEntityType &&\n        selection.id === highlightedEntityId;\n\n      return (\n        <div\n          className={cn(\n            'space-y-4 p-4 rounded-md',\n            isHighlighted && 'ring-2 ring-primary animate-pulse'\n          )}\n        >\n          {isHighlighted && (\n            <Alert>\n              <Bot size={16} />\n              <AlertTitle>AI Action</AlertTitle>\n              <AlertDescription>\n                The AI is modifying this node\n              </AlertDescription>\n            </Alert>\n          )}\n\n          <NodePropertiesForm nodeId={selection.id} />\n        </div>\n      );\n    },\n  },\n];\n```\n\n---\n\n## Performance\n\n### Memoization\n\n**Prevent unnecessary re-renders** by memoizing expensive computations.\n\n```tsx\nconst sections: InspectorSection[] = useMemo(() => [\n  {\n    id: 'properties',\n    title: 'Properties',\n    when: (selection) => isEntity(selection),\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n      return <PropertiesForm entityId={selection.id} />;\n    },\n  },\n], []); // Empty deps: sections never change\n\nfunction MyEditor() {\n  const [selection, setSelection] = useState<Selection>({ type: 'none' });\n\n  return (\n    <EditorInspector selection={selection} sections={sections} />\n  );\n}\n```\n\n### Component Memoization\n\n```tsx\nconst NodePropertiesForm = React.memo(\n  ({ nodeId }: { nodeId: string }) => {\n    const node = useNode(nodeId);\n\n    return (\n      <div className=\"space-y-4\">\n        <Input\n          value={node.label}\n          onChange={(e) => updateNode(nodeId, { label: e.target.value })}\n        />\n      </div>\n    );\n  },\n  (prev, next) => prev.nodeId === next.nodeId\n);\n```\n\n### Conditional Data Fetching\n\n**Only fetch data for visible sections:**\n\n```tsx\n{\n  id: 'node-details',\n  title: 'Node Details',\n  when: (selection) =>\n    isEntity(selection) && selection.entityType === 'forge.node',\n  render: ({ selection }) => {\n    if (!isEntity(selection)) return null;\n\n    // Only fetches when section is visible\n    const { data: node, isLoading } = useNode(selection.id);\n\n    if (isLoading) return <Skeleton />;\n    if (!node) return <EmptyState />;\n\n    return <NodeDetailsForm node={node} />;\n  },\n}\n```\n\n---\n\n## Common Patterns\n\n### Multi-Entity Selection\n\n```tsx\nconst sections: InspectorSection[] = [\n  {\n    id: 'bulk-actions',\n    title: 'Bulk Actions',\n    when: (selection) =>\n      isEntity(selection) && selection.meta?.selectedIds != null,\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n\n      const selectedIds = selection.meta?.selectedIds as string[];\n\n      return (\n        <div className=\"space-y-4\">\n          <p className=\"text-sm\">\n            {selectedIds.length} items selected\n          </p>\n\n          <Button\n            onClick={() => deleteNodes(selectedIds)}\n            variant=\"destructive\"\n          >\n            Delete All\n          </Button>\n\n          <Button onClick={() => duplicateNodes(selectedIds)}>\n            Duplicate All\n          </Button>\n        </div>\n      );\n    },\n  },\n];\n```\n\n---\n\n### Nested Entity Types\n\n```tsx\nconst sections: InspectorSection[] = [\n  {\n    id: 'dialogue-node',\n    title: 'Dialogue Node',\n    when: (selection) =>\n      isEntity(selection) &&\n      selection.entityType === 'forge.node' &&\n      selection.meta?.nodeType === 'dialogue',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n      return <DialogueNodeForm nodeId={selection.id} />;\n    },\n  },\n  {\n    id: 'branch-node',\n    title: 'Branch Node',\n    when: (selection) =>\n      isEntity(selection) &&\n      selection.entityType === 'forge.node' &&\n      selection.meta?.nodeType === 'branch',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n      return <BranchNodeForm nodeId={selection.id} />;\n    },\n  },\n];\n```\n\n---\n\n### Tabbed Inspector\n\n```tsx\nconst sections: InspectorSection[] = [\n  {\n    id: 'node-tabs',\n    title: 'Node',\n    when: (selection) =>\n      isEntity(selection) && selection.entityType === 'forge.node',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n\n      return (\n        <Tabs defaultValue=\"properties\">\n          <TabsList>\n            <TabsTrigger value=\"properties\">Properties</TabsTrigger>\n            <TabsTrigger value=\"metadata\">Metadata</TabsTrigger>\n            <TabsTrigger value=\"history\">History</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"properties\">\n            <NodePropertiesForm nodeId={selection.id} />\n          </TabsContent>\n\n          <TabsContent value=\"metadata\">\n            <NodeMetadataForm nodeId={selection.id} />\n          </TabsContent>\n\n          <TabsContent value=\"history\">\n            <NodeHistoryList nodeId={selection.id} />\n          </TabsContent>\n        </Tabs>\n      );\n    },\n  },\n];\n```\n\n---\n\n### Accordion Sections\n\n```tsx\nconst sections: InspectorSection[] = [\n  {\n    id: 'node-details',\n    title: 'Node Details',\n    when: (selection) =>\n      isEntity(selection) && selection.entityType === 'forge.node',\n    render: ({ selection }) => {\n      if (!isEntity(selection)) return null;\n\n      return (\n        <Accordion type=\"multiple\" defaultValue={['basic', 'advanced']}>\n          <AccordionItem value=\"basic\">\n            <AccordionTrigger>Basic Properties</AccordionTrigger>\n            <AccordionContent>\n              <NodeBasicForm nodeId={selection.id} />\n            </AccordionContent>\n          </AccordionItem>\n\n          <AccordionItem value=\"advanced\">\n            <AccordionTrigger>Advanced</AccordionTrigger>\n            <AccordionContent>\n              <NodeAdvancedForm nodeId={selection.id} />\n            </AccordionContent>\n          </AccordionItem>\n\n          <AccordionItem value=\"metadata\">\n            <AccordionTrigger>Metadata</AccordionTrigger>\n            <AccordionContent>\n              <NodeMetadataForm nodeId={selection.id} />\n            </AccordionContent>\n          </AccordionItem>\n        </Accordion>\n      );\n    },\n  },\n];\n```\n\n---\n\n### Context Menu Integration\n\n```tsx\nfunction MyEditor() {\n  const [selection, setSelection] = useState<Selection>({ type: 'none' });\n  const [contextMenu, setContextMenu] = useState<{ x: number; y: number } | null>(null);\n\n  const handleContextMenu = (e: React.MouseEvent, entity: Entity) => {\n    e.preventDefault();\n    setSelection({\n      type: 'entity',\n      entityType: entity.type,\n      id: entity.id,\n    });\n    setContextMenu({ x: e.clientX, y: e.clientY });\n  };\n\n  return (\n    <EditorShell>\n      <GraphEditor\n        onSelectionChange={setSelection}\n        onContextMenu={handleContextMenu}\n      />\n      <EditorInspector selection={selection} sections={sections} />\n\n      {contextMenu && (\n        <ContextMenu\n          position={contextMenu}\n          onClose={() => setContextMenu(null)}\n        >\n          <ContextMenuItem onClick={() => duplicateEntity(selection)}>\n            Duplicate\n          </ContextMenuItem>\n          <ContextMenuItem onClick={() => deleteEntity(selection)}>\n            Delete\n          </ContextMenuItem>\n        </ContextMenu>\n      )}\n    </EditorShell>\n  );\n}\n```\n\n---\n\n## Summary\n\nThe **EditorInspector** provides:\n\n✅ **Selection-driven UI** - Content adapts to what's selected\n✅ **Type-safe selection** - Full TypeScript support with discriminant unions\n✅ **Conditional sections** - Show/hide based on selection predicates\n✅ **Flexible rendering** - Section-based or slot-based composition\n✅ **Highlight integration** - Visual feedback for AI operations\n✅ **Performance optimized** - Memoization and conditional data fetching\n✅ **Common patterns** - Tabs, accordions, bulk actions, nested types\n\n**Next Steps:**\n- [EditorOverlaySurface Guide](./editor-overlay)\n- [PanelTabs Guide](./panel-tabs)\n- [Component Patterns](../guides/patterns.mdx)"
    },
    {
      "path": "registry/molecules/editor-inspector-demo/EditorInspectorDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport { EditorInspector } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function EditorInspectorDemo() {\n  return (\n    <ShowcaseDemoSurface>\n      <EditorInspector>\n        <div className=\"space-y-2 text-xs text-muted-foreground\">\n          <p>Inspector section one</p>\n          <p>Inspector section two</p>\n        </div>\n      </EditorInspector>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/editor-inspector-demo/EditorInspectorDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport { EditorInspector } from '@forge/dev-kit';\nexport function EditorInspectorDemo() {\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <EditorInspector>\n        <div className=\"space-y-2 text-xs text-muted-foreground\">\n          <p>Inspector section one</p>\n          <p>Inspector section two</p>\n        </div>\n      </EditorInspector>\n    </div>\n  );\n}\n"
    }
  ],
  "editor-overlay-demo": [
    {
      "path": "registry/molecules/editor-overlay-demo/README.md",
      "language": "md",
      "code": "The **EditorOverlaySurface** component provides a declarative modal system for editors. It replaces complex modal registries with a simple, type-safe API for rendering modals, drawers, and popovers.\n\n## Table of Contents\n\n1. [Core Architecture](#core-architecture)\n2. [Overlay Types](#overlay-types)\n3. [Component API](#component-api)\n4. [Real Examples](#real-examples)\n5. [State Management](#state-management)\n6. [Dismissal Patterns](#dismissal-patterns)\n7. [Advanced Patterns](#advanced-patterns)\n\n---\n\n## Core Architecture\n\n### System Overview\n\n```\n┌────────────────────────────────────────────────────┐\n│            EditorOverlaySurface                     │\n├────────────────────────────────────────────────────┤\n│                                                     │\n│  1. Declarative Overlay Specs (one place)          │\n│       ├─► id: 'create-node'                        │\n│       ├─► type: 'modal'                            │\n│       ├─► title: 'Create Node'                     │\n│       ├─► size: 'md'                               │\n│       └─► render: ({ payload, onDismiss }) => ...  │\n│                                                     │\n│  2. Active Overlay from Editor State               │\n│       ├─► id: 'create-node'                        │\n│       └─► payload: { x: 100, y: 200 }              │\n│                                                     │\n│  3. Match & Render                                 │\n│       └─► Find spec by id → Render in Dialog       │\n│                                                     │\n└────────────────────────────────────────────────────┘\n```\n\n### Key Features\n\n- **Declarative**: Define all overlays in one place\n- **Type-safe**: Full TypeScript support for payload types\n- **No registry**: Overlays scoped to editor, not global\n- **Automatic dismissal**: ESC key and click-outside handling\n- **Size variants**: sm, md, lg, full\n- **Flexible rendering**: Full control over overlay content\n\n---\n\n## Overlay Types\n\n### OverlaySpec Interface\n\nFrom `C:\\Users\\benja\\Documents\\forge-agent\\packages\\shared\\src\\shared\\workspace\\overlays.ts`:\n\n```typescript\nexport type OverlaySize = 'sm' | 'md' | 'lg' | 'full';\n\nexport interface OverlaySpec<P = Record<string, unknown>> {\n  /** Unique overlay identifier */\n  id: string;\n\n  /** Type determines rendering strategy */\n  type: 'modal' | 'drawer' | 'popover';\n\n  /** Optional title for overlay header */\n  title?: string;\n\n  /** Size variant */\n  size?: OverlaySize;\n\n  /**\n   * Render the overlay content.\n   * Receives payload from active overlay and onDismiss callback.\n   */\n  render: (props: {\n    payload?: P;\n    onDismiss: () => void;\n  }) => ReactNode;\n}\n```\n\n### ActiveOverlay Interface\n\n```typescript\n/**\n * Currently active overlay from editor state.\n * Contains overlay id and optional typed payload.\n */\nexport interface ActiveOverlay<P = Record<string, unknown>> {\n  id: string;\n  payload?: P;\n}\n```\n\n### Size Classes\n\n```typescript\nconst sizeClasses: Record<OverlaySize, string> = {\n  sm: 'max-w-md',      // ~28rem (448px)\n  md: 'max-w-xl',      // ~36rem (576px)\n  lg: 'max-w-2xl',     // ~42rem (672px)\n  full: 'w-[90vw] max-h-[90vh]',  // Near fullscreen\n};\n```\n\n---\n\n## Component API\n\n### EditorOverlaySurface Props\n\n```typescript\nexport interface EditorOverlaySurfaceProps {\n  /** Declarative overlay definitions */\n  overlays: OverlaySpec[];\n\n  /** Current active overlay from editor state */\n  activeOverlay: ActiveOverlay | null;\n\n  /** Dismiss callback (clears active overlay in editor state) */\n  onDismiss: () => void;\n\n  className?: string;\n}\n```\n\n### Basic Usage\n\n```tsx\nimport type { OverlaySpec, ActiveOverlay } from '@forge/dev-kit';\n\nfunction MyEditor() {\n  const [activeOverlay, setActiveOverlay] = useState<ActiveOverlay | null>(null);\n\n  const overlays: OverlaySpec[] = [\n    {\n      id: 'create-node',\n      type: 'modal',\n      title: 'Create Node',\n      size: 'md',\n      render: ({ onDismiss }) => (\n        <CreateNodeForm\n          onSubmit={(node) => {\n            createNode(node);\n            onDismiss();\n          }}\n          onCancel={onDismiss}\n        />\n      ),\n    },\n  ];\n\n  return (\n    <EditorShell>\n      <EditorCanvas />\n\n      <EditorOverlaySurface\n        overlays={overlays}\n        activeOverlay={activeOverlay}\n        onDismiss={() => setActiveOverlay(null)}\n      />\n\n      <Button onClick={() => setActiveOverlay({ id: 'create-node' })}>\n        Create Node\n      </Button>\n    </EditorShell>\n  );\n}\n```\n\n---\n\n## Real Examples\n\n### DialogueEditor Overlays\n\nFrom `C:\\Users\\benja\\Documents\\forge-agent\\apps\\studio\\components\\editors\\DialogueEditor.tsx`:\n\n```tsx\nconst CREATE_NODE_OVERLAY_ID = 'create-node';\n\nfunction DialogueEditor() {\n  const [activeOverlay, setActiveOverlay] = useState<ActiveOverlay | null>(null);\n  const [graph, setGraph] = useState<ForgeGraphDoc | null>(null);\n\n  const overlays: OverlaySpec[] = [\n    {\n      id: CREATE_NODE_OVERLAY_ID,\n      type: 'modal',\n      title: 'Create Node',\n      size: 'md',\n      render: ({ payload, onDismiss }) => {\n        const position = payload as { x: number; y: number } | undefined;\n\n        return (\n          <CreateNodeModal\n            graphId={graph?.id}\n            position={position}\n            onSubmit={(nodeType) => {\n              createNode(nodeType, position);\n              onDismiss();\n              toast.success('Node created');\n            }}\n            onCancel={onDismiss}\n          />\n        );\n      },\n    },\n  ];\n\n  const handleRequestCreateNode = useCallback(\n    (position?: { x: number; y: number }) => {\n      setActiveOverlay({\n        id: CREATE_NODE_OVERLAY_ID,\n        payload: position,\n      });\n    },\n    []\n  );\n\n  return (\n    <EditorShell>\n      <GraphEditor onRequestCreateNode={handleRequestCreateNode} />\n\n      <EditorOverlaySurface\n        overlays={overlays}\n        activeOverlay={activeOverlay}\n        onDismiss={() => setActiveOverlay(null)}\n      />\n    </EditorShell>\n  );\n}\n```\n\n### CreateNodeModal Component\n\n```tsx\ninterface CreateNodeModalProps {\n  graphId: number | undefined;\n  position?: { x: number; y: number };\n  onSubmit: (nodeType: ForgeNodeType) => void;\n  onCancel: () => void;\n}\n\nfunction CreateNodeModal({\n  graphId,\n  position,\n  onSubmit,\n  onCancel\n}: CreateNodeModalProps) {\n  const [selectedType, setSelectedType] = useState<ForgeNodeType>('dialogue');\n\n  const nodeTypes: Array<{ value: ForgeNodeType; label: string; icon: React.ReactNode }> = [\n    { value: 'dialogue', label: 'Dialogue', icon: <MessageSquare size={20} /> },\n    { value: 'branch', label: 'Branch', icon: <GitBranch size={20} /> },\n    { value: 'action', label: 'Action', icon: <Zap size={20} /> },\n  ];\n\n  return (\n    <div className=\"space-y-4 p-6\">\n      <div className=\"grid grid-cols-3 gap-3\">\n        {nodeTypes.map((type) => (\n          <button\n            key={type.value}\n            onClick={() => setSelectedType(type.value)}\n            className={cn(\n              'flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-colors',\n              selectedType === type.value\n                ? 'border-primary bg-primary/10'\n                : 'border-border hover:border-primary/50'\n            )}\n          >\n            {type.icon}\n            <span className=\"text-sm font-medium\">{type.label}</span>\n          </button>\n        ))}\n      </div>\n\n      {position && (\n        <p className=\"text-xs text-muted-foreground\">\n          Position: ({position.x.toFixed(0)}, {position.y.toFixed(0)})\n        </p>\n      )}\n\n      <div className=\"flex gap-2 justify-end\">\n        <Button variant=\"ghost\" onClick={onCancel}>\n          Cancel\n        </Button>\n        <Button onClick={() => onSubmit(selectedType)}>\n          Create\n        </Button>\n      </div>\n    </div>\n  );\n}\n```\n\n---\n\n### Character Edit Drawer\n\n```tsx\nconst overlays: OverlaySpec[] = [\n  {\n    id: 'edit-character',\n    type: 'modal',  // Could also be 'drawer'\n    title: 'Edit Character',\n    size: 'lg',\n    render: ({ payload, onDismiss }) => {\n      const characterId = payload?.characterId as string | undefined;\n      if (!characterId) return null;\n\n      return (\n        <CharacterEditForm\n          characterId={characterId}\n          onSave={(data) => {\n            updateCharacter(characterId, data);\n            onDismiss();\n            toast.success('Character updated');\n          }}\n          onCancel={onDismiss}\n        />\n      );\n    },\n  },\n];\n\n// Open the drawer\n<Button\n  onClick={() =>\n    setActiveOverlay({\n      id: 'edit-character',\n      payload: { characterId: 'char-123' }\n    })\n  }\n>\n  Edit Character\n</Button>\n```\n\n---\n\n### Confirm Delete Modal\n\n```tsx\nconst overlays: OverlaySpec[] = [\n  {\n    id: 'confirm-delete',\n    type: 'modal',\n    title: 'Confirm Deletion',\n    size: 'sm',\n    render: ({ payload, onDismiss }) => {\n      const { entityType, entityId, entityName } = payload as {\n        entityType: string;\n        entityId: string;\n        entityName: string;\n      };\n\n      return (\n        <div className=\"space-y-4 p-6\">\n          <Alert variant=\"destructive\">\n            <AlertTriangle size={16} />\n            <AlertTitle>Warning</AlertTitle>\n            <AlertDescription>\n              This action cannot be undone. This will permanently delete the{' '}\n              {entityType} <strong>{entityName}</strong>.\n            </AlertDescription>\n          </Alert>\n\n          <div className=\"flex gap-2 justify-end\">\n            <Button variant=\"ghost\" onClick={onDismiss}>\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={() => {\n                deleteEntity(entityType, entityId);\n                onDismiss();\n                toast.success('Deleted');\n              }}\n            >\n              Delete\n            </Button>\n          </div>\n        </div>\n      );\n    },\n  },\n];\n\n// Trigger confirmation\n<Button\n  variant=\"destructive\"\n  onClick={() =>\n    setActiveOverlay({\n      id: 'confirm-delete',\n      payload: {\n        entityType: 'node',\n        entityId: node.id,\n        entityName: node.label\n      }\n    })\n  }\n>\n  Delete Node\n</Button>\n```\n\n---\n\n### Settings Modal\n\n```tsx\nconst overlays: OverlaySpec[] = [\n  {\n    id: 'editor-settings',\n    type: 'modal',\n    title: 'Editor Settings',\n    size: 'lg',\n    render: ({ onDismiss }) => (\n      <div className=\"space-y-6\">\n        <SettingsPanel\n          scope=\"editor\"\n          sections={editorSettingsSections}\n          editorId=\"dialogue\"\n        />\n\n        <div className=\"flex justify-end gap-2 pt-4 border-t\">\n          <Button variant=\"ghost\" onClick={onDismiss}>\n            Close\n          </Button>\n          <Button onClick={() => {\n            saveSettings();\n            onDismiss();\n            toast.success('Settings saved');\n          }}>\n            Save\n          </Button>\n        </div>\n      </div>\n    ),\n  },\n];\n```\n\n---\n\n## State Management\n\n### Editor State Pattern\n\n**Best practice**: Store active overlay in editor state (Zustand store or React state).\n\n```tsx\ninterface EditorState {\n  activeOverlay: ActiveOverlay | null;\n  showOverlay: (id: string, payload?: unknown) => void;\n  dismissOverlay: () => void;\n}\n\nconst useEditorStore = create<EditorState>((set) => ({\n  activeOverlay: null,\n  showOverlay: (id, payload) =>\n    set({ activeOverlay: { id, payload } }),\n  dismissOverlay: () =>\n    set({ activeOverlay: null }),\n}));\n\nfunction MyEditor() {\n  const activeOverlay = useEditorStore((s) => s.activeOverlay);\n  const dismissOverlay = useEditorStore((s) => s.dismissOverlay);\n\n  return (\n    <EditorOverlaySurface\n      overlays={overlays}\n      activeOverlay={activeOverlay}\n      onDismiss={dismissOverlay}\n    />\n  );\n}\n```\n\n---\n\n### Type-Safe Payloads\n\n```typescript\n// Define payload types\ninterface CreateNodePayload {\n  position: { x: number; y: number };\n  sourceNodeId?: string;\n}\n\ninterface EditNodePayload {\n  nodeId: string;\n}\n\n// Overlay specs with typed payloads\nconst overlays: OverlaySpec[] = [\n  {\n    id: 'create-node',\n    type: 'modal',\n    title: 'Create Node',\n    size: 'md',\n    render: ({ payload, onDismiss }) => {\n      const data = payload as CreateNodePayload | undefined;\n\n      return (\n        <CreateNodeForm\n          position={data?.position}\n          sourceNodeId={data?.sourceNodeId}\n          onSubmit={(node) => {\n            createNode(node);\n            onDismiss();\n          }}\n        />\n      );\n    },\n  },\n  {\n    id: 'edit-node',\n    type: 'modal',\n    title: 'Edit Node',\n    size: 'md',\n    render: ({ payload, onDismiss }) => {\n      const data = payload as EditNodePayload | undefined;\n      if (!data?.nodeId) return null;\n\n      return (\n        <EditNodeForm\n          nodeId={data.nodeId}\n          onSave={() => onDismiss()}\n        />\n      );\n    },\n  },\n];\n\n// Type-safe trigger functions\nconst showCreateNode = (payload: CreateNodePayload) => {\n  setActiveOverlay({ id: 'create-node', payload });\n};\n\nconst showEditNode = (payload: EditNodePayload) => {\n  setActiveOverlay({ id: 'edit-node', payload });\n};\n```\n\n---\n\n## Dismissal Patterns\n\n### Automatic Dismissal\n\nThe component automatically handles:\n- **ESC key**: Calls `onDismiss()`\n- **Click outside**: Calls `onDismiss()`\n- **Close button**: Built-in X button in `DialogContent`\n\n### Manual Dismissal\n\n```tsx\nrender: ({ onDismiss }) => (\n  <div>\n    <Button onClick={onDismiss}>Cancel</Button>\n    <Button\n      onClick={() => {\n        saveData();\n        onDismiss();\n      }}\n    >\n      Save\n    </Button>\n  </div>\n)\n```\n\n### Conditional Dismissal\n\n```tsx\nrender: ({ onDismiss }) => {\n  const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\n\n  const handleClose = () => {\n    if (hasUnsavedChanges) {\n      if (confirm('Discard unsaved changes?')) {\n        onDismiss();\n      }\n    } else {\n      onDismiss();\n    }\n  };\n\n  return (\n    <div>\n      <Form onChange={() => setHasUnsavedChanges(true)}>\n        {/* Form fields */}\n      </Form>\n\n      <Button onClick={handleClose}>Close</Button>\n    </div>\n  );\n}\n```\n\n### Prevent Dismissal\n\n```tsx\nconst [isProcessing, setIsProcessing] = useState(false);\n\nconst handleDismiss = () => {\n  if (!isProcessing) {\n    onDismiss();\n  }\n};\n\n<EditorOverlaySurface\n  overlays={overlays}\n  activeOverlay={activeOverlay}\n  onDismiss={handleDismiss}\n/>\n```\n\n---\n\n## Advanced Patterns\n\n### Chained Overlays\n\n```tsx\nconst overlays: OverlaySpec[] = [\n  {\n    id: 'select-template',\n    type: 'modal',\n    title: 'Select Template',\n    size: 'md',\n    render: ({ onDismiss }) => (\n      <TemplateList\n        onSelect={(template) => {\n          onDismiss();\n          // Open next overlay\n          setActiveOverlay({\n            id: 'configure-template',\n            payload: { template }\n          });\n        }}\n      />\n    ),\n  },\n  {\n    id: 'configure-template',\n    type: 'modal',\n    title: 'Configure Template',\n    size: 'lg',\n    render: ({ payload, onDismiss }) => {\n      const template = (payload as any)?.template;\n\n      return (\n        <TemplateConfigForm\n          template={template}\n          onSubmit={(config) => {\n            createFromTemplate(template, config);\n            onDismiss();\n          }}\n        />\n      );\n    },\n  },\n];\n```\n\n---\n\n### Multi-Step Wizards\n\n```tsx\n{\n  id: 'onboarding-wizard',\n  type: 'modal',\n  title: 'Onboarding',\n  size: 'lg',\n  render: ({ onDismiss }) => {\n    const [step, setStep] = useState(1);\n\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex gap-2\">\n          {[1, 2, 3].map((s) => (\n            <div\n              key={s}\n              className={cn(\n                'h-2 flex-1 rounded',\n                s <= step ? 'bg-primary' : 'bg-muted'\n              )}\n            />\n          ))}\n        </div>\n\n        {step === 1 && <Step1 onNext={() => setStep(2)} />}\n        {step === 2 && <Step2 onNext={() => setStep(3)} onBack={() => setStep(1)} />}\n        {step === 3 && <Step3 onFinish={onDismiss} onBack={() => setStep(2)} />}\n      </div>\n    );\n  },\n}\n```\n\n---\n\n### Dynamic Overlays\n\n```tsx\nconst overlays: OverlaySpec[] = [\n  {\n    id: 'dynamic-form',\n    type: 'modal',\n    size: 'md',\n    render: ({ payload, onDismiss }) => {\n      const config = payload as {\n        title: string;\n        fields: Array<{ name: string; type: string; label: string }>;\n      } | undefined;\n\n      if (!config) return null;\n\n      return (\n        <div className=\"space-y-4\">\n          <h2 className=\"text-lg font-semibold\">{config.title}</h2>\n\n          <Form>\n            {config.fields.map((field) => (\n              <div key={field.name}>\n                <label>{field.label}</label>\n                {field.type === 'text' && <Input name={field.name} />}\n                {field.type === 'textarea' && <Textarea name={field.name} />}\n                {field.type === 'number' && <Input type=\"number\" name={field.name} />}\n              </div>\n            ))}\n          </Form>\n\n          <div className=\"flex justify-end gap-2\">\n            <Button variant=\"ghost\" onClick={onDismiss}>Cancel</Button>\n            <Button type=\"submit\">Submit</Button>\n          </div>\n        </div>\n      );\n    },\n  },\n];\n\n// Usage\nsetActiveOverlay({\n  id: 'dynamic-form',\n  payload: {\n    title: 'Add Character',\n    fields: [\n      { name: 'name', type: 'text', label: 'Name' },\n      { name: 'age', type: 'number', label: 'Age' },\n      { name: 'bio', type: 'textarea', label: 'Biography' },\n    ],\n  },\n});\n```\n\n---\n\n### Fullscreen Overlays\n\n```tsx\n{\n  id: 'preview-mode',\n  type: 'modal',\n  size: 'full',\n  render: ({ payload, onDismiss }) => {\n    const content = payload?.content as string | undefined;\n\n    return (\n      <div className=\"h-[90vh] flex flex-col\">\n        <div className=\"flex-1 overflow-auto p-8\">\n          <MarkdownPreview content={content} />\n        </div>\n\n        <div className=\"border-t p-4 flex justify-between\">\n          <Button variant=\"ghost\" onClick={onDismiss}>\n            <X size={16} />\n            Close\n          </Button>\n          <Button onClick={() => exportContent(content)}>\n            <Download size={16} />\n            Export\n          </Button>\n        </div>\n      </div>\n    );\n  },\n}\n```\n\n---\n\n## Summary\n\nThe **EditorOverlaySurface** provides:\n\n✅ **Declarative API** - Define overlays in one place\n✅ **Type-safe payloads** - Full TypeScript support\n✅ **No global registry** - Overlays scoped to editor\n✅ **Automatic dismissal** - ESC and click-outside handling\n✅ **Size variants** - sm, md, lg, full\n✅ **Flexible rendering** - Complete control over content\n✅ **Chaining support** - Multi-step flows\n✅ **Dynamic content** - Runtime-generated overlays\n\n**Next Steps:**\n- [PanelTabs Guide](./panel-tabs)\n- [Settings System Guide](./settings-system)\n- [Component Patterns](../guides/patterns.mdx)"
    },
    {
      "path": "registry/molecules/editor-overlay-demo/EditorOverlayDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport * as React from 'react';\nimport { EditorButton, EditorOverlaySurface } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nconst OVERLAYS: React.ComponentProps<typeof EditorOverlaySurface>['overlays'] = [\n  {\n    id: 'overlay-demo',\n    type: 'modal',\n    title: 'Overlay Surface',\n    size: 'sm',\n    render: ({ onDismiss }) => (\n      <div className=\"space-y-3\">\n        <p className=\"text-sm text-muted-foreground\">Editor overlay content.</p>\n        <EditorButton size=\"sm\" onClick={onDismiss}>\n          Close\n        </EditorButton>\n      </div>\n    ),\n  },\n];\n\nconst INITIAL_ACTIVE_OVERLAY: NonNullable<\n  React.ComponentProps<typeof EditorOverlaySurface>['activeOverlay']\n> = {\n  id: 'overlay-demo',\n  payload: {},\n};\n\nexport function EditorOverlayDemo() {\n  const [activeOverlay, setActiveOverlay] =\n    React.useState<React.ComponentProps<typeof EditorOverlaySurface>['activeOverlay']>(\n      INITIAL_ACTIVE_OVERLAY,\n    );\n\n  const dismissOverlay = React.useCallback(() => {\n    setActiveOverlay(null);\n  }, []);\n\n  const openOverlay = React.useCallback(() => {\n    setActiveOverlay(INITIAL_ACTIVE_OVERLAY);\n  }, []);\n\n  return (\n    <ShowcaseDemoSurface>\n      <EditorOverlaySurface\n        overlays={OVERLAYS}\n        activeOverlay={activeOverlay}\n        onDismiss={dismissOverlay}\n      />\n      <div className=\"mt-2 flex items-center gap-2\">\n        <EditorButton\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={openOverlay}\n          disabled={activeOverlay != null}\n        >\n          Open overlay\n        </EditorButton>\n        <p className=\"text-xs text-muted-foreground\">Overlay opens above this preview.</p>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/editor-overlay-demo/EditorOverlayDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport * as React from 'react';\nimport { EditorButton, EditorOverlaySurface } from '@forge/dev-kit';\nconst OVERLAYS: React.ComponentProps<typeof EditorOverlaySurface>['overlays'] = [\n  {\n    id: 'overlay-demo',\n    type: 'modal',\n    title: 'Overlay Surface',\n    size: 'sm',\n    render: ({ onDismiss }) => (\n      <div className=\"space-y-3\">\n        <p className=\"text-sm text-muted-foreground\">Editor overlay content.</p>\n        <EditorButton size=\"sm\" onClick={onDismiss}>\n          Close\n        </EditorButton>\n      </div>\n    ),\n  },\n];\n\nconst INITIAL_ACTIVE_OVERLAY: NonNullable<\n  React.ComponentProps<typeof EditorOverlaySurface>['activeOverlay']\n> = {\n  id: 'overlay-demo',\n  payload: {},\n};\n\nexport function EditorOverlayDemo() {\n  const [activeOverlay, setActiveOverlay] =\n    React.useState<React.ComponentProps<typeof EditorOverlaySurface>['activeOverlay']>(\n      INITIAL_ACTIVE_OVERLAY,\n    );\n\n  const dismissOverlay = React.useCallback(() => {\n    setActiveOverlay(null);\n  }, []);\n\n  const openOverlay = React.useCallback(() => {\n    setActiveOverlay(INITIAL_ACTIVE_OVERLAY);\n  }, []);\n\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <EditorOverlaySurface\n        overlays={OVERLAYS}\n        activeOverlay={activeOverlay}\n        onDismiss={dismissOverlay}\n      />\n      <div className=\"mt-2 flex items-center gap-2\">\n        <EditorButton\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={openOverlay}\n          disabled={activeOverlay != null}\n        >\n          Open overlay\n        </EditorButton>\n        <p className=\"text-xs text-muted-foreground\">Overlay opens above this preview.</p>\n      </div>\n    </div>\n  );\n}\n"
    }
  ],
  "settings-system-demo": [
    {
      "path": "registry/molecules/settings-system-demo/README.md",
      "language": "md",
      "code": "The Settings System is a **declarative, data-driven** configuration framework that powers all editor and application settings in Forge. It provides a **four-tier inheritance chain** (App → Project → Editor → Viewport) with visual override indicators, automatic persistence, and code generation capabilities.\n\n## Table of Contents\n\n1. [Core Architecture](#core-architecture)\n2. [Settings Components](#settings-components)\n3. [Settings Store API](#settings-store-api)\n4. [Inheritance Chain](#inheritance-chain)\n5. [Field Types](#field-types)\n6. [Real Examples](#real-examples)\n7. [Code Generation](#code-generation)\n8. [Advanced Patterns](#advanced-patterns)\n\n---\n\n## Core Architecture\n\n### System Overview\n\n```\n┌─────────────────────────────────────────────────────────────┐\n│                      Settings System                         │\n├─────────────────────────────────────────────────────────────┤\n│                                                              │\n│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐   │\n│  │SettingsPanel │   │SettingsField │   │SettingsStore │   │\n│  │              │   │              │   │              │   │\n│  │ Data-driven  │───│ Type-safe    │───│ Zustand +    │   │\n│  │ renderer     │   │ controls     │   │ Inheritance  │   │\n│  └──────────────┘   └──────────────┘   └──────────────┘   │\n│         │                   │                   │           │\n│         └───────────────────┴───────────────────┘           │\n│                             │                               │\n│                    ┌────────▼────────┐                      │\n│                    │SettingsSection  │                      │\n│                    │                 │                      │\n│                    │ Declarative     │                      │\n│                    │ layout + codegen│                      │\n│                    └─────────────────┘                      │\n└─────────────────────────────────────────────────────────────┘\n```\n\n### Four-Tier Inheritance\n\n```\nApp Settings (Global)\n  │\n  ├─► Project Settings (Per project)\n  │     │\n  │     └─► Editor Settings (Per editor type)\n  │           │\n  │           └─► Viewport Settings (Per graph/viewport)\n  │\n  └─► Merged Result (with override tracking)\n```\n\n**Resolution Order:**\n1. Check **Viewport** scope for override\n2. Check **Editor** scope for override\n3. Check **Project** scope for override\n4. Check **App** scope for override\n5. Fall back to **default** value\n\n---\n\n## Settings Components\n\n### SettingsPanel\n\n**Data-driven renderer** that displays settings organized into sections. Handles value binding, source badges, and reset functionality.\n\n#### Interface\n\n```typescript\nexport interface SettingsPanelProps {\n  /** Scope determines inheritance level */\n  scope: SettingsScope; // 'app' | 'project' | 'editor' | 'viewport'\n\n  /** Declarative sections with fields */\n  sections: SettingsSection[];\n\n  /** Context identifiers for scoped settings */\n  editorId?: string;\n  viewportId?: string;\n  projectId?: string;\n\n  /** Optional icons per section id */\n  sectionIcons?: Record<string, React.ReactNode>;\n\n  /** Optional icons per field key */\n  fieldIcons?: Record<string, React.ReactNode>;\n\n  className?: string;\n}\n\nexport interface SettingsSection {\n  id: string;\n  title: string;\n  description?: string;\n  fields: SettingsField[];\n}\n\nexport interface SettingsField {\n  key: string;           // Dot-separated key (e.g. 'graph.showMiniMap')\n  label: string;\n  type: SettingsFieldType;\n  description?: string;\n  placeholder?: string;\n  options?: Array<{ value: string; label: string }>;\n  default?: unknown;     // Required for code generation\n}\n\nexport type SettingsFieldType =\n  | 'text'\n  | 'textarea'\n  | 'select'\n  | 'number'\n  | 'toggle';\n```\n\n#### Basic Usage\n\n```tsx\nimport { Bot, Palette, Code } from 'lucide-react';\n\nfunction AppSettingsPage() {\n  const sections: SettingsSection[] = [\n    {\n      id: 'appearance',\n      title: 'Appearance',\n      description: 'Customize the look and feel',\n      fields: [\n        {\n          key: 'ui.theme',\n          label: 'Theme',\n          type: 'select',\n          options: [\n            { value: 'light', label: 'Light' },\n            { value: 'dark', label: 'Dark' },\n            { value: 'system', label: 'System' },\n          ],\n          default: 'system',\n        },\n        {\n          key: 'ui.density',\n          label: 'Density',\n          type: 'select',\n          options: [\n            { value: 'compact', label: 'Compact' },\n            { value: 'comfortable', label: 'Comfortable' },\n          ],\n          default: 'comfortable',\n        },\n      ],\n    },\n    {\n      id: 'ai-core',\n      title: 'AI Assistant',\n      description: 'Configure AI behavior',\n      fields: [\n        {\n          key: 'ai.agentName',\n          label: 'Agent Name',\n          type: 'text',\n          placeholder: 'Forge Assistant',\n          default: 'Forge',\n        },\n        {\n          key: 'ai.temperature',\n          label: 'Temperature',\n          type: 'number',\n          description: 'Controls randomness (0.0 - 2.0)',\n          default: 0.7,\n        },\n      ],\n    },\n  ];\n\n  const sectionIcons = {\n    'appearance': <Palette size={16} />,\n    'ai-core': <Bot size={16} />,\n  };\n\n  const fieldIcons = {\n    'ui.theme': <Palette size={14} />,\n    'ai.agentName': <Bot size={14} />,\n  };\n\n  return (\n    <SettingsPanel\n      scope=\"app\"\n      sections={sections}\n      sectionIcons={sectionIcons}\n      fieldIcons={fieldIcons}\n    />\n  );\n}\n```\n\n#### Scoped Usage (Editor)\n\n```tsx\nfunction EditorSettingsTab({ editorId }: { editorId: string }) {\n  const sections: SettingsSection[] = [\n    {\n      id: 'graph-display',\n      title: 'Graph Display',\n      fields: [\n        {\n          key: 'graph.showMiniMap',\n          label: 'Show Mini Map',\n          type: 'toggle',\n          description: 'Display mini map in corner',\n          default: true,\n        },\n        {\n          key: 'graph.gridSize',\n          label: 'Grid Size',\n          type: 'number',\n          default: 20,\n        },\n      ],\n    },\n  ];\n\n  return (\n    <SettingsPanel\n      scope=\"editor\"\n      sections={sections}\n      editorId={editorId}\n    />\n  );\n}\n```\n\n#### Viewport Scope\n\n```tsx\nfunction ViewportSettingsDrawer({\n  editorId,\n  viewportId\n}: {\n  editorId: string;\n  viewportId: string;\n}) {\n  const sections: SettingsSection[] = [\n    {\n      id: 'viewport-display',\n      title: 'Viewport Display',\n      fields: [\n        {\n          key: 'graph.nodesDraggable',\n          label: 'Nodes Draggable',\n          type: 'toggle',\n          default: true,\n        },\n        {\n          key: 'graph.showMiniMap',\n          label: 'Show Mini Map',\n          type: 'toggle',\n          default: true,\n        },\n      ],\n    },\n  ];\n\n  return (\n    <SettingsPanel\n      scope=\"viewport\"\n      sections={sections}\n      editorId={editorId}\n      viewportId={viewportId}\n    />\n  );\n}\n```\n\n---\n\n### SettingsSection\n\n**Declarative section component** that wraps `SettingsField` children and registers metadata for code generation.\n\n#### Interface\n\n```typescript\nexport interface SettingsSectionProps {\n  sectionId: string;\n  title: string;\n  description?: string;\n  icon?: React.ReactNode;\n  accentBorderColor?: string;  // For viewport context accents\n  children?: React.ReactNode;  // SettingsField components\n}\n```\n\n#### Usage\n\n```tsx\nimport { Input } from '@forge/dev-kit/ui/input';\nimport { Select, SelectTrigger, SelectValue, SelectContent, SelectItem } from '@forge/dev-kit/ui/select';\nfunction AISettingsView() {\n  return (\n    <div className=\"space-y-4\">\n      <SettingsSection\n        sectionId=\"ai-core\"\n        title=\"AI Assistant\"\n        description=\"Configure AI behavior and appearance\"\n        icon={<Bot size={16} />}\n      >\n        <SettingsField\n          fieldKey=\"ai.agentName\"\n          label=\"Agent Name\"\n          type=\"text\"\n          description=\"Display name for the AI assistant\"\n          default=\"Forge\"\n        >\n          <Input />\n        </SettingsField>\n\n        <SettingsField\n          fieldKey=\"ai.temperature\"\n          label=\"Temperature\"\n          type=\"number\"\n          description=\"Controls randomness (0.0 - 2.0)\"\n          default={0.7}\n        >\n          <Input type=\"number\" />\n        </SettingsField>\n\n        <SettingsField\n          fieldKey=\"ai.enableStreaming\"\n          label=\"Enable Streaming\"\n          type=\"toggle\"\n          description=\"Stream responses in real-time\"\n          default={true}\n        >\n          <Switch />\n        </SettingsField>\n\n        <SettingsField\n          fieldKey=\"ai.model\"\n          label=\"Model\"\n          type=\"select\"\n          description=\"AI model to use\"\n          options={[\n            { value: 'gpt-4', label: 'GPT-4' },\n            { value: 'claude-3', label: 'Claude 3' },\n          ]}\n          default=\"gpt-4\"\n        >\n          <Select>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select model\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"gpt-4\">GPT-4</SelectItem>\n              <SelectItem value=\"claude-3\">Claude 3</SelectItem>\n            </SelectContent>\n          </Select>\n        </SettingsField>\n      </SettingsSection>\n\n      <SettingsSection\n        sectionId=\"graph-display\"\n        title=\"Graph Display\"\n        icon={<Code size={16} />}\n        accentBorderColor=\"var(--status-info)\"\n      >\n        <SettingsField\n          fieldKey=\"graph.showMiniMap\"\n          label=\"Show Mini Map\"\n          type=\"toggle\"\n          default={true}\n        >\n          <Switch />\n        </SettingsField>\n      </SettingsSection>\n    </div>\n  );\n}\n```\n\n#### Context Provider Pattern\n\n```tsx\nfunction EditorWithSettings({ editorId }: { editorId: string }) {\n  return (\n    <SettingsRegistrationProvider scope=\"editor\" scopeId={editorId}>\n      <div>\n        <h2>Editor Settings</h2>\n        <AISettingsView />\n      </div>\n    </SettingsRegistrationProvider>\n  );\n}\n```\n\n---\n\n### SettingsField\n\n**Type-safe field component** that binds to the settings store and renders appropriate controls.\n\n#### Interface\n\n```typescript\nexport interface SettingsFieldProps {\n  fieldKey: string;           // Use fieldKey to avoid React's reserved 'key' prop\n  label: string;\n  type: SettingsFieldType;\n  description?: string;\n  placeholder?: string;\n  options?: Array<{ value: string; label: string }>;\n  default?: unknown;\n  icon?: React.ReactNode;\n\n  /**\n   * Control: either a single element or render function\n   * - Single element: Will receive value/onChange/id props\n   * - Render function: Full control over rendering\n   */\n  children?:\n    | React.ReactNode\n    | ((field: { value: unknown; onChange: (next: unknown) => void }) => React.ReactNode);\n}\n```\n\n#### With Built-in Control\n\n```tsx\n<SettingsField\n  fieldKey=\"ai.temperature\"\n  label=\"Temperature\"\n  type=\"number\"\n  description=\"Controls randomness\"\n  default={0.7}\n>\n  <Input type=\"number\" step={0.1} min={0} max={2} />\n</SettingsField>\n```\n\n#### With Render Function\n\n```tsx\n<SettingsField\n  fieldKey=\"ai.model\"\n  label=\"AI Model\"\n  type=\"select\"\n  default=\"gpt-4\"\n>\n  {({ value, onChange }) => (\n    <ModelSwitcher\n      value={value as string}\n      onChange={onChange}\n      showAdvanced\n    />\n  )}\n</SettingsField>\n```\n\n#### Toggle Layout\n\nToggle fields get special horizontal layout:\n\n```tsx\n<SettingsField\n  fieldKey=\"graph.showMiniMap\"\n  label=\"Show Mini Map\"\n  type=\"toggle\"\n  description=\"Display mini map in graph corner\"\n  default={true}\n>\n  <Switch />\n</SettingsField>\n```\n\nRenders as:\n\n```\n┌─────────────────────────────────────────────────────┐\n│  Show Mini Map                    [Override]  [ON] │\n│  Display mini map in graph corner                   │\n└─────────────────────────────────────────────────────┘\n```\n\n---\n\n## Settings Store API\n\nThe settings store is a Zustand store with Immer middleware for immutable updates.\n\n### Store Interface\n\n```typescript\nexport type SettingsScope = 'app' | 'project' | 'editor' | 'viewport';\n\nexport interface SettingsState {\n  // State\n  appSettings: Record<string, unknown>;\n  projectSettings: Record<string, Record<string, unknown>>;\n  editorSettings: Record<string, Record<string, unknown>>;\n  viewportSettings: Record<string, Record<string, unknown>>;\n\n  // Write operations\n  setSetting: (\n    scope: SettingsScope,\n    key: string,\n    value: unknown,\n    ids?: { editorId?: string; viewportId?: string; projectId?: string }\n  ) => void;\n\n  clearSetting: (\n    scope: SettingsScope,\n    key: string,\n    ids?: { editorId?: string; viewportId?: string; projectId?: string }\n  ) => void;\n\n  // Read operations\n  getMergedSettings: (\n    ids?: { editorId?: string; viewportId?: string; projectId?: string }\n  ) => Record<string, unknown>;\n\n  getSettingValue: (\n    key: string,\n    ids?: { editorId?: string; viewportId?: string; projectId?: string }\n  ) => unknown;\n\n  getSettingSource: (\n    key: string,\n    ids?: { editorId?: string; viewportId?: string; projectId?: string }\n  ) => SettingsScope | 'unset';\n\n  // Persistence\n  hydrateFromOverrides: (overrides: SettingsOverrideRecord[]) => void;\n  getOverridesForScope: (\n    scope: SettingsScope,\n    ids?: { editorId?: string; viewportId?: string; projectId?: string }\n  ) => Record<string, unknown>;\n\n  resetToDefaults: () => void;\n}\n```\n\n### Usage Examples\n\n#### Reading Settings\n\n```tsx\nfunction GraphViewport({ editorId, viewportId }: Props) {\n  // Direct store access\n  const showMiniMap = useSettingsStore(\n    (s) => s.getSettingValue('graph.showMiniMap', {\n      editorId,\n      viewportId\n    }) as boolean\n  );\n\n  // With fallback\n  const gridSize = useSettingsStore(\n    (s) => (s.getSettingValue('graph.gridSize', { editorId, viewportId }) as number) ?? 20\n  );\n\n  return (\n    <div>\n      {showMiniMap && <MiniMap />}\n      <Grid size={gridSize} />\n    </div>\n  );\n}\n```\n\n#### Writing Settings\n\n```tsx\nfunction SettingsToggle() {\n  const setSetting = useSettingsStore((s) => s.setSetting);\n  const showMiniMap = useSettingsStore((s) =>\n    s.getSettingValue('graph.showMiniMap', {\n      editorId: 'dialogue',\n      viewportId: 'narrative'\n    }) as boolean\n  );\n\n  const handleToggle = () => {\n    setSetting(\n      'viewport',\n      'graph.showMiniMap',\n      !showMiniMap,\n      { editorId: 'dialogue', viewportId: 'narrative' }\n    );\n  };\n\n  return (\n    <Switch checked={showMiniMap} onCheckedChange={handleToggle} />\n  );\n}\n```\n\n#### Checking Source\n\n```tsx\nfunction SettingWithSource() {\n  const { getSettingValue, getSettingSource } = useSettingsStore();\n\n  const value = getSettingValue('graph.showMiniMap', {\n    editorId: 'dialogue',\n    viewportId: 'narrative'\n  });\n\n  const source = getSettingSource('graph.showMiniMap', {\n    editorId: 'dialogue',\n    viewportId: 'narrative'\n  });\n\n  return (\n    <div>\n      Value: {String(value)}\n      {source === 'viewport' && <Badge>Override</Badge>}\n      {source === 'editor' && <Badge>Inherited from editor</Badge>}\n      {source === 'app' && <Badge>Inherited from app</Badge>}\n    </div>\n  );\n}\n```\n\n#### Clearing Overrides\n\n```tsx\nfunction ResetButton({ editorId, viewportId }: Props) {\n  const clearSetting = useSettingsStore((s) => s.clearSetting);\n\n  const handleReset = () => {\n    clearSetting('viewport', 'graph.showMiniMap', { editorId, viewportId });\n    toast.success('Reset to inherited value');\n  };\n\n  return (\n    <Button onClick={handleReset} variant=\"ghost\">\n      <Undo2 size={14} />\n      Reset\n    </Button>\n  );\n}\n```\n\n---\n\n## Inheritance Chain\n\n### Visual Hierarchy\n\n```\n┌─────────────────────────────────────────────────────────┐\n│                    APP SETTINGS (Global)                 │\n│  • ui.theme = \"dark\"                                     │\n│  • ai.agentName = \"Forge\"                                │\n│  • graph.gridSize = 20                                   │\n└──────────────────────┬──────────────────────────────────┘\n                       │\n          ┌────────────┴────────────┐\n          │                         │\n┌─────────▼──────────┐   ┌─────────▼──────────┐\n│ PROJECT SETTINGS   │   │ PROJECT SETTINGS   │\n│ (Story A)          │   │ (Story B)          │\n│ • ai.agentName =   │   │ • ai.temperature = │\n│   \"Story Assistant\"│   │   0.5              │\n└─────────┬──────────┘   └────────────────────┘\n          │\n┌─────────▼──────────┐\n│ EDITOR SETTINGS    │\n│ (Dialogue)         │\n│ • graph.showMiniMap│\n│   = true           │\n└─────────┬──────────┘\n          │\n          ├─────────────────┬─────────────────┐\n          │                 │                 │\n┌─────────▼─────┐ ┌─────────▼─────┐ ┌─────────▼─────┐\n│VIEWPORT: narra│ │VIEWPORT: story│ │VIEWPORT: other│\n│• graph.show   │ │• graph.nodes  │ │               │\n│  MiniMap=false│ │  Draggable=   │ │               │\n│  (OVERRIDE)   │ │  false        │ │               │\n└───────────────┘ └───────────────┘ └───────────────┘\n```\n\n### Resolution Examples\n\n#### Example 1: Full Override Chain\n\n```\nSetting: graph.showMiniMap\nContext: editorId=\"dialogue\", viewportId=\"narrative\"\n\nLookup order:\n1. viewportSettings[\"dialogue:narrative\"][\"graph.showMiniMap\"] → false ✓\n   Source: \"viewport\", Value: false\n```\n\n#### Example 2: Editor Inheritance\n\n```\nSetting: graph.showMiniMap\nContext: editorId=\"dialogue\", viewportId=\"storylet\"\n\nLookup order:\n1. viewportSettings[\"dialogue:storylet\"][\"graph.showMiniMap\"] → undefined\n2. editorSettings[\"dialogue\"][\"graph.showMiniMap\"] → true ✓\n   Source: \"editor\", Value: true\n```\n\n#### Example 3: App Fallback\n\n```\nSetting: ai.agentName\nContext: editorId=\"dialogue\", viewportId=\"narrative\"\n\nLookup order:\n1. viewportSettings[\"dialogue:narrative\"][\"ai.agentName\"] → undefined\n2. editorSettings[\"dialogue\"][\"ai.agentName\"] → undefined\n3. appSettings[\"ai.agentName\"] → \"Forge\" ✓\n   Source: \"app\", Value: \"Forge\"\n```\n\n#### Example 4: Default Fallback\n\n```\nSetting: graph.gridSize\nContext: editorId=\"dialogue\", viewportId=\"narrative\"\n\nLookup order:\n1. viewportSettings[\"dialogue:narrative\"][\"graph.gridSize\"] → undefined\n2. editorSettings[\"dialogue\"][\"graph.gridSize\"] → undefined\n3. appSettings[\"graph.gridSize\"] → undefined\n4. SETTINGS_CONFIG.viewportDefaults[\"graph.gridSize\"] → 20 ✓\n   Source: \"unset\", Value: 20 (from config)\n```\n\n---\n\n## Field Types\n\n### Text Input\n\n```tsx\n<SettingsField\n  fieldKey=\"ai.agentName\"\n  label=\"Agent Name\"\n  type=\"text\"\n  placeholder=\"Enter name...\"\n  default=\"Forge\"\n>\n  <Input />\n</SettingsField>\n```\n\n**Rendered:**\n\n```\n┌─────────────────────────────────────────┐\n│ Agent Name                   [Reset]   │\n│ ┌─────────────────────────────────────┐ │\n│ │ Enter name...                       │ │\n│ └─────────────────────────────────────┘ │\n└─────────────────────────────────────────┘\n```\n\n---\n\n### Textarea\n\n```tsx\n<SettingsField\n  fieldKey=\"ai.systemPrompt\"\n  label=\"System Prompt\"\n  type=\"textarea\"\n  description=\"Instructions for the AI assistant\"\n  placeholder=\"You are a helpful assistant...\"\n  default=\"\"\n>\n  <Textarea rows={4} />\n</SettingsField>\n```\n\n**Rendered:**\n\n```\n┌─────────────────────────────────────────┐\n│ System Prompt                [Reset]   │\n│ Instructions for the AI assistant       │\n│ ┌─────────────────────────────────────┐ │\n│ │ You are a helpful assistant...      │ │\n│ │                                     │ │\n│ │                                     │ │\n│ └─────────────────────────────────────┘ │\n└─────────────────────────────────────────┘\n```\n\n---\n\n### Number Input\n\n```tsx\n<SettingsField\n  fieldKey=\"ai.temperature\"\n  label=\"Temperature\"\n  type=\"number\"\n  description=\"Controls randomness (0.0 - 2.0)\"\n  default={0.7}\n>\n  <Input type=\"number\" step={0.1} min={0} max={2} />\n</SettingsField>\n```\n\n**Rendered:**\n\n```\n┌─────────────────────────────────────────┐\n│ Temperature                  [Reset]   │\n│ Controls randomness (0.0 - 2.0)         │\n│ ┌─────────────────────────────────────┐ │\n│ │ 0.7                          ▲  ▼  │ │\n│ └─────────────────────────────────────┘ │\n└─────────────────────────────────────────┘\n```\n\n---\n\n### Select Dropdown\n\n```tsx\n<SettingsField\n  fieldKey=\"ui.theme\"\n  label=\"Theme\"\n  type=\"select\"\n  description=\"Application color theme\"\n  options={[\n    { value: 'light', label: 'Light' },\n    { value: 'dark', label: 'Dark' },\n    { value: 'system', label: 'System' },\n  ]}\n  default=\"system\"\n>\n  <Select>\n    <SelectTrigger>\n      <SelectValue placeholder=\"Select theme\" />\n    </SelectTrigger>\n    <SelectContent>\n      <SelectItem value=\"light\">Light</SelectItem>\n      <SelectItem value=\"dark\">Dark</SelectItem>\n      <SelectItem value=\"system\">System</SelectItem>\n    </SelectContent>\n  </Select>\n</SettingsField>\n```\n\n**Rendered:**\n\n```\n┌─────────────────────────────────────────┐\n│ Theme                        [Reset]   │\n│ Application color theme                 │\n│ ┌─────────────────────────────────────┐ │\n│ │ System                          ▼  │ │\n│ └─────────────────────────────────────┘ │\n└─────────────────────────────────────────┘\n```\n\n---\n\n### Toggle Switch\n\n```tsx\n<SettingsField\n  fieldKey=\"graph.showMiniMap\"\n  label=\"Show Mini Map\"\n  type=\"toggle\"\n  description=\"Display mini map in graph corner\"\n  default={true}\n>\n  <Switch />\n</SettingsField>\n```\n\n**Rendered (horizontal layout):**\n\n```\n┌──────────────────────────────────────────────────┐\n│ Show Mini Map        [Inherited] [Reset]  [ON]  │\n│ Display mini map in graph corner                 │\n└──────────────────────────────────────────────────┘\n```\n\n---\n\n### Custom Render Prop\n\n```tsx\n<SettingsField\n  fieldKey=\"ai.model\"\n  label=\"AI Model\"\n  type=\"select\"\n  description=\"Language model to use\"\n  default=\"gpt-4\"\n>\n  {({ value, onChange }) => (\n    <div className=\"space-y-2\">\n      <ModelSwitcher\n        value={value as string}\n        onChange={onChange}\n        showMetadata\n      />\n      <p className=\"text-xs text-muted-foreground\">\n        Current tokens: {getModelTokens(value as string)}\n      </p>\n    </div>\n  )}\n</SettingsField>\n```\n\n---\n\n## Source Badges\n\n### Badge Types\n\nSettings automatically display **source badges** based on the inheritance chain:\n\n#### Override Badge (Accent)\n\n```tsx\n// Rendered when setting is overridden at current scope\n<SourceBadge label=\"Override\" tone=\"accent\" />\n```\n\nAppears when:\n- Viewport setting overrides editor/app\n- Editor setting overrides app\n- Value differs from inherited value\n\n#### Inherited Badge (Muted)\n\n```tsx\n// Rendered when value comes from parent scope\n<SourceBadge label=\"Inherited from editor\" tone=\"muted\" />\n<SourceBadge label=\"Inherited from app\" tone=\"muted\" />\n<SourceBadge label=\"Inherited from project\" tone=\"muted\" />\n```\n\nAppears when:\n- No override exists at current scope\n- Value resolved from parent scope\n\n### Badge Logic\n\n```typescript\nconst source = getSettingSource(field.key, ids);\nconst isOverride = source === scope;\nconst canReset = scope !== 'app' && isOverride;\n\nconst inheritedLabel =\n  scope === 'viewport'\n    ? source === 'editor'\n      ? 'Inherited from editor'\n      : source === 'app'\n        ? 'Inherited from app'\n        : source === 'project'\n          ? 'Inherited from project'\n          : null\n    : scope === 'editor'\n      ? source === 'app'\n        ? 'Inherited from app'\n        : source === 'project'\n          ? 'Inherited from project'\n          : null\n      : scope === 'project'\n        ? source === 'app'\n          ? 'Inherited from app'\n          : null\n        : null;\n```\n\n---\n\n## Reset Functionality\n\n### How Resets Work\n\n**Reset removes the override** at the current scope, allowing the value to fall back to the inherited or default value.\n\n#### Reset Button Conditions\n\n```typescript\nconst canReset = scope !== 'app' && isOverride;\n```\n\n- **App scope**: No reset button (top of hierarchy)\n- **Other scopes**: Reset button appears when override exists\n\n#### Reset Implementation\n\n```tsx\n<Button\n  variant=\"ghost\"\n  size=\"sm\"\n  onClick={() => clearSetting(scope, field.key, ids)}\n>\n  <Undo2 size={14} />\n  Reset\n</Button>\n```\n\n#### Reset Behavior by Scope\n\n**Viewport Scope:**\n```\nBefore: viewport[\"graph.showMiniMap\"] = false (override)\nAfter:  viewport[\"graph.showMiniMap\"] = undefined → inherits from editor\n```\n\n**Editor Scope:**\n```\nBefore: editor[\"graph.showMiniMap\"] = false (override)\nAfter:  editor[\"graph.showMiniMap\"] = undefined → inherits from app\n```\n\n**Project Scope:**\n```\nBefore: project[\"ai.agentName\"] = \"Custom\" (override)\nAfter:  project[\"ai.agentName\"] = undefined → inherits from app\n```\n\n---\n\n## Real Examples\n\n### DialogueEditor Settings\n\nFrom `C:\\Users\\benja\\Documents\\forge-agent\\apps\\studio\\components\\editors\\DialogueEditor.tsx`:\n\n#### Reading Viewport Settings\n\n```tsx\nfunction ForgeGraphPanel({ scope, editorId }: Props) {\n  // Read viewport-scoped setting with fallback\n  const showMiniMap = useSettingsStore(\n    (s) => (s.getSettingValue('graph.showMiniMap', {\n      editorId: 'dialogue',\n      viewportId: scope\n    }) as boolean | undefined) ?? true\n  );\n\n  const nodesDraggable = useSettingsStore(\n    (s) => (s.getSettingValue('graph.nodesDraggable', {\n      editorId: 'dialogue',\n      viewportId: scope\n    }) as boolean | undefined) ?? true\n  );\n\n  return (\n    <GraphEditor\n      showMiniMap={showMiniMap}\n      nodesDraggable={nodesDraggable}\n      // ...\n    />\n  );\n}\n```\n\n#### Writing Viewport Settings\n\n```tsx\nconst setSetting = useSettingsStore((s) => s.setSetting);\n\nconst handleToggleMiniMap = useCallback(() => {\n  setSetting(\n    'viewport',\n    'graph.showMiniMap',\n    !showMiniMap,\n    { editorId: 'dialogue', viewportId: scope }\n  );\n}, [setSetting, showMiniMap, scope]);\n```\n\n#### Settings Panel for Viewport\n\n```tsx\nconst viewportSettingsSections: SettingsSection[] = [\n  {\n    id: 'viewport-display',\n    title: 'Viewport Display',\n    description: `Settings for ${scope} viewport`,\n    fields: [\n      {\n        key: 'graph.showMiniMap',\n        label: 'Show Mini Map',\n        type: 'toggle',\n        description: 'Display navigation mini map',\n        default: true,\n      },\n      {\n        key: 'graph.nodesDraggable',\n        label: 'Nodes Draggable',\n        type: 'toggle',\n        description: 'Allow dragging nodes',\n        default: true,\n      },\n      {\n        key: 'graph.gridSize',\n        label: 'Grid Size',\n        type: 'number',\n        description: 'Grid snap size in pixels',\n        default: 20,\n      },\n    ],\n  },\n];\n\nreturn (\n  <SettingsPanel\n    scope=\"viewport\"\n    sections={viewportSettingsSections}\n    editorId=\"dialogue\"\n    viewportId={scope}\n  />\n);\n```\n\n---\n\n## Code Generation\n\n### Settings as Source of Truth\n\nThe declarative settings structure **enables code generation** for:\n\n1. **TypeScript types** from field definitions\n2. **Default values** from field defaults\n3. **Validation schemas** from field constraints\n4. **Documentation** from field descriptions\n\n### Codegen Pipeline\n\n```\nSettingsSection JSX\n       │\n       ├─► Runtime Registration (settings-registry)\n       │\n       ├─► Extract Metadata\n       │     • Section IDs\n       │     • Field keys\n       │     • Field types\n       │     • Default values\n       │\n       ├─► Generate Types\n       │     export interface AppSettings {\n       │       \"ai.agentName\": string;\n       │       \"ai.temperature\": number;\n       │       \"ui.theme\": \"light\" | \"dark\" | \"system\";\n       │     }\n       │\n       └─► Generate Defaults\n             export const APP_DEFAULTS = {\n               \"ai.agentName\": \"Forge\",\n               \"ai.temperature\": 0.7,\n               \"ui.theme\": \"system\",\n             };\n```\n\n### Registration System\n\n```typescript\n// SettingsSection automatically registers metadata\nexport function SettingsSection({ sectionId, title, children }: Props) {\n  const { scope, scopeId } = useSettingsRegistration();\n  const registerSection = useSettingsRegistryStore((s) => s.registerSection);\n\n  const section = useMemo(\n    () => ({\n      id: sectionId,\n      title,\n      fields: collectFields(children), // Extract from children\n    }),\n    [sectionId, title, children]\n  );\n\n  useEffect(() => {\n    registerSection(scope, scopeId, section);\n    return () => unregisterSection(scope, scopeId, sectionId);\n  }, [scope, scopeId, section, sectionId]);\n\n  // Render...\n}\n```\n\n### Type Generation Example\n\n**Input (JSX):**\n\n```tsx\n<SettingsSection sectionId=\"ai-core\" title=\"AI\">\n  <SettingsField\n    fieldKey=\"ai.agentName\"\n    label=\"Agent Name\"\n    type=\"text\"\n    default=\"Forge\"\n  />\n  <SettingsField\n    fieldKey=\"ai.temperature\"\n    label=\"Temperature\"\n    type=\"number\"\n    default={0.7}\n  />\n</SettingsSection>\n```\n\n**Generated (TypeScript):**\n\n```typescript\nexport interface AISettings {\n  \"ai.agentName\": string;\n  \"ai.temperature\": number;\n}\n\nexport const AI_DEFAULTS: AISettings = {\n  \"ai.agentName\": \"Forge\",\n  \"ai.temperature\": 0.7,\n};\n```\n\n---\n\n## Advanced Patterns\n\n### Dynamic Sections\n\n```tsx\nfunction DynamicSettings({ features }: { features: string[] }) {\n  const sections = useMemo(() => {\n    const result: SettingsSection[] = [\n      {\n        id: 'core',\n        title: 'Core Settings',\n        fields: [\n          { key: 'app.name', label: 'App Name', type: 'text', default: '' },\n        ],\n      },\n    ];\n\n    if (features.includes('ai')) {\n      result.push({\n        id: 'ai',\n        title: 'AI Settings',\n        fields: [\n          { key: 'ai.enabled', label: 'Enable AI', type: 'toggle', default: false },\n        ],\n      });\n    }\n\n    return result;\n  }, [features]);\n\n  return <SettingsPanel scope=\"app\" sections={sections} />;\n}\n```\n\n---\n\n### Conditional Fields\n\n```tsx\nfunction ConditionalSettings() {\n  const aiEnabled = useSettingsStore((s) =>\n    s.getSettingValue('ai.enabled') as boolean\n  );\n\n  return (\n    <SettingsSection sectionId=\"ai\" title=\"AI\">\n      <SettingsField\n        fieldKey=\"ai.enabled\"\n        label=\"Enable AI\"\n        type=\"toggle\"\n        default={false}\n      >\n        <Switch />\n      </SettingsField>\n\n      {aiEnabled && (\n        <>\n          <SettingsField\n            fieldKey=\"ai.model\"\n            label=\"Model\"\n            type=\"select\"\n            options={[\n              { value: 'gpt-4', label: 'GPT-4' },\n              { value: 'claude-3', label: 'Claude 3' },\n            ]}\n            default=\"gpt-4\"\n          >\n            <Select>\n              <SelectTrigger><SelectValue /></SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"gpt-4\">GPT-4</SelectItem>\n                <SelectItem value=\"claude-3\">Claude 3</SelectItem>\n              </SelectContent>\n            </Select>\n          </SettingsField>\n\n          <SettingsField\n            fieldKey=\"ai.temperature\"\n            label=\"Temperature\"\n            type=\"number\"\n            default={0.7}\n          >\n            <Input type=\"number\" step={0.1} />\n          </SettingsField>\n        </>\n      )}\n    </SettingsSection>\n  );\n}\n```\n\n---\n\n### Settings with Validation\n\n```tsx\nfunction ValidatedSettings() {\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  const handleChange = (key: string, value: unknown) => {\n    // Validation logic\n    if (key === 'ai.temperature') {\n      const num = Number(value);\n      if (num < 0 || num > 2) {\n        setErrors((prev) => ({ ...prev, [key]: 'Must be between 0 and 2' }));\n        return;\n      }\n    }\n\n    setErrors((prev) => {\n      const next = { ...prev };\n      delete next[key];\n      return next;\n    });\n\n    setSetting('app', key, value);\n  };\n\n  return (\n    <SettingsField\n      fieldKey=\"ai.temperature\"\n      label=\"Temperature\"\n      type=\"number\"\n      default={0.7}\n    >\n      {({ value, onChange }) => (\n        <div>\n          <Input\n            type=\"number\"\n            value={value as number}\n            onChange={(e) => handleChange('ai.temperature', Number(e.target.value))}\n          />\n          {errors['ai.temperature'] && (\n            <p className=\"text-xs text-destructive mt-1\">\n              {errors['ai.temperature']}\n            </p>\n          )}\n        </div>\n      )}\n    </SettingsField>\n  );\n}\n```\n\n---\n\n### Multi-Viewport Settings\n\n```tsx\nfunction MultiViewportSettings({ editorId, viewports }: Props) {\n  return (\n    <Tabs>\n      {viewports.map((viewport) => (\n        <TabsContent key={viewport.id} value={viewport.id}>\n          <SettingsPanel\n            scope=\"viewport\"\n            sections={viewportSections}\n            editorId={editorId}\n            viewportId={viewport.id}\n          />\n        </TabsContent>\n      ))}\n    </Tabs>\n  );\n}\n```\n\n---\n\n### Settings Sync with Backend\n\n```tsx\nfunction SyncedSettings({ projectId }: { projectId: string }) {\n  const { data: savedSettings } = useProjectSettings(projectId);\n  const { mutate: saveSettings } = useSaveProjectSettings();\n  const getOverrides = useSettingsStore((s) => s.getOverridesForScope);\n\n  // Hydrate on mount\n  useEffect(() => {\n    if (savedSettings) {\n      hydrateFromOverrides(savedSettings);\n    }\n  }, [savedSettings]);\n\n  // Auto-save on change\n  const handleSave = useCallback(() => {\n    const overrides = getOverrides('project', { projectId });\n    saveSettings({ projectId, settings: overrides });\n  }, [projectId, getOverrides, saveSettings]);\n\n  return (\n    <div>\n      <SettingsPanel scope=\"project\" sections={sections} projectId={projectId} />\n      <Button onClick={handleSave}>Save Settings</Button>\n    </div>\n  );\n}\n```\n\n---\n\n## Summary\n\nThe Settings System provides:\n\n✅ **Declarative API** - Define settings in JSX with full type safety\n✅ **Four-tier inheritance** - App → Project → Editor → Viewport\n✅ **Visual feedback** - Source badges and override indicators\n✅ **Automatic persistence** - Built-in Zustand store with Payload sync\n✅ **Code generation** - Types and defaults from declarations\n✅ **Type-safe controls** - All field types with proper validation\n✅ **Reset functionality** - Clear overrides at any scope\n✅ **Flexible composition** - Custom controls and render props\n\n**Next Steps:**\n- [EditorInspector Guide](./editor-inspector)\n- [Component Patterns](../guides/patterns.mdx)\n- [Theming System](../guides/theming.mdx)"
    },
    {
      "path": "registry/molecules/settings-system-demo/SettingsSystemDemo.tsx",
      "language": "tsx",
      "code": "// ShowcaseDemoSurface: docs-only styled container for preview. In your app, wrap in your layout (e.g. a simple div or card).\n\n'use client';\n\nimport * as React from 'react';\nimport { PanelSettings, SettingsTabs } from '@forge/dev-kit';\nimport { ShowcaseDemoSurface } from '../../../demos/harnesses';\n\nexport function SettingsSystemDemo() {\n  const [dense, setDense] = React.useState(true);\n  const [activeTab, setActiveTab] = React.useState('general');\n\n  return (\n    <ShowcaseDemoSurface>\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-xs text-muted-foreground\">Density: {dense ? 'compact' : 'comfortable'}</span>\n          <PanelSettings\n            panelId=\"settings-system-demo\"\n            settings={[\n              {\n                id: 'density',\n                label: 'Compact density',\n                type: 'toggle',\n                value: dense,\n                onChange: (value) => setDense(Boolean(value)),\n              },\n            ]}\n          />\n        </div>\n        <div className=\"h-[180px] rounded-md border border-border/70 p-3\">\n          <SettingsTabs\n            value={activeTab}\n            onValueChange={setActiveTab}\n            tabs={[\n              {\n                id: 'general',\n                label: 'General',\n                content: <div className=\"text-xs text-muted-foreground\">General settings</div>,\n              },\n              {\n                id: 'appearance',\n                label: 'Appearance',\n                content: <div className=\"text-xs text-muted-foreground\">Appearance settings</div>,\n              },\n            ]}\n          />\n        </div>\n      </div>\n    </ShowcaseDemoSurface>\n  );\n}\n"
    },
    {
      "path": "registry/molecules/settings-system-demo/SettingsSystemDemo.consumer.example.tsx",
      "language": "tsx",
      "code": "'use client';\n\nimport * as React from 'react';\nimport { PanelSettings, SettingsTabs } from '@forge/dev-kit';\nexport function SettingsSystemDemo() {\n  const [dense, setDense] = React.useState(true);\n  const [activeTab, setActiveTab] = React.useState('general');\n\n  return (\n    <div className=\"rounded-lg border border-border p-4\">\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-xs text-muted-foreground\">Density: {dense ? 'compact' : 'comfortable'}</span>\n          <PanelSettings\n            panelId=\"settings-system-demo\"\n            settings={[\n              {\n                id: 'density',\n                label: 'Compact density',\n                type: 'toggle',\n                value: dense,\n                onChange: (value) => setDense(Boolean(value)),\n              },\n            ]}\n          />\n        </div>\n        <div className=\"h-[180px] rounded-md border border-border/70 p-3\">\n          <SettingsTabs\n            value={activeTab}\n            onValueChange={setActiveTab}\n            tabs={[\n              {\n                id: 'general',\n                label: 'General',\n                content: <div className=\"text-xs text-muted-foreground\">General settings</div>,\n              },\n              {\n                id: 'appearance',\n                label: 'Appearance',\n                content: <div className=\"text-xs text-muted-foreground\">Appearance settings</div>,\n              },\n            ]}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n"
    }
  ]
};
