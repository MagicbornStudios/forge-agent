import type { Action } from '@forge/shared/components/tool-ui/shared';
import {
  parseSerializableApprovalCard,
  parseSerializableAudio,
  parseSerializableChart,
  parseSerializableCitation,
  parseSerializableCodeBlock,
  parseSerializableDataTable,
  parseSerializableImage,
  parseSerializableImageGallery,
  parseSerializableInstagramPost,
  parseSerializableItemCarousel,
  parseSerializableLinkPreview,
  parseSerializableLinkedInPost,
  parseSerializableMessageDraft,
  parseSerializableOptionList,
  parseSerializableOrderSummary,
  parseSerializableParameterSlider,
  parseSerializablePlan,
  parseSerializablePreferencesPanel,
  parseSerializableProgressTracker,
  parseSerializableQuestionFlow,
  parseSerializableStatsDisplay,
  parseSerializableTerminal,
  parseSerializableVideo,
  parseSerializableWeatherWidget,
  parseSerializableXPost,
} from '@forge/shared/components/tool-ui';

const ISO_NOW = '2026-02-01T09:00:00.000Z';

export const TOOL_UI_FIXTURES = {
  approvalCard: parseSerializableApprovalCard({
    id: 'approval-card-docs',
    role: 'decision',
    title: 'Publish component catalog',
    description: 'Approve publishing this docs release to production.',
    metadata: [
      { key: 'Author', value: 'Forge Docs Bot' },
      { key: 'Scope', value: 'Platform docs' },
    ],
    confirmLabel: 'Approve',
    cancelLabel: 'Reject',
  }),
  audio: parseSerializableAudio({
    id: 'audio-docs-preview',
    role: 'information',
    assetId: 'audio-001',
    src: 'https://storage.googleapis.com/eleven-public-cdn/audio/ui-elevenlabs-io/00.mp3',
    title: 'Narration clip',
    description: 'Mocked narration output for docs preview.',
    createdAt: ISO_NOW,
  }),
  chart: parseSerializableChart({
    id: 'chart-docs-preview',
    role: 'information',
    type: 'line',
    title: 'Weekly component usage',
    xKey: 'day',
    data: [
      { day: 'Mon', usage: 12 },
      { day: 'Tue', usage: 18 },
      { day: 'Wed', usage: 15 },
      { day: 'Thu', usage: 21 },
      { day: 'Fri', usage: 17 },
    ],
    series: [{ key: 'usage', label: 'Usage' }],
  }),
  citation: parseSerializableCitation({
    id: 'citation-docs-preview',
    role: 'information',
    href: 'https://docs.forge.dev/platform/components',
    title: 'Forge Component Showcase',
    snippet: 'Catalog of atoms, editor primitives, assistant-ui and tool-ui families.',
    domain: 'docs.forge.dev',
    publishedAt: ISO_NOW,
  }),
  codeBlock: parseSerializableCodeBlock({
    id: 'code-block-docs-preview',
    role: 'information',
    code: "import { Button } from '@forge/ui';",
    language: 'tsx',
    filename: 'example.tsx',
  }),
  dataTable: parseSerializableDataTable({
    id: 'data-table-docs-preview',
    role: 'information',
    columns: [
      { key: 'component', label: 'Component' },
      { key: 'status', label: 'Status' },
      { key: 'count', label: 'Views', format: { kind: 'number' } },
    ],
    data: [
      { component: 'Button', status: 'Stable', count: 144 },
      { component: 'EditorShell', status: 'Stable', count: 96 },
      { component: 'Thread', status: 'Preview', count: 63 },
    ],
  }),
  image: parseSerializableImage({
    id: 'image-docs-preview',
    role: 'information',
    assetId: 'img-001',
    src: 'https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1200&q=80',
    alt: 'Code editor on a monitor',
    title: 'Docs hero visual',
    description: 'Example visual payload rendered by tool-ui image.',
  }),
  imageGallery: parseSerializableImageGallery({
    id: 'image-gallery-docs-preview',
    role: 'information',
    title: 'Showcase gallery',
    images: [
      {
        id: 'gallery-1',
        src: 'https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&w=1200&q=80',
        alt: 'Laptop with code',
        width: 1200,
        height: 800,
        title: 'Developer workflow',
      },
      {
        id: 'gallery-2',
        src: 'https://images.unsplash.com/photo-1558655146-9f40138edfeb?auto=format&fit=crop&w=1200&q=80',
        alt: 'UI design boards',
        width: 1200,
        height: 800,
        title: 'Design iteration',
      },
    ],
  }),
  instagramPost: parseSerializableInstagramPost({
    id: 'ig-post-docs-preview',
    author: {
      name: 'Forge Team',
      handle: '@forgeagent',
      avatarUrl: 'https://images.unsplash.com/photo-1544005313-94ddf0286df2?auto=format&fit=facearea&w=240&h=240&q=80',
      verified: true,
    },
    text: 'Shipped a fully-rendered component showcase today.',
    media: [
      {
        type: 'image',
        url: 'https://images.unsplash.com/photo-1555066931-4365d14bab8c?auto=format&fit=crop&w=1200&q=80',
        alt: 'Code editor close-up',
      },
    ],
    createdAt: '2h',
  }),
  itemCarousel: parseSerializableItemCarousel({
    id: 'item-carousel-docs-preview',
    title: 'Recommended starter kits',
    items: [
      {
        id: 'starter-1',
        name: 'Platform Docs Kit',
        subtitle: 'Audience nav + showcase',
        image: 'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?auto=format&fit=crop&w=1200&q=80',
      },
      {
        id: 'starter-2',
        name: 'Editor Kit',
        subtitle: 'Shell + docking + tabs',
        image: 'https://images.unsplash.com/photo-1461749280684-dccba630e2f6?auto=format&fit=crop&w=1200&q=80',
      },
    ],
  }),
  linkPreview: parseSerializableLinkPreview({
    id: 'link-preview-docs-preview',
    role: 'information',
    href: 'https://forge.dev/docs/components',
    title: 'Component Showcase',
    description: 'Explore every UI primitive and editor component.',
    domain: 'forge.dev',
    image: 'https://images.unsplash.com/photo-1517430816045-df4b7de11d1d?auto=format&fit=crop&w=1200&q=80',
    createdAt: ISO_NOW,
  }),
  linkedInPost: parseSerializableLinkedInPost({
    id: 'linkedin-post-docs-preview',
    author: {
      name: 'Forge Agent',
      avatarUrl: 'https://images.unsplash.com/photo-1568602471122-7832951cc4c5?auto=format&fit=facearea&w=240&h=240&q=80',
      headline: 'AI-first storytelling platform',
    },
    text: 'Our docs now render every component preview directly from runtime demos.',
    createdAt: 'Today',
  }),
  messageDraft: parseSerializableMessageDraft({
    id: 'message-draft-docs-preview',
    role: 'decision',
    channel: 'email',
    subject: 'Platform docs showcase ready',
    to: ['team@forge.dev'],
    body: 'All component pages now render real previews. Please review.',
  }),
  optionList: parseSerializableOptionList({
    id: 'option-list-docs-preview',
    role: 'decision',
    selectionMode: 'single',
    options: [
      { id: 'platform', label: 'Platform audience' },
      { id: 'developer', label: 'Developer audience' },
      { id: 'full', label: 'Full catalog' },
    ],
    defaultValue: 'platform',
  }),
  orderSummary: parseSerializableOrderSummary({
    id: 'order-summary-docs-preview',
    role: 'decision',
    title: 'Checkout summary',
    items: [
      {
        id: 'kit-1',
        name: 'Forge Docs Pro Kit',
        quantity: 1,
        unitPrice: 99,
      },
    ],
    pricing: {
      subtotal: 99,
      tax: 7.92,
      total: 106.92,
      currency: 'USD',
    },
  }),
  parameterSlider: parseSerializableParameterSlider({
    id: 'parameter-slider-docs-preview',
    role: 'control',
    sliders: [
      {
        id: 'temperature',
        label: 'Creativity',
        min: 0,
        max: 1,
        step: 0.05,
        value: 0.6,
      },
      {
        id: 'maxTokens',
        label: 'Max tokens',
        min: 128,
        max: 2048,
        step: 64,
        value: 1024,
      },
    ],
  }),
  plan: parseSerializablePlan({
    id: 'plan-docs-preview',
    role: 'state',
    title: 'Showcase rollout plan',
    todos: [
      { id: 'scan', label: 'Scan source components', status: 'completed' },
      { id: 'generate', label: 'Generate docs pages', status: 'completed' },
      { id: 'render', label: 'Implement runtime demos', status: 'in_progress' },
    ],
  }),
  preferencesPanel: parseSerializablePreferencesPanel({
    id: 'preferences-panel-docs-preview',
    role: 'control',
    title: 'Display preferences',
    sections: [
      {
        heading: 'Docs',
        items: [
          {
            id: 'compact-mode',
            label: 'Compact density',
            type: 'switch',
            defaultChecked: true,
          },
          {
            id: 'audience',
            label: 'Default audience',
            type: 'toggle',
            options: [
              { value: 'platform', label: 'Platform' },
              { value: 'developer', label: 'Developer' },
            ],
            defaultValue: 'platform',
          },
        ],
      },
    ],
  }),
  progressTracker: parseSerializableProgressTracker({
    id: 'progress-tracker-docs-preview',
    role: 'state',
    steps: [
      { id: 'meta', label: 'Fix meta schema', status: 'completed' },
      { id: 'nav', label: 'Add audience nav', status: 'completed' },
      { id: 'demos', label: 'Render full showcase', status: 'in-progress' },
    ],
    elapsedTime: 284,
  }),
  questionFlow: parseSerializableQuestionFlow({
    id: 'question-flow-docs-preview',
    role: 'decision',
    steps: [
      {
        id: 'audience',
        title: 'Who are these docs for?',
        options: [
          { id: 'platform', label: 'Platform users' },
          { id: 'developer', label: 'Developers' },
        ],
      },
      {
        id: 'depth',
        title: 'How deep should examples go?',
        options: [
          { id: 'overview', label: 'High level' },
          { id: 'detailed', label: 'Implementation details' },
        ],
      },
    ],
  }),
  statsDisplay: parseSerializableStatsDisplay({
    id: 'stats-display-docs-preview',
    role: 'information',
    title: 'Docs engagement',
    stats: [
      {
        key: 'components',
        label: 'Components documented',
        value: 124,
        format: { kind: 'number' },
      },
      {
        key: 'coverage',
        label: 'Demo coverage',
        value: 100,
        format: { kind: 'percent', basis: 'unit' },
      },
    ],
  }),
  terminal: parseSerializableTerminal({
    id: 'terminal-docs-preview',
    role: 'state',
    command: 'pnpm docs:platform:doctor',
    stdout: '[platform-docs-doctor] PASS',
    exitCode: 0,
    durationMs: 483,
  }),
  video: parseSerializableVideo({
    id: 'video-docs-preview',
    role: 'information',
    assetId: 'video-001',
    src: 'https://samplelib.com/lib/preview/mp4/sample-5s.mp4',
    poster: 'https://images.unsplash.com/photo-1518773553398-650c184e0bb3?auto=format&fit=crop&w=1200&q=80',
    title: 'Preview clip',
    durationMs: 5000,
    createdAt: ISO_NOW,
  }),
  weatherWidget: parseSerializableWeatherWidget({
    id: 'weather-widget-docs-preview',
    role: 'information',
    location: 'Austin, TX',
    current: {
      temp: 62,
      tempMin: 55,
      tempMax: 67,
      condition: 'partly-cloudy',
      humidity: 46,
    },
    forecast: [
      { day: 'Fri', tempMin: 54, tempMax: 68, condition: 'partly-cloudy' },
      { day: 'Sat', tempMin: 52, tempMax: 70, condition: 'clear' },
      { day: 'Sun', tempMin: 50, tempMax: 66, condition: 'rain' },
    ],
    unit: 'fahrenheit',
    updatedAt: ISO_NOW,
  }),
  xPost: parseSerializableXPost({
    id: 'x-post-docs-preview',
    author: {
      name: 'Forge Agent',
      handle: '@forgeagent',
      avatarUrl: 'https://images.unsplash.com/photo-1527980965255-d3b416303d12?auto=format&fit=facearea&w=240&h=240&q=80',
      verified: true,
    },
    text: 'Every component docs page now renders a live preview.',
    stats: {
      likes: 142,
      isLiked: true,
    },
    createdAt: '1h',
  }),
} as const;

export const TOOL_UI_SHARED_ACTIONS: Action[] = [
  {
    id: 'approve',
    label: 'Approve',
    variant: 'default',
  },
  {
    id: 'revise',
    label: 'Request changes',
    variant: 'outline',
  },
];
