{
  "runtime": {
    "defaultMode": "auto",
    "reuseByDefault": true,
    "defaultPort": 3864
  },
  "commandPolicy": {
    "mode": "allowlist",
    "sources": [
      "root-scripts",
      "workspace-scripts",
      "forge-builtins"
    ],
    "defaultSources": [
      "forge-builtins",
      "root-scripts"
    ],
    "requireConfirm": true,
    "denyPatterns": [
      "rm -rf",
      "git reset --hard"
    ],
    "disabledCommandIds": [],
    "allowTerminal": true,
    "terminalAllowlistedOnly": true
  },
  "views": {
    "order": [
      "planning",
      "env",
      "commands",
      "story",
      "docs",
      "git",
      "loop-assistant",
      "codex-assistant",
      "diff",
      "code",
      "review-queue"
    ],
    "hidden": [],
    "defaultView": "planning"
  },
  "ui": {
    "defaultTheme": "dark",
    "defaultView": "planning",
    "defaultDensity": "compact"
  },
  "assistant": {
    "enabled": true,
    "defaultEditor": "loop-assistant",
    "editors": [
      "loop-assistant",
      "codex-assistant"
    ],
    "routeMode": "codex",
    "routePath": "/api/assistant-chat",
    "routes": {
      "loop": {
        "mode": "shared-runtime",
        "routePath": "/api/assistant-chat"
      },
      "codex": {
        "mode": "codex",
        "transport": "app-server",
        "execFallbackAllowed": false
      }
    },
    "defaultModel": "gpt-5",
    "attachContextMaxFiles": 6,
    "attachContextMaxChars": 16000,
    "codex": {
      "enabled": true,
      "cliCommand": "codex",
      "authPolicy": "chatgpt-strict",
      "mode": "app-server",
      "transport": "app-server",
      "execFallbackAllowed": false,
      "appServerUrl": "ws://127.0.0.1:3789",
      "defaultModel": "gpt-5",
      "approvalMode": "on-request",
      "sandboxMode": "workspace-write"
    },
    "applyPolicy": {
      "mode": "review-queue",
      "allowPlanningWrites": true,
      "requireApproval": true
    }
  },
  "domains": {
    "story": {
      "roots": [
        "content/story"
      ],
      "scopePolicy": "hard-with-override",
      "naming": {
        "parseMode": "dual",
        "canonicalCreate": "act-01/chapter-01/page-001.md"
      }
    }
  },
  "docs": {
    "paths": {
      "forgeLoop": "packages/forge-loop/docs",
      "forgeEnv": "packages/forge-env/docs",
      "repoStudio": "packages/repo-studio/docs"
    }
  },
  "loop": {
    "paths": {
      "planningRoot": ".planning",
      "phasesDir": ".planning/phases"
    }
  },
  "loops": {
    "defaultLoopId": "default",
    "indexPath": ".planning/LOOPS.json"
  }
}
