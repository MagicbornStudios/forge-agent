:root {
  /* Base shadcn/ui semantic variables */
  --background: var(--color-df-base);
  --foreground: var(--color-df-text-primary);

  --card: var(--color-df-surface);
  --card-foreground: var(--color-df-text-primary);

  --popover: var(--color-df-elevated);
  --popover-foreground: var(--color-df-text-primary);

  --primary: var(--color-df-node-selected);
  --primary-foreground: var(--color-df-text-primary);

  --secondary: var(--color-df-control-bg);
  --secondary-foreground: var(--color-df-text-primary);

  --muted: var(--color-df-control-bg);
  --muted-foreground: var(--color-df-text-tertiary);

  --accent: var(--color-df-control-hover);
  --accent-foreground: var(--color-df-text-primary);

  --destructive: var(--color-df-error);
  --destructive-foreground: var(--color-df-text-primary);

  --border: var(--color-df-control-border);
  --input: var(--color-df-control-border);
  --ring: var(--color-df-node-selected);

  --scrollbar-track: transparent;
  --scrollbar-thumb: var(--color-df-control-border);
  --scrollbar-thumb-hover: var(--color-df-border-hover);

  --radius: 0.6rem;

  /* Shadows */
  --shadow-df-sm: 0 2px 4px oklch(0 0 0 / 0.3);
  --shadow-df-md: 0 4px 8px oklch(0 0 0 / 0.4);
  --shadow-df-lg: 0 8px 16px oklch(0 0 0 / 0.5);
  --shadow-df-glow: 0 0 12px oklch(0.72 0.22 150 / 0.3);

  /* Default theme (dark-fantasy) domain tokens */
  --color-df-base: oklch(0.18 0 0);
  --color-df-surface: oklch(0.22 0 0);
  --color-df-elevated: oklch(0.28 0 0);

  --color-df-node-bg: oklch(0.20 0.03 240);
  --color-df-node-border: oklch(0.35 0.05 220);
  --color-df-node-selected: oklch(0.45 0.12 15);
  --color-df-node-dimmed: oklch(0.15 0.02 250);

  --color-df-npc-bg: oklch(0.26 0.02 45);
  --color-df-npc-border: oklch(0.38 0.03 35);
  --color-df-npc-header: oklch(0.30 0.04 25);
  --color-df-npc-text: oklch(1.0 0 0);
  --color-df-npc-selected: oklch(0.72 0.22 150);

  --color-df-player-bg: oklch(0.26 0.02 280);
  --color-df-player-border: oklch(0.38 0.04 300);
  --color-df-player-header: oklch(0.30 0.05 290);
  --color-df-player-text: oklch(1.0 0 0);
  --color-df-player-selected: oklch(0.72 0.22 150);

  --color-df-conditional-bg: oklch(0.26 0.02 150);
  --color-df-conditional-border: oklch(0.38 0.04 140);
  --color-df-conditional-header: oklch(0.30 0.05 145);
  --color-df-conditional-text: oklch(1.0 0 0);

  --color-df-start: oklch(0.72 0.22 150);
  --color-df-start-bg: oklch(0.28 0.06 150);
  --color-df-end: oklch(0.65 0.18 25);
  --color-df-end-bg: oklch(0.28 0.05 25);

  --color-df-edge-default: oklch(0.42 0 0);
  --color-df-edge-default-hover: oklch(0.72 0.22 150);
  --color-df-edge-choice-1: oklch(0.55 0.12 15);
  --color-df-edge-choice-2: oklch(0.60 0.15 280);
  --color-df-edge-choice-3: oklch(0.58 0.12 200);
  --color-df-edge-choice-4: oklch(0.62 0.12 120);
  --color-df-edge-choice-5: oklch(0.55 0.10 45);
  --color-df-edge-loop: oklch(0.60 0.12 60);
  --color-df-edge-dimmed: oklch(0.32 0 0);
  --edge-choice-1: var(--color-df-edge-choice-1);
  --edge-choice-2: var(--color-df-edge-choice-2);
  --edge-choice-3: var(--color-df-edge-choice-3);
  --edge-choice-4: var(--color-df-edge-choice-4);
  --edge-choice-5: var(--color-df-edge-choice-5);

  --color-df-error: oklch(0.65 0.20 25);
  --color-df-error-bg: oklch(0.28 0.08 25);
  --color-df-warning: oklch(0.70 0.18 70);
  --color-df-warning-bg: oklch(0.28 0.08 70);
  --color-df-success: oklch(0.72 0.22 150);
  --color-df-success-bg: oklch(0.28 0.08 150);
  --color-df-info: oklch(0.65 0.15 220);
  --color-df-info-bg: oklch(0.28 0.06 220);

  --color-df-text-primary: oklch(1.0 0 0);
  --color-df-text-secondary: oklch(0.70 0 0);
  --color-df-text-tertiary: oklch(0.50 0 0);
  --color-df-text-muted: oklch(0.45 0 0);

  --color-df-control-bg: oklch(0.22 0 0);
  --color-df-control-border: oklch(0.32 0 0);
  --color-df-control-hover: oklch(0.26 0 0);
  --color-df-control-active: oklch(0.72 0.22 150);

  --color-df-flag-dialogue: oklch(0.50 0 0);
  --color-df-flag-dialogue-bg: oklch(0.24 0 0);
  --color-df-flag-quest: oklch(0.60 0.15 220);
  --color-df-flag-quest-bg: oklch(0.26 0.05 220);
  --color-df-flag-achievement: oklch(0.70 0.18 70);
  --color-df-flag-achievement-bg: oklch(0.28 0.06 70);
  --color-df-flag-item: oklch(0.72 0.22 150);
  --color-df-flag-item-bg: oklch(0.28 0.06 150);
  --color-df-flag-stat: oklch(0.65 0.18 280);
  --color-df-flag-stat-bg: oklch(0.28 0.06 280);
  --color-df-flag-title: oklch(0.65 0.18 330);
  --color-df-flag-title-bg: oklch(0.28 0.06 330);
  --color-df-flag-global: oklch(0.60 0.15 45);
  --color-df-flag-global-bg: oklch(0.28 0.05 45);

  --color-df-canvas-bg: oklch(0.16 0 0);
  --color-df-canvas-grid: oklch(0.22 0 0);

  --color-df-sidebar-bg: oklch(0.22 0 0);
  --color-df-sidebar-border: oklch(0.32 0 0);
  --color-df-sidebar-border-active: oklch(0.72 0.22 150);
  --color-df-editor-bg: oklch(0.18 0 0);
  --color-df-editor-border: oklch(0.30 0 0);
  --color-df-editor-border-active: oklch(0.72 0.22 150);

  --color-df-border-active: oklch(0.72 0.22 150);
  --color-df-border-hover: oklch(0.50 0.12 150);

  /* Domain accent colors (used by contexts.css) */
  --color-df-domain-forge: var(--color-df-start);
  --color-df-domain-writer: var(--color-df-info);
  --color-df-domain-ai: var(--color-df-success);
  --color-df-domain-video: var(--color-df-edge-choice-2);
  --color-df-domain-character: var(--color-df-edge-choice-1);
}

:is(html[data-theme='dark-fantasy'], [data-theme='dark-fantasy']) {
  /* Base Colors - Spotify style with darker shades */
  --color-df-base: oklch(0.18 0 0);
  --color-df-surface: oklch(0.22 0 0);
  --color-df-elevated: oklch(0.28 0 0);

  /* Node Colors - General */
  --color-df-node-bg: oklch(0.20 0.03 240);
  --color-df-node-border: oklch(0.35 0.05 220);
  --color-df-node-selected: oklch(0.45 0.12 15);
  --color-df-node-dimmed: oklch(0.15 0.02 250);

  /* NPC Node Colors - Subtle warm tones */
  --color-df-npc-bg: oklch(0.26 0.02 45);
  --color-df-npc-border: oklch(0.38 0.03 35);
  --color-df-npc-header: oklch(0.30 0.04 25);
  --color-df-npc-text: oklch(1.0 0 0);
  --color-df-npc-selected: oklch(0.72 0.22 150);

  /* Player Node Colors - Subtle cool tones */
  --color-df-player-bg: oklch(0.26 0.02 280);
  --color-df-player-border: oklch(0.38 0.04 300);
  --color-df-player-header: oklch(0.30 0.05 290);
  --color-df-player-text: oklch(1.0 0 0);
  --color-df-player-selected: oklch(0.72 0.22 150);

  /* Conditional Node Colors - Subtle green */
  --color-df-conditional-bg: oklch(0.26 0.02 150);
  --color-df-conditional-border: oklch(0.38 0.04 140);
  --color-df-conditional-header: oklch(0.30 0.05 145);
  --color-df-conditional-text: oklch(1.0 0 0);

  /* Start/End Badges */
  --color-df-start: oklch(0.72 0.22 150);
  --color-df-start-bg: oklch(0.28 0.06 150);
  --color-df-end: oklch(0.65 0.18 25);
  --color-df-end-bg: oklch(0.28 0.05 25);

  /* Edge Colors */
  --color-df-edge-default: oklch(0.42 0 0);
  --color-df-edge-default-hover: oklch(0.72 0.22 150);
  --color-df-edge-choice-1: oklch(0.55 0.12 15);
  --color-df-edge-choice-2: oklch(0.60 0.15 280);
  --color-df-edge-choice-3: oklch(0.58 0.12 200);
  --color-df-edge-choice-4: oklch(0.62 0.12 120);
  --color-df-edge-choice-5: oklch(0.55 0.10 45);
  --color-df-edge-loop: oklch(0.60 0.12 60);
  --color-df-edge-dimmed: oklch(0.32 0 0);
  --edge-choice-1: var(--color-df-edge-choice-1);
  --edge-choice-2: var(--color-df-edge-choice-2);
  --edge-choice-3: var(--color-df-edge-choice-3);
  --edge-choice-4: var(--color-df-edge-choice-4);
  --edge-choice-5: var(--color-df-edge-choice-5);

  /* Status Colors */
  --color-df-error: oklch(0.65 0.20 25);
  --color-df-error-bg: oklch(0.28 0.08 25);
  --color-df-warning: oklch(0.70 0.18 70);
  --color-df-warning-bg: oklch(0.28 0.08 70);
  --color-df-success: oklch(0.72 0.22 150);
  --color-df-success-bg: oklch(0.28 0.08 150);
  --color-df-info: oklch(0.65 0.15 220);
  --color-df-info-bg: oklch(0.28 0.06 220);

  /* Text Colors */
  --color-df-text-primary: oklch(1.0 0 0);
  --color-df-text-secondary: oklch(0.70 0 0);
  --color-df-text-tertiary: oklch(0.50 0 0);
  --color-df-text-muted: oklch(0.45 0 0);

  /* UI Control Colors */
  --color-df-control-bg: oklch(0.22 0 0);
  --color-df-control-border: oklch(0.32 0 0);
  --color-df-control-hover: oklch(0.26 0 0);
  --color-df-control-active: oklch(0.72 0.22 150);

  /* Flag Colors */
  --color-df-flag-dialogue: oklch(0.50 0 0);
  --color-df-flag-dialogue-bg: oklch(0.24 0 0);
  --color-df-flag-quest: oklch(0.60 0.15 220);
  --color-df-flag-quest-bg: oklch(0.26 0.05 220);
  --color-df-flag-achievement: oklch(0.70 0.18 70);
  --color-df-flag-achievement-bg: oklch(0.28 0.06 70);
  --color-df-flag-item: oklch(0.72 0.22 150);
  --color-df-flag-item-bg: oklch(0.28 0.06 150);
  --color-df-flag-stat: oklch(0.65 0.18 280);
  --color-df-flag-stat-bg: oklch(0.28 0.06 280);
  --color-df-flag-title: oklch(0.65 0.18 330);
  --color-df-flag-title-bg: oklch(0.28 0.06 330);
  --color-df-flag-global: oklch(0.60 0.15 45);
  --color-df-flag-global-bg: oklch(0.28 0.05 45);

  /* Canvas/Background */
  --color-df-canvas-bg: oklch(0.16 0 0);
  --color-df-canvas-grid: oklch(0.22 0 0);

  /* Sidebar/Editor */
  --color-df-sidebar-bg: oklch(0.22 0 0);
  --color-df-sidebar-border: oklch(0.32 0 0);
  --color-df-sidebar-border-active: oklch(0.72 0.22 150);
  --color-df-editor-bg: oklch(0.18 0 0);
  --color-df-editor-border: oklch(0.30 0 0);
  --color-df-editor-border-active: oklch(0.72 0.22 150);

  /* Accent borders */
  --color-df-border-active: oklch(0.72 0.22 150);
  --color-df-border-hover: oklch(0.50 0.12 150);
}

:is(html[data-theme='light'], [data-theme='light']) {
  /* Base Colors */
  --color-df-base: oklch(0.98 0.01 250);
  --color-df-surface: oklch(0.95 0.01 260);
  --color-df-elevated: oklch(0.92 0.01 270);

  /* Node Colors - General */
  --color-df-node-bg: var(--color-df-surface);
  --color-df-node-border: var(--color-df-control-border);
  --color-df-node-selected: var(--color-df-player-selected);
  --color-df-node-dimmed: var(--color-df-control-hover);

  /* NPC Node Colors */
  --color-df-npc-bg: oklch(0.90 0.03 45);
  --color-df-npc-border: oklch(0.60 0.08 35);
  --color-df-npc-header: oklch(0.85 0.05 25);
  --color-df-npc-text: var(--color-df-text-primary);
  --color-df-npc-selected: oklch(0.55 0.15 15);

  /* Player Node Colors */
  --color-df-player-bg: oklch(0.92 0.05 300);
  --color-df-player-border: oklch(0.55 0.15 310);
  --color-df-player-header: oklch(0.88 0.08 290);
  --color-df-player-text: var(--color-df-text-primary);
  --color-df-player-selected: oklch(0.45 0.20 280);

  /* Conditional Node */
  --color-df-conditional-bg: oklch(0.91 0.04 150);
  --color-df-conditional-border: oklch(0.58 0.12 140);
  --color-df-conditional-header: oklch(0.88 0.06 145);
  --color-df-conditional-text: var(--color-df-text-primary);

  /* Start/End */
  --color-df-start: oklch(0.45 0.15 140);
  --color-df-start-bg: oklch(0.90 0.05 140);
  --color-df-end: oklch(0.50 0.15 45);
  --color-df-end-bg: oklch(0.90 0.05 45);

  /* Edges */
  --color-df-edge-default: oklch(0.60 0.03 250);
  --color-df-edge-default-hover: oklch(0.50 0.05 250);
  --color-df-edge-choice-1: oklch(0.50 0.18 15);
  --color-df-edge-choice-2: oklch(0.45 0.20 280);
  --color-df-edge-choice-3: oklch(0.48 0.18 200);
  --color-df-edge-choice-4: oklch(0.42 0.16 120);
  --color-df-edge-choice-5: oklch(0.50 0.15 45);
  --color-df-edge-loop: oklch(0.45 0.15 60);
  --color-df-edge-dimmed: oklch(0.75 0.02 250);
  --edge-choice-1: var(--color-df-edge-choice-1);
  --edge-choice-2: var(--color-df-edge-choice-2);
  --edge-choice-3: var(--color-df-edge-choice-3);
  --edge-choice-4: var(--color-df-edge-choice-4);
  --edge-choice-5: var(--color-df-edge-choice-5);

  /* Status */
  --color-df-error: oklch(0.45 0.22 25);
  --color-df-error-bg: oklch(0.92 0.08 25);
  --color-df-warning: oklch(0.35 0.18 70);
  --color-df-warning-bg: oklch(0.92 0.08 70);
  --color-df-success: oklch(0.40 0.18 150);
  --color-df-success-bg: oklch(0.92 0.08 150);
  --color-df-info: oklch(0.45 0.15 220);
  --color-df-info-bg: oklch(0.92 0.06 220);

  /* Text */
  --color-df-text-primary: oklch(0.15 0.02 250);
  --color-df-text-secondary: oklch(0.35 0.02 250);
  --color-df-text-tertiary: oklch(0.55 0.02 250);
  --color-df-text-muted: var(--color-df-text-tertiary);

  /* UI Controls */
  --color-df-control-bg: oklch(0.95 0.01 260);
  --color-df-control-border: oklch(0.70 0.03 250);
  --color-df-control-hover: oklch(0.88 0.02 250);
  --color-df-control-active: var(--color-df-start);

  /* Flags */
  --color-df-flag-dialogue: oklch(0.55 0.03 250);
  --color-df-flag-dialogue-bg: oklch(0.90 0.01 250);
  --color-df-flag-quest: oklch(0.50 0.15 220);
  --color-df-flag-quest-bg: oklch(0.88 0.05 220);
  --color-df-flag-achievement: oklch(0.40 0.18 70);
  --color-df-flag-achievement-bg: oklch(0.90 0.08 70);
  --color-df-flag-item: oklch(0.45 0.15 150);
  --color-df-flag-item-bg: oklch(0.90 0.05 150);
  --color-df-flag-stat: oklch(0.45 0.18 280);
  --color-df-flag-stat-bg: oklch(0.90 0.08 280);
  --color-df-flag-title: oklch(0.45 0.18 330);
  --color-df-flag-title-bg: oklch(0.90 0.08 330);
  --color-df-flag-global: oklch(0.50 0.15 45);
  --color-df-flag-global-bg: oklch(0.90 0.05 45);

  /* Canvas */
  --color-df-canvas-bg: oklch(0.98 0.01 250);
  --color-df-canvas-grid: oklch(0.85 0.01 250);

  /* Sidebar */
  --color-df-sidebar-bg: oklch(0.95 0.01 260);
  --color-df-sidebar-border: oklch(0.65 0.05 250);
  --color-df-sidebar-border-active: var(--color-df-border-active);
  --color-df-editor-bg: oklch(0.98 0.01 240);
  --color-df-editor-border: oklch(0.70 0.03 250);
  --color-df-editor-border-active: var(--color-df-border-active);

  /* Accent borders */
  --color-df-border-active: var(--color-df-start);
  --color-df-border-hover: var(--color-df-edge-default-hover);
}

:is(html[data-theme='cyberpunk'], [data-theme='cyberpunk']) {
  /* Base Colors */
  --color-df-base: oklch(0.10 0.02 280);
  --color-df-surface: oklch(0.12 0.03 280);
  --color-df-elevated: oklch(0.15 0.04 280);

  /* Node Colors - General */
  --color-df-node-bg: var(--color-df-surface);
  --color-df-node-border: var(--color-df-control-border);
  --color-df-node-selected: var(--color-df-player-selected);
  --color-df-node-dimmed: var(--color-df-edge-dimmed);

  /* NPC Node Colors */
  --color-df-npc-bg: oklch(0.15 0.08 200);
  --color-df-npc-border: oklch(0.50 0.20 200);
  --color-df-npc-header: oklch(0.18 0.10 200);
  --color-df-npc-text: var(--color-df-text-primary);
  --color-df-npc-selected: oklch(0.60 0.25 200);

  /* Player Node Colors */
  --color-df-player-bg: oklch(0.15 0.08 320);
  --color-df-player-border: oklch(0.55 0.25 320);
  --color-df-player-header: oklch(0.18 0.12 320);
  --color-df-player-text: var(--color-df-text-primary);
  --color-df-player-selected: oklch(0.65 0.30 320);

  /* Conditional Node */
  --color-df-conditional-bg: oklch(0.15 0.08 150);
  --color-df-conditional-border: oklch(0.55 0.20 150);
  --color-df-conditional-header: oklch(0.18 0.10 150);
  --color-df-conditional-text: var(--color-df-text-primary);

  /* Start/End */
  --color-df-start: oklch(0.60 0.25 150);
  --color-df-start-bg: oklch(0.20 0.10 150);
  --color-df-end: oklch(0.55 0.25 30);
  --color-df-end-bg: oklch(0.20 0.10 30);

  /* Edges */
  --color-df-edge-default: oklch(0.45 0.15 280);
  --color-df-edge-default-hover: oklch(0.55 0.20 280);
  --color-df-edge-choice-1: oklch(0.60 0.25 0);
  --color-df-edge-choice-2: oklch(0.65 0.30 320);
  --color-df-edge-choice-3: oklch(0.60 0.25 200);
  --color-df-edge-choice-4: oklch(0.65 0.25 150);
  --color-df-edge-choice-5: oklch(0.60 0.25 60);
  --color-df-edge-loop: oklch(0.65 0.25 30);
  --color-df-edge-dimmed: oklch(0.25 0.05 280);
  --edge-choice-1: var(--color-df-edge-choice-1);
  --edge-choice-2: var(--color-df-edge-choice-2);
  --edge-choice-3: var(--color-df-edge-choice-3);
  --edge-choice-4: var(--color-df-edge-choice-4);
  --edge-choice-5: var(--color-df-edge-choice-5);

  /* Status */
  --color-df-error: oklch(0.60 0.25 25);
  --color-df-error-bg: oklch(0.18 0.10 25);
  --color-df-warning: oklch(0.65 0.25 70);
  --color-df-warning-bg: oklch(0.18 0.10 70);
  --color-df-success: oklch(0.60 0.25 150);
  --color-df-success-bg: oklch(0.18 0.10 150);
  --color-df-info: oklch(0.60 0.25 220);
  --color-df-info-bg: oklch(0.18 0.08 220);

  /* Text */
  --color-df-text-primary: oklch(0.90 0.02 280);
  --color-df-text-secondary: oklch(0.70 0.03 280);
  --color-df-text-tertiary: oklch(0.50 0.03 280);
  --color-df-text-muted: var(--color-df-text-tertiary);

  /* UI Controls */
  --color-df-control-bg: oklch(0.12 0.03 280);
  --color-df-control-border: oklch(0.40 0.10 280);
  --color-df-control-hover: oklch(0.18 0.05 280);
  --color-df-control-active: var(--color-df-start);

  /* Flags */
  --color-df-flag-dialogue: oklch(0.50 0.15 280);
  --color-df-flag-dialogue-bg: oklch(0.15 0.05 280);
  --color-df-flag-quest: oklch(0.60 0.25 220);
  --color-df-flag-quest-bg: oklch(0.18 0.08 220);
  --color-df-flag-achievement: oklch(0.65 0.25 70);
  --color-df-flag-achievement-bg: oklch(0.20 0.10 70);
  --color-df-flag-item: oklch(0.60 0.25 150);
  --color-df-flag-item-bg: oklch(0.18 0.08 150);
  --color-df-flag-stat: oklch(0.65 0.30 320);
  --color-df-flag-stat-bg: oklch(0.18 0.12 320);
  --color-df-flag-title: oklch(0.65 0.30 330);
  --color-df-flag-title-bg: oklch(0.18 0.12 330);
  --color-df-flag-global: oklch(0.60 0.25 30);
  --color-df-flag-global-bg: oklch(0.18 0.10 30);

  /* Canvas */
  --color-df-canvas-bg: oklch(0.08 0.01 280);
  --color-df-canvas-grid: oklch(0.15 0.03 280);

  /* Sidebar */
  --color-df-sidebar-bg: oklch(0.12 0.03 280);
  --color-df-sidebar-border: oklch(0.40 0.10 280);
  --color-df-sidebar-border-active: var(--color-df-border-active);
  --color-df-editor-bg: oklch(0.10 0.02 280);
  --color-df-editor-border: oklch(0.35 0.08 280);
  --color-df-editor-border-active: var(--color-df-border-active);

  /* Accent borders */
  --color-df-border-active: var(--color-df-start);
  --color-df-border-hover: var(--color-df-edge-default-hover);
}

:is(html[data-theme='darcula'], [data-theme='darcula']) {
  /* Base Colors */
  --color-df-base: oklch(0.20 0.01 250);
  --color-df-surface: oklch(0.22 0.01 260);
  --color-df-elevated: oklch(0.25 0.01 270);

  /* Node Colors - General */
  --color-df-node-bg: var(--color-df-surface);
  --color-df-node-border: var(--color-df-control-border);
  --color-df-node-selected: var(--color-df-npc-selected);
  --color-df-node-dimmed: var(--color-df-edge-dimmed);

  /* NPC Node Colors - Muted Red */
  --color-df-npc-bg: oklch(0.22 0.03 20);
  --color-df-npc-border: oklch(0.35 0.05 20);
  --color-df-npc-header: oklch(0.25 0.04 20);
  --color-df-npc-text: var(--color-df-text-primary);
  --color-df-npc-selected: oklch(0.60 0.15 20);

  /* Player Node Colors - Muted Blue */
  --color-df-player-bg: oklch(0.22 0.03 240);
  --color-df-player-border: oklch(0.35 0.05 240);
  --color-df-player-header: oklch(0.25 0.04 240);
  --color-df-player-text: var(--color-df-text-primary);
  --color-df-player-selected: oklch(0.60 0.15 240);

  /* Conditional Node - Muted Green */
  --color-df-conditional-bg: oklch(0.22 0.03 150);
  --color-df-conditional-border: oklch(0.35 0.05 150);
  --color-df-conditional-header: oklch(0.25 0.04 150);
  --color-df-conditional-text: var(--color-df-text-primary);

  /* Start/End */
  --color-df-start: oklch(0.55 0.12 150);
  --color-df-start-bg: oklch(0.25 0.04 150);
  --color-df-end: oklch(0.50 0.12 30);
  --color-df-end-bg: oklch(0.25 0.04 30);

  /* Edges */
  --color-df-edge-default: oklch(0.35 0.02 250);
  --color-df-edge-default-hover: oklch(0.50 0.05 250);
  --color-df-edge-choice-1: oklch(0.50 0.12 20);
  --color-df-edge-choice-2: oklch(0.50 0.12 240);
  --color-df-edge-choice-3: oklch(0.50 0.12 150);
  --color-df-edge-choice-4: oklch(0.50 0.12 60);
  --color-df-edge-choice-5: oklch(0.50 0.12 300);
  --color-df-edge-loop: oklch(0.50 0.12 30);
  --color-df-edge-dimmed: oklch(0.25 0.01 250);
  --edge-choice-1: var(--color-df-edge-choice-1);
  --edge-choice-2: var(--color-df-edge-choice-2);
  --edge-choice-3: var(--color-df-edge-choice-3);
  --edge-choice-4: var(--color-df-edge-choice-4);
  --edge-choice-5: var(--color-df-edge-choice-5);

  /* Status */
  --color-df-error: oklch(0.55 0.18 25);
  --color-df-error-bg: oklch(0.25 0.08 25);
  --color-df-warning: oklch(0.60 0.15 70);
  --color-df-warning-bg: oklch(0.25 0.08 70);
  --color-df-success: oklch(0.55 0.12 150);
  --color-df-success-bg: oklch(0.25 0.08 150);
  --color-df-info: oklch(0.55 0.12 220);
  --color-df-info-bg: oklch(0.25 0.06 220);

  /* Text */
  --color-df-text-primary: oklch(0.85 0.01 250);
  --color-df-text-secondary: oklch(0.60 0.01 250);
  --color-df-text-tertiary: oklch(0.45 0.01 250);
  --color-df-text-muted: var(--color-df-text-tertiary);

  /* UI Controls */
  --color-df-control-bg: oklch(0.22 0.01 260);
  --color-df-control-border: oklch(0.30 0.02 250);
  --color-df-control-hover: oklch(0.28 0.02 250);
  --color-df-control-active: var(--color-df-start);

  /* Flags */
  --color-df-flag-dialogue: oklch(0.50 0.02 250);
  --color-df-flag-dialogue-bg: oklch(0.22 0.01 250);
  --color-df-flag-quest: oklch(0.55 0.12 220);
  --color-df-flag-quest-bg: oklch(0.24 0.04 220);
  --color-df-flag-achievement: oklch(0.60 0.15 70);
  --color-df-flag-achievement-bg: oklch(0.25 0.05 70);
  --color-df-flag-item: oklch(0.55 0.12 150);
  --color-df-flag-item-bg: oklch(0.24 0.04 150);
  --color-df-flag-stat: oklch(0.55 0.12 280);
  --color-df-flag-stat-bg: oklch(0.24 0.04 280);
  --color-df-flag-title: oklch(0.55 0.12 330);
  --color-df-flag-title-bg: oklch(0.24 0.04 330);
  --color-df-flag-global: oklch(0.50 0.12 30);
  --color-df-flag-global-bg: oklch(0.24 0.04 30);

  /* Canvas */
  --color-df-canvas-bg: oklch(0.18 0.01 250);
  --color-df-canvas-grid: oklch(0.22 0.01 250);

  /* Sidebar */
  --color-df-sidebar-bg: oklch(0.22 0.01 260);
  --color-df-sidebar-border: oklch(0.30 0.02 250);
  --color-df-sidebar-border-active: var(--color-df-border-active);
  --color-df-editor-bg: oklch(0.20 0.01 240);
  --color-df-editor-border: oklch(0.30 0.02 250);
  --color-df-editor-border-active: var(--color-df-border-active);

  /* Accent borders */
  --color-df-border-active: var(--color-df-start);
  --color-df-border-hover: var(--color-df-edge-default-hover);
}

:is(html[data-theme='high-contrast'], [data-theme='high-contrast']) {
  /* Base Colors */
  --color-df-base: oklch(0.10 0.01 250);
  --color-df-surface: oklch(0.12 0.01 260);
  --color-df-elevated: oklch(0.15 0.01 270);

  /* Node Colors - General */
  --color-df-node-bg: var(--color-df-surface);
  --color-df-node-border: var(--color-df-control-border);
  --color-df-node-selected: var(--color-df-start);
  --color-df-node-dimmed: var(--color-df-edge-dimmed);

  /* NPC Node Colors - Bright Red */
  --color-df-npc-bg: oklch(0.15 0.05 20);
  --color-df-npc-border: oklch(0.50 0.20 20);
  --color-df-npc-header: oklch(0.20 0.08 20);
  --color-df-npc-text: var(--color-df-text-primary);
  --color-df-npc-selected: oklch(0.70 0.25 20);

  /* Player Node Colors - Bright Blue */
  --color-df-player-bg: oklch(0.15 0.05 240);
  --color-df-player-border: oklch(0.50 0.20 240);
  --color-df-player-header: oklch(0.20 0.08 240);
  --color-df-player-text: var(--color-df-text-primary);
  --color-df-player-selected: oklch(0.70 0.25 240);

  /* Conditional Node - Bright Green */
  --color-df-conditional-bg: oklch(0.15 0.05 150);
  --color-df-conditional-border: oklch(0.50 0.20 150);
  --color-df-conditional-header: oklch(0.20 0.08 150);
  --color-df-conditional-text: var(--color-df-text-primary);

  /* Start/End */
  --color-df-start: oklch(0.70 0.20 150);
  --color-df-start-bg: oklch(0.20 0.08 150);
  --color-df-end: oklch(0.70 0.20 30);
  --color-df-end-bg: oklch(0.20 0.08 30);

  /* Edges */
  --color-df-edge-default: oklch(0.60 0.05 250);
  --color-df-edge-default-hover: oklch(0.75 0.10 250);
  --color-df-edge-choice-1: oklch(0.70 0.25 20);
  --color-df-edge-choice-2: oklch(0.70 0.25 240);
  --color-df-edge-choice-3: oklch(0.70 0.25 150);
  --color-df-edge-choice-4: oklch(0.70 0.25 60);
  --color-df-edge-choice-5: oklch(0.70 0.25 300);
  --color-df-edge-loop: oklch(0.70 0.25 30);
  --color-df-edge-dimmed: oklch(0.40 0.02 250);
  --edge-choice-1: var(--color-df-edge-choice-1);
  --edge-choice-2: var(--color-df-edge-choice-2);
  --edge-choice-3: var(--color-df-edge-choice-3);
  --edge-choice-4: var(--color-df-edge-choice-4);
  --edge-choice-5: var(--color-df-edge-choice-5);

  /* Status */
  --color-df-error: oklch(0.70 0.25 25);
  --color-df-error-bg: oklch(0.20 0.10 25);
  --color-df-warning: oklch(0.75 0.20 70);
  --color-df-warning-bg: oklch(0.20 0.10 70);
  --color-df-success: oklch(0.70 0.25 150);
  --color-df-success-bg: oklch(0.20 0.10 150);
  --color-df-info: oklch(0.70 0.25 220);
  --color-df-info-bg: oklch(0.20 0.10 220);

  /* Text */
  --color-df-text-primary: oklch(0.95 0.01 250);
  --color-df-text-secondary: oklch(0.80 0.01 250);
  --color-df-text-tertiary: oklch(0.65 0.01 250);
  --color-df-text-muted: var(--color-df-text-tertiary);

  /* UI Controls */
  --color-df-control-bg: oklch(0.12 0.01 260);
  --color-df-control-border: oklch(0.50 0.05 250);
  --color-df-control-hover: oklch(0.18 0.02 250);
  --color-df-control-active: var(--color-df-start);

  /* Flags */
  --color-df-flag-dialogue: oklch(0.60 0.05 250);
  --color-df-flag-dialogue-bg: oklch(0.15 0.02 250);
  --color-df-flag-quest: oklch(0.70 0.25 220);
  --color-df-flag-quest-bg: oklch(0.20 0.08 220);
  --color-df-flag-achievement: oklch(0.75 0.20 70);
  --color-df-flag-achievement-bg: oklch(0.20 0.10 70);
  --color-df-flag-item: oklch(0.70 0.25 150);
  --color-df-flag-item-bg: oklch(0.20 0.08 150);
  --color-df-flag-stat: oklch(0.70 0.25 280);
  --color-df-flag-stat-bg: oklch(0.20 0.10 280);
  --color-df-flag-title: oklch(0.70 0.25 330);
  --color-df-flag-title-bg: oklch(0.20 0.10 330);
  --color-df-flag-global: oklch(0.70 0.25 30);
  --color-df-flag-global-bg: oklch(0.20 0.08 30);

  /* Canvas */
  --color-df-canvas-bg: oklch(0.08 0.01 250);
  --color-df-canvas-grid: oklch(0.25 0.01 250);

  /* Sidebar */
  --color-df-sidebar-bg: oklch(0.12 0.01 260);
  --color-df-sidebar-border: oklch(0.50 0.05 250);
  --color-df-sidebar-border-active: var(--color-df-border-active);
  --color-df-editor-bg: oklch(0.10 0.01 240);
  --color-df-editor-border: oklch(0.50 0.05 250);
  --color-df-editor-border-active: var(--color-df-border-active);

  /* Accent borders */
  --color-df-border-active: var(--color-df-start);
  --color-df-border-hover: var(--color-df-edge-default-hover);
}

:is(html[data-theme='girly'], [data-theme='girly']) {
  /* Base Colors */
  --color-df-base: oklch(0.18 0.02 330);
  --color-df-surface: oklch(0.20 0.02 340);
  --color-df-elevated: oklch(0.23 0.02 350);

  /* Node Colors - General */
  --color-df-node-bg: var(--color-df-surface);
  --color-df-node-border: var(--color-df-control-border);
  --color-df-node-selected: var(--color-df-npc-selected);
  --color-df-node-dimmed: var(--color-df-edge-dimmed);

  /* NPC Node Colors - Soft Pink */
  --color-df-npc-bg: oklch(0.25 0.05 350);
  --color-df-npc-border: oklch(0.45 0.12 350);
  --color-df-npc-header: oklch(0.28 0.08 350);
  --color-df-npc-text: var(--color-df-text-primary);
  --color-df-npc-selected: oklch(0.65 0.20 350);

  /* Player Node Colors - Soft Purple */
  --color-df-player-bg: oklch(0.25 0.05 300);
  --color-df-player-border: oklch(0.45 0.12 300);
  --color-df-player-header: oklch(0.28 0.08 300);
  --color-df-player-text: var(--color-df-text-primary);
  --color-df-player-selected: oklch(0.65 0.20 300);

  /* Conditional Node - Soft Mint */
  --color-df-conditional-bg: oklch(0.25 0.05 180);
  --color-df-conditional-border: oklch(0.45 0.12 180);
  --color-df-conditional-header: oklch(0.28 0.08 180);
  --color-df-conditional-text: var(--color-df-text-primary);

  /* Start/End */
  --color-df-start: oklch(0.65 0.18 180);
  --color-df-start-bg: oklch(0.28 0.08 180);
  --color-df-end: oklch(0.60 0.18 20);
  --color-df-end-bg: oklch(0.28 0.08 20);

  /* Edges */
  --color-df-edge-default: oklch(0.45 0.05 330);
  --color-df-edge-default-hover: oklch(0.55 0.10 330);
  --color-df-edge-choice-1: oklch(0.60 0.18 350);
  --color-df-edge-choice-2: oklch(0.60 0.18 300);
  --color-df-edge-choice-3: oklch(0.60 0.18 180);
  --color-df-edge-choice-4: oklch(0.60 0.18 60);
  --color-df-edge-choice-5: oklch(0.60 0.18 20);
  --color-df-edge-loop: oklch(0.60 0.18 30);
  --color-df-edge-dimmed: oklch(0.30 0.02 330);
  --edge-choice-1: var(--color-df-edge-choice-1);
  --edge-choice-2: var(--color-df-edge-choice-2);
  --edge-choice-3: var(--color-df-edge-choice-3);
  --edge-choice-4: var(--color-df-edge-choice-4);
  --edge-choice-5: var(--color-df-edge-choice-5);

  /* Status */
  --color-df-error: oklch(0.60 0.20 20);
  --color-df-error-bg: oklch(0.25 0.08 20);
  --color-df-warning: oklch(0.70 0.18 70);
  --color-df-warning-bg: oklch(0.25 0.08 70);
  --color-df-success: oklch(0.60 0.18 150);
  --color-df-success-bg: oklch(0.25 0.08 150);
  --color-df-info: oklch(0.60 0.18 220);
  --color-df-info-bg: oklch(0.25 0.08 220);

  /* Text */
  --color-df-text-primary: oklch(0.85 0.02 330);
  --color-df-text-secondary: oklch(0.65 0.02 330);
  --color-df-text-tertiary: oklch(0.50 0.02 330);
  --color-df-text-muted: var(--color-df-text-tertiary);

  /* UI Controls */
  --color-df-control-bg: oklch(0.20 0.02 340);
  --color-df-control-border: oklch(0.40 0.05 330);
  --color-df-control-hover: oklch(0.25 0.03 330);
  --color-df-control-active: var(--color-df-start);

  /* Flags */
  --color-df-flag-dialogue: oklch(0.50 0.05 330);
  --color-df-flag-dialogue-bg: oklch(0.22 0.02 330);
  --color-df-flag-quest: oklch(0.60 0.18 220);
  --color-df-flag-quest-bg: oklch(0.25 0.08 220);
  --color-df-flag-achievement: oklch(0.70 0.18 70);
  --color-df-flag-achievement-bg: oklch(0.28 0.10 70);
  --color-df-flag-item: oklch(0.60 0.18 150);
  --color-df-flag-item-bg: oklch(0.25 0.08 150);
  --color-df-flag-stat: oklch(0.60 0.18 300);
  --color-df-flag-stat-bg: oklch(0.25 0.08 300);
  --color-df-flag-title: oklch(0.60 0.18 350);
  --color-df-flag-title-bg: oklch(0.25 0.08 350);
  --color-df-flag-global: oklch(0.60 0.18 20);
  --color-df-flag-global-bg: oklch(0.25 0.08 20);

  /* Canvas */
  --color-df-canvas-bg: oklch(0.15 0.01 330);
  --color-df-canvas-grid: oklch(0.22 0.02 330);

  /* Sidebar */
  --color-df-sidebar-bg: oklch(0.20 0.02 340);
  --color-df-sidebar-border: oklch(0.40 0.05 330);
  --color-df-sidebar-border-active: var(--color-df-border-active);
  --color-df-editor-bg: oklch(0.18 0.02 330);
  --color-df-editor-border: oklch(0.40 0.05 330);
  --color-df-editor-border-active: var(--color-df-border-active);

  /* Accent borders */
  --color-df-border-active: var(--color-df-start);
  --color-df-border-hover: var(--color-df-edge-default-hover);
}
