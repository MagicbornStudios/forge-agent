---
title: Workspace to Editor migration
created: 2026-02-07
updated: 2026-02-07
---

# Workspace to Editor migration

This guide maps old Workspace naming to the new Editor platform primitives and provides a checklist to migrate existing modes.

## Naming map

| Old name | New name | Purpose |
|---|---|---|
| `AppSpace` | `EditorApp` | App frame, tabs, and content slots. |
| `WorkspaceShell` | `EditorShell` | Mode root (layout + data attributes). |
| `WorkspaceHeader` | `ModeHeader` | Header slots. |
| `WorkspaceToolbar` | `ModeToolbar` | Toolbar slots, groups, buttons. |
| `WorkspaceLayoutGrid` | `DockLayout` | Resizable dock layout. |
| `WorkspaceStatusBar` | `ModeStatusBar` | Status bar. |
| `WorkspaceOverlaySurface` | `ModeOverlaySurface` | Overlay host. |
| `WorkspaceReviewBar` | `ModeReviewBar` | Plan review bar. |
| `WorkspaceButton` | `EditorButton` | Tooltip-enabled button. |
| `WorkspaceTooltip` | `EditorTooltip` | Tooltip wrapper. |
| `WorkspaceSidebar` | `DockSidebar` | Sidebar wrapper in dock panels. |
| `WorkspaceTabGroup` / `GraphSidebar` | `PanelTabs` | Tabs inside a dock panel. |
| `WorkspaceEditor` | `ViewportMeta` | Metadata wrapper for editor surfaces. |

## Mode renames

| Old mode | New mode | Notes |
|---|---|---|
| ForgeWorkspace | DialogueMode | YarnSpinner dialogue editor; `data-domain="dialogue"`. |
| VideoWorkspace | VideoMode | Twick timeline editor. |
| CharacterWorkspace | CharacterMode | Character graph editor. |
| AppShellWorkspaceId | EditorModeId | `useEditorStore` alias maintained. |

## Compatibility

- `packages/shared/src/shared/components/workspace/index.ts` re-exports deprecated aliases for the old names.
- `apps/studio/lib/app-shell/store.ts` keeps `AppShellWorkspaceId` as a deprecated alias for `EditorModeId`.
- `apps/studio/lib/app-shell/workspace-metadata.ts` re-exports `mode-metadata.ts`.

## Migration checklist

1. Update imports in each mode from `@forge/shared/components/workspace` to `@forge/shared/components/editor`.
2. Replace `WorkspaceLayoutGrid` with `DockLayout` and move left/right/bottom panels into `DockPanel` wrappers.
3. Replace sidebars with `DockPanel` + `PanelTabs`.
4. Wrap the main editor surface in `ViewportMeta` and set `viewport={{ editorId, editorType }}` on `DockLayout`.
5. Ensure `EditorShell` has the correct `modeId`, `domain`, and `theme` props.
6. Replace `WorkspaceReviewBar` with `ModeReviewBar` between toolbar and layout.
7. Replace `WorkspaceOverlaySurface` with `ModeOverlaySurface` at the bottom of the shell.
8. Update settings keys for panel visibility and editor lock:
   - `editor.locked`
   - `panel.visible.<panelId>`
9. Update any app-level references to `EditorModeId` and use `useEditorStore`.

## Example

```tsx
import {
  EditorShell,
  ModeHeader,
  ModeToolbar,
  ModeStatusBar,
  ModeReviewBar,
  ModeOverlaySurface,
  DockLayout,
  DockPanel,
  PanelTabs,
} from '@forge/shared/components/editor';

export function DialogueMode() {
  return (
    <EditorShell modeId="dialogue" title="Dialogue" domain="dialogue">
      <ModeHeader>...</ModeHeader>
      <ModeToolbar>...</ModeToolbar>
      <ModeReviewBar visible={false} />
      <DockLayout
        left={<DockPanel panelId="dialogue-left" tabs={[]} />}
        main={<DockPanel panelId="dialogue-main" scrollable={false}>...</DockPanel>}
        right={<DockPanel panelId="dialogue-right">...</DockPanel>}
        viewport={{ editorId: 'dialogue-graph', editorType: 'react-flow' }}
        layoutId="dialogue-mode"
      />
      <ModeStatusBar>Ready</ModeStatusBar>
      <ModeOverlaySurface overlays={[]} activeOverlay={null} onDismiss={() => {}} />
    </EditorShell>
  );
}
```

## Data domains

`data-domain="dialogue"` maps to the same theme tokens as Forge. Backend project `domain` values are still `forge` for continuity; the UI domain string is separate.
