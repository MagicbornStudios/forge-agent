# Plan 17-04: Deployment matrix and CI

## Goal

Produce a one-page deployment matrix: what deploys where (docs Vercel, platform Vercel, npm publish, GitHub Releases), which repo triggers which deploy, and the env/URL matrix (e.g. platform's NEXT_PUBLIC_DOCS_APP_URL = docs Vercel URL). Update the release workflow so it does not depend on in-repo apps/platform once platform is submodule (either build from vendor/platform or drop platform build from forge-agent and document that platform CI lives in RepoStudio-Platform). Update STATE and DECISIONS.

## Scope

- **Deployment matrix doc:** One-page summary (in .planning or docs): forge-agent → docs (Vercel), shared packages (npm), Electron (GitHub Releases); RepoStudio-Platform → platform (Vercel). Which repo, which deploy, env vars (NEXT_PUBLIC_DOCS_APP_URL, etc.).
- **Release workflow:** When apps/platform is removed/archived, either: (a) init vendor/platform and run platform build from submodule in verify job, or (b) drop platform build from forge-agent verify and document that platform build/CI is in RepoStudio-Platform repo. Choose and implement.
- **STATE.md / DECISIONS.md:** Update with Phase 17 outcomes and deployment summary.

## Tasks

| ID | Task | Status |
|----|------|--------|
| FRG-1708 | Deployment matrix doc: docs (Vercel), platform (Vercel), npm, Electron (Releases); repos and env/URL matrix; update STATE/DECISIONS | Pending |

## Done criteria

- Deployment matrix documented.
- Release workflow no longer depends on in-repo apps/platform; behavior documented.
- STATE and DECISIONS updated for Phase 17.
