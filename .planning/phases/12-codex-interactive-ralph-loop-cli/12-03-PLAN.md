---
phase: 12-codex-interactive-ralph-loop-cli
plan: 03
wave: 3
depends_on:
  - 12-01
  - 12-02
files_modified:
  - packages/forge-loop/src/commands/interactive.mjs
  - packages/forge-loop/src/tui/
  - packages/forge-loop/src/cli.mjs
  - packages/forge-loop/package.json
  - packages/forge-loop/tsup.config.ts
autonomous: true
must_haves:
  truths:
    - "`forge-loop interactive` exists and supports `--phase`, `--mode`, `--runner`, and `--json`."
    - "Interactive flow can run single-loop sequential cadence with codex or prompt-pack runtime."
  artifacts:
    - path: ".planning/phases/12-codex-interactive-ralph-loop-cli/12-03-SUMMARY.md"
      provides: "Interactive command and TUI implementation summary."
      min_lines: 10
  key_links:
    - from: ".planning/ROADMAP.md"
      to: ".planning/phases/12-codex-interactive-ralph-loop-cli/12-03-SUMMARY.md"
      via: "interactive CLI capability trace"
---

<objective>
Add an Ink-based `forge-loop interactive` command that runs discuss/plan/execute/verify/progress/sync in one loop-first UI flow.
</objective>

<context>
@packages/forge-loop/src/cli.mjs
@packages/forge-loop/src/commands/progress.mjs
@packages/forge-loop/src/lib/runtime/resolver.mjs
</context>

<tasks>
<task type="auto">
  <name>Add interactive command orchestration</name>
  <files>packages/forge-loop/src/commands/interactive.mjs, packages/forge-loop/src/cli.mjs</files>
  <action>Implement command dispatch for discuss/plan/execute/verify/full modes with phase + loop context support.</action>
  <verify>`forge-loop interactive --json` emits machine-readable stage outputs and next action metadata.</verify>
  <done>Interactive command is available without breaking existing CLI behavior.</done>
</task>

<task type="auto">
  <name>Implement Ink TUI and build pipeline</name>
  <files>packages/forge-loop/src/tui/*, packages/forge-loop/package.json, packages/forge-loop/tsup.config.ts</files>
  <action>Add minimal Ink UI panels (status, mode, stream, summary) and wire build scripts/dependencies for TUI compilation.</action>
  <verify>`pnpm --filter @forge/forge-loop build` succeeds and includes TUI build artifacts.</verify>
  <done>Interactive mode has a terminal UI path and remains scriptable via `--json`.</done>
</task>
</tasks>

