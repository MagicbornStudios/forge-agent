---
phase: 06-workspace-contributions-and-ide-navigation-core
plan: 04
wave: 4
depends_on:
  - '06-03'
files_modified:
  - apps/repo-studio/src/components/features/code/*
  - apps/repo-studio/src/components/features/git/*
  - apps/repo-studio/scripts/check-direct-fetch.mjs
  - apps/repo-studio/package.json
  - packages/repo-studio/README.md
autonomous: true
must_haves:
  truths:
    - "Navigator/open-file surfaces must include git status decorations for changed/new files."
    - "Direct fetch detection guard is warning-only in this phase and must not fail CI by default."
  artifacts:
    - path: ".planning/phases/06-workspace-contributions-and-ide-navigation-core/06-04-SUMMARY.md"
      provides: "Git decorations, publish parity, and fetch-guard execution summary."
      min_lines: 14
  key_links:
    - from: ".planning/ANALYSIS-REFERENCES.md"
      to: "repo_studio_analysis/PARITY-CHART.md"
      via: "publish parity + workspace quality alignment"
---

<objective>
Add git status decorations in navigator/open-files and align package publish scripts/docs.
</objective>

<context>
@.planning/ANALYSIS-REFERENCES.md
@repo_studio_analysis/PARITY-CHART.md
@ide_navigation_analysis/DECISIONS.md
</context>

<tasks>
<task type="auto">
  <name>Add git status decorations to navigator and code file surfaces</name>
  <files>apps/repo-studio/src/components/features/code/*; apps/repo-studio/src/components/features/git/*</files>
  <action>Decorate file tree/open-file selectors with git status metadata and keep refresh behavior deterministic.</action>
  <verify>Changed/new files are visually identifiable without opening Git workspace.</verify>
  <done>Git decorations are available in IDE navigation workflows.</done>
</task>

<task type="auto">
  <name>Add warning-only direct fetch guard and publish parity docs</name>
  <files>apps/repo-studio/scripts/check-direct-fetch.mjs; apps/repo-studio/package.json; packages/repo-studio/README.md</files>
  <action>Implement scan script for client fetch usage in components/hooks and add npm script entry; document publish parity expectations.</action>
  <verify>Guard script reports file/line offenders and exits success by default (strict mode optional).</verify>
  <done>Phase 06 quality guardrails are in place without breaking current CI defaults.</done>
</task>

<task type="auto">
  <name>Update loop artifacts and close phase</name>
  <files>.planning/STATE.md; .planning/TASK-REGISTRY.md; .planning/DECISIONS.md; .planning/ERRORS.md; .planning/ROADMAP.md</files>
  <action>Record phase outcomes and move REQ-19/REQ-20 to complete after strict verification passes.</action>
  <verify>`forge-loop verify-work 06 --strict` passes and `forge-loop progress --json` advances to phase 07.</verify>
  <done>Phase 06 is closed with summaries and traceability intact.</done>
</task>
</tasks>
