---
phase: 02-repostudio-command-center
plan: 02
wave: 2
depends_on: ['02-01']
files_modified: []
autonomous: true
must_haves:
  truths:
    - "RepoStudio package/app surfaces are available for local and publishable workflows."
    - "Env workspace and command runner use Studio-style patterns and safe execution policy."
  artifacts:
    - path: ".planning/phases/02-repostudio-command-center/02-02-SUMMARY.md"
      provides: "Execution summary for RepoStudio package and workspace implementation."
      min_lines: 12
  key_links:
    - from: ".planning/ROADMAP.md"
      to: ".planning/phases/02-repostudio-command-center/02-02-SUMMARY.md"
      via: "phase-to-summary traceability"
---

<objective>
Ship RepoStudio package and monorepo app shell with Env and Commands workspaces.
</objective>

<context>
@packages/forge-env/src
@packages/forge-loop/src
@packages/shared/src/shared/components
@packages/ui/src
</context>

<tasks>
<task type="auto">
  <name>Create @forge/repo-studio package and CLI/runtime</name>
  <files>packages/repo-studio/*</files>
  <action>Scaffold package bin, config handling, local server runtime, and first-run command surface (`open`, `doctor`, `run`).</action>
  <verify>repo-studio commands run locally and return structured output.</verify>
  <done>Package can launch RepoStudio runtime with one command.</done>
</task>

<task type="auto">
  <name>Create monorepo RepoStudio app shell</name>
  <files>apps/repo-studio/*</files>
  <action>Add Studio-style app shell that consumes shared editor/app primitives and reserves right sidebar for settings.</action>
  <verify>App shell starts and exposes main workspace tabs.</verify>
  <done>Env and Commands workspaces render in app surface.</done>
</task>

<task type="auto">
  <name>Implement safe command center policy</name>
  <files>packages/repo-studio/src/*</files>
  <action>Build allowlist from root/workspace scripts, enforce confirmation, and block deny patterns.</action>
  <verify>Only allowed commands run and blocked commands return explicit errors.</verify>
  <done>Command runner is safe-by-default.</done>
</task>
</tasks>
