---
phase: 02-repostudio-command-center
plan: 06
wave: 6
depends_on: ['02-05']
files_modified: []
autonomous: true
must_haves:
  truths:
    - "RepoStudio command center remains usable at large script counts with tabs, filters, status views, and explicit stop controls."
    - "Per-command allow/disallow state is editable in UI and persisted to local overrides without destructive resets."
  artifacts:
    - path: ".planning/phases/02-repostudio-command-center/02-06-SUMMARY.md"
      provides: "Execution summary for command center UX hardening and terminal control behavior."
      min_lines: 12
  key_links:
    - from: ".planning/ROADMAP.md"
      to: ".planning/phases/02-repostudio-command-center/02-06-SUMMARY.md"
      via: "phase-to-summary traceability"
---

<objective>
Harden RepoStudio command center UX for repeatable, safe, large-scale command operations.
</objective>

<context>
@apps/repo-studio/src/components
@apps/repo-studio/app/api/repo/commands
@apps/repo-studio/app/api/repo/runs
@packages/repo-studio/src/lib/policy.mjs
</context>

<tasks>
<task type="auto">
  <name>Implement command tabs/filter/search/status UX</name>
  <files>apps/repo-studio/src/components/RepoStudioShell.tsx</files>
  <action>Expose Recommended/All/Blocked tabs, source/status filters, sorting, and persisted command-view state.</action>
  <verify>Large command lists remain navigable and filterable.</verify>
  <done>Command center is usable at scale.</done>
</task>

<task type="auto">
  <name>Wire per-command allow/disallow toggles</name>
  <files>apps/repo-studio/src/components/RepoStudioShell.tsx, apps/repo-studio/app/api/repo/commands/toggle/route.ts</files>
  <action>Allow toggling command enable/disable and refresh list state from policy source-of-truth.</action>
  <verify>Toggled IDs persist in local overrides and enforce blocked runs.</verify>
  <done>Users can control command policy in-UI.</done>
</task>

<task type="auto">
  <name>Add allowlisted run stream and stop controls</name>
  <files>apps/repo-studio/src/lib/run-manager.ts, apps/repo-studio/app/api/repo/runs/**</files>
  <action>Run allowlisted commands with live stream updates and explicit stop action.</action>
  <verify>Run can be started, streamed, and stopped from UI safely.</verify>
  <done>Terminal control loop is explicit and controllable.</done>
</task>
</tasks>
