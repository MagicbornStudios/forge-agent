# Plan 18-01: Open Router proxy on platform

## Goal

Platform exposes a chat/proxy endpoint for Open Router. When Repo Studio is connected to the platform, it calls the platform proxy instead of Open Router directly. Platform uses `OPENROUTER_API_KEY` (set by human in Vercel; see HUMAN-TASKS.md).

## Scope

- Add platform API route(s) that accept Repo Studio chat requests (authenticated by existing desktop/platform auth) and forward to Open Router with platform-held API key.
- Repo Studio client: when `capabilities.openRouterProxy` is true, use platform proxy URL for chat; otherwise use existing local/OpenRouter path.
- No user-held Open Router key required when using platform proxy.

## Out of scope

- Changing platform auth model (existing API key / session remains).
- Extension install proxy (18-02).

## Tasks

| ID | Task | Status |
|----|------|--------|
| FRG-1801 | Platform: add Open Router proxy endpoint(s); forward request/stream to Open Router with OPENROUTER_API_KEY | Pending |
| FRG-1802 | Platform: gate proxy on valid desktop/platform auth (reuse existing validation) | Pending |
| FRG-1803 | Repo Studio: when capabilities.openRouterProxy, call platform proxy for assistant chat; else existing behavior | Pending |

## Done criteria

- Platform proxy endpoint deployed and documented.
- Repo Studio uses proxy when connected and capability is set.
- HUMAN-TASKS HT-04 (Vercel OPENROUTER_API_KEY) documented; implementation does not assume key exists until human sets it.
