---
phase: 03-multi-loop-orchestration-and-dual-assistant-editors
plan: 03
wave: 3
depends_on:
  - '03-01'
  - '03-02'
files_modified:
  - apps/repo-studio/app/api/repo/diff/status/route.ts
  - apps/repo-studio/app/api/repo/diff/file/route.ts
  - apps/repo-studio/src/components/features/diff/DiffWorkspace.tsx
  - packages/forge-loop/README.md
  - packages/repo-studio/README.md
autonomous: true
must_haves:
  truths:
    - "RepoStudio provides read-first Monaco diff inspection with safe API path validation."
    - "Diff context can be attached to assistant workflows without direct write/apply side effects."
  artifacts:
    - path: ".planning/phases/03-multi-loop-orchestration-and-dual-assistant-editors/03-03-SUMMARY.md"
      provides: "Execution summary for diff workspace and docs/test hardening."
      min_lines: 10
  key_links:
    - from: ".planning/ROADMAP.md"
      to: ".planning/phases/03-multi-loop-orchestration-and-dual-assistant-editors/03-03-SUMMARY.md"
      via: "phase-to-summary traceability"
---

<objective>
Deliver read-first diff tooling and complete docs/tests that explain loop switching + dual-assistant usage patterns.
</objective>

<context>
@apps/repo-studio/app/api/repo/diff
@apps/repo-studio/src/components/features/diff
@packages/forge-loop/docs
@packages/repo-studio/docs
</context>

<tasks>
<task type="auto">
  <name>Ship diff APIs and Monaco diff panel</name>
  <files>apps/repo-studio/app/api/repo/diff/*, apps/repo-studio/src/components/features/diff/DiffWorkspace.tsx</files>
  <action>Provide file-status listing and file diff payload APIs, then render structured diff UI with attach-to-assistant action.</action>
  <verify>Changed file can be selected, rendered in Monaco diff view, and attached as assistant context.</verify>
  <done>RepoStudio no longer requires raw terminal output for diff inspection.</done>
</task>

<task type="auto">
  <name>Harden docs and coverage for Phase 03 behaviors</name>
  <files>packages/forge-loop/README.md, packages/repo-studio/README.md, packages/forge-loop/src/__tests__/*, apps/repo-studio/*</files>
  <action>Document loop commands, loop switching, dual assistants, and codex fallback behavior; add/update tests where gaps remain.</action>
  <verify>Build/test suite passes and docs reflect actual command/UI behavior.</verify>
  <done>Human and coding-agent operators can run Phase 03 flow without ambiguity.</done>
</task>
</tasks>

