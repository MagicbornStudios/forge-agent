---
phase: 10-repostudio-build-and-runtime-guardrails
plan: 03
wave: 3
depends_on:
  - '10-02'
files_modified:
  - package.json
  - packages/repo-studio/docs/01-quickstart.md
  - packages/repo-studio/README.md
autonomous: true
must_haves:
  truths:
    - "RepoStudio local dev startup must fail fast when doctor reports dependency readiness failures."
    - "Pre-dev checks must stay lightweight and deterministic."
    - "Outputs must keep Forge Loop artifacts traceable and deterministic for repeat runs."
  artifacts:
    - path: ".planning/phases/10-repostudio-build-and-runtime-guardrails/10-03-SUMMARY.md"
      provides: "RepoStudio dev precheck hardening summary."
      min_lines: 10
  key_links:
    - from: "package.json"
      to: ".planning/phases/10-repostudio-build-and-runtime-guardrails/10-03-SUMMARY.md"
      via: "dev workflow contract traceability"
---

<objective>
Add a fail-fast doctor precheck for RepoStudio development startup.
</objective>

<context>
@package.json
@packages/repo-studio/src/cli.mjs
@packages/repo-studio/docs
</context>

<tasks>
<task type="auto">
  <name>Add predev guard for RepoStudio startup</name>
  <files>package.json</files>
  <action>Add `predev:repo-studio` invoking `pnpm forge-repo-studio doctor`, and keep `dev:repo-studio` unchanged.</action>
  <verify>`pnpm dev:repo-studio` fails before Next startup when doctor reports unhealthy dependency state.</verify>
  <done>Developers receive deterministic remediation before launching the app runtime.</done>
</task>

<task type="auto">
  <name>Update RepoStudio runbooks for pre-dev checks</name>
  <files>packages/repo-studio/docs/01-quickstart.md, packages/repo-studio/README.md</files>
  <action>Document fail-fast precheck behavior and explicit remediation command sequence.</action>
  <verify>Runbooks describe why startup can fail and how to fix dependency drift quickly.</verify>
  <done>Operator docs match startup behavior and reduce repeated setup confusion.</done>
</task>

<task type="auto">
  <name>Update loop artifacts and traceability</name>
  <files>.planning/STATE.md, .planning/TASK-REGISTRY.md, .planning/DECISIONS.md, .planning/ERRORS.md</files>
  <action>Record outcomes, blockers, and requirement trace links for this plan wave.</action>
  <verify>forge-loop progress --json reflects current plan/task routing accurately.</verify>
  <done>Loop state and roadmap remain consistent with implementation state.</done>
</task>
</tasks>
